/*! For license information please see main.f848e2b5.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),i=n(7498),a=n(3279);e.exports=function(e){return e&&e.length?r(e,a,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),a=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&a(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[a,o,s].join("|")+")"+c+l+")*"),d="(?:"+[a+r+"?",r,o,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,a,o,s){var l=-1,c=t.length;for(a||(a=i),s||(s=[]);++l<c;){var u=t[l];n>0&&a(u)?n>1?e(u,n-1,a,o,s):r(s,u):o||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),a=n(9841),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),a=n(9194),o=n(6686);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&a(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),a=n(6832),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),a=n(9096);e.exports=function(e,t){var n={};return t=a(t,3),i(e,function(e,i,a){r(n,i,t(e,i,a))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),a=n(2761),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),a=n(9140),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:a(n);return l<0&&(l=o(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),a=n(9096),o=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=r(t,l(a));var f=o(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return s(f,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case k:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,Se=null;function ke(e){if(e=xi(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),je(e.stateNode,e.type,t))}}function Ee(e){Ne?Se?Se.push(e):Se=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=Se;if(Se=Ne=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Oe(e,t){return e(t)}function Ae(){}var Te=!1;function Ce(e,t,n){if(Te)return e(t,n);Te=!0;try{return Oe(e,t,n)}finally{Te=!1,(null!==Ne||null!==Se)&&(Ae(),_e())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Me(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Ue=null,Be={onError:function(e){Re=!0,Le=e}};function Ve(e,t,n,r,i,a,o,s,l){Re=!1,Le=null,Me.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,St,kt,Et=!1,_t=[],Ot=null,At=null,Tt=null,Ct=new Map,It=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Et=!1,null!==Ot&&Ft(Ot)&&(Ot=null),null!==At&&Ft(At)&&(At=null),null!==Tt&&Ft(Tt)&&(Tt=null),Ct.forEach(Ut),It.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<_t.length){Vt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Vt(Ot,e),null!==At&&Vt(At,e),null!==Tt&&Vt(Tt,e),Ct.forEach(t),It.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=xt,a=qt.transition;qt.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=i,qt.transition=a}}function Gt(e,t,n,r){var i=xt,a=qt.transition;qt.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=i,qt.transition=a}}function Kt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=Rt(Ot,e,t,n,r,i),!0;case"dragenter":return At=Rt(At,e,t,n,r,i),!0;case"mouseover":return Tt=Rt(Tt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ct.set(a,Rt(Ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,It.set(a,Rt(It.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=xi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=vi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(L({},fn,{dataTransfer:0})),yn=an(L({},dn,{relatedTarget:0})),gn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(vn),bn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function kn(){return Sn}var En=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(En),On=an(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Tn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(Cn),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Fr(e,0)}function Qn(e){if(K(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Ce(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==yr||yr!==Y(r)||("selectionStart"in(r=yr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},Sr={};function kr(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Nr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Er=kr("animationend"),_r=kr("animationiteration"),Or=kr("animationstart"),Ar=kr("transitionend"),Tr=new Map,Cr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Tr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Cr.length;Pr++){var Dr=Cr[Pr];Ir(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ir(Er,"onAnimationEnd"),Ir(_r,"onAnimationIteration"),Ir(Or,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(Ve.apply(this,arguments),Re){if(!Re)throw Error(a(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=vi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Ce(function(){var r=a,i=we(n),o=[];e:{var s=Tr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Er:case _r:case Or:l=gn;break;case Ar:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ie(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:bi(l),f=null==c?s:bi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Yr(o,s,l,u,!1),null!==c&&null!==d&&Yr(o,d,c,u,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Xn;else if(Hn(s))if($n)y=or;else{y=ir;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?Wn(o,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(yr=g,gr=r,vr=null);break;case"focusout":vr=gr=yr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zn?Bn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==x?"onCompositionEnd"===x&&zn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(g=Gr(r,x)).length&&(x=new bn(x,e,null,n,i),o.push({event:x,listeners:g}),v?x.data=v:null!==(v=Vn(n))&&(x.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Fr(o,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ie(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ie(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ie(n,a))&&o.unshift(Wr(n,l,s)):i||null!=(l=Ie(n,a))&&o.push(Wr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,yi="__reactListeners$"+di,gi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[fi]||null}var ji=[],Ni=-1;function Si(e){return{current:e}}function ki(e){0>Ni||(e.current=ji[Ni],ji[Ni]=null,Ni--)}function Ei(e,t){Ni++,ji[Ni]=e.current,e.current=t}var _i={},Oi=Si(_i),Ai=Si(!1),Ti=_i;function Ci(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){ki(Ai),ki(Oi)}function Di(e,t,n){if(Oi.current!==_i)throw Error(a(168));Ei(Oi,t),Ei(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ti=Oi.current,Ei(Oi,e),Ei(Ai,Ai.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(Oi),Ei(Oi,e)):ki(Ai),Ei(Ai,n)}var Fi=null,Ui=!1,Bi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=xt;try{var n=Fi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,zi),i}finally{xt=t,Bi=!1}}return null}var qi=[],Hi=0,Wi=null,Gi=0,Ki=[],Yi=0,Qi=null,Xi=1,$i="";function Ji(e,t){qi[Hi++]=Gi,qi[Hi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Ki[Yi++]=Xi,Ki[Yi++]=$i,Ki[Yi++]=Qi,Qi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Xi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Qi;)Qi=Ki[--Yi],Ki[Yi]=null,$i=Ki[--Yi],Ki[Yi]=null,Xi=Ki[--Yi],Ki[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Cc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Cc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=b.ReactCurrentBatchConfig;function ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&va(a)===t.type)?((r=i(t,n.props)).ref=ya(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=ya(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=ya(e,null,t),n.return=e,n;case j:return(t=Fc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case j:return n.key===i?u(e,t,n,r):null;case I:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);ga(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,d=a,m=a=0,y=null;null!==d&&m<s.length;m++){d.index>m?(y=d,d=null):y=d.sibling;var g=f(i,d,s[m],l);if(null===g){null===d&&(d=y);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g,d=y}if(m===s.length)return n(i,d),ia&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return ia&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(y=p(d,i,m,s[m],l))&&(e&&null!==y.alternate&&d.delete(null===y.key?m:y.key),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y);return e&&d.forEach(function(e){return t(i,e)}),ia&&Ji(i,m),c}function y(i,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,y=s=0,g=null,v=l.next();null!==m&&!v.done;y++,v=l.next()){m.index>y?(g=m,m=null):g=m.sibling;var x=f(i,m,v.value,c);if(null===x){null===m&&(m=g);break}e&&m&&null===x.alternate&&t(i,m),s=o(x,s,y),null===d?u=x:d.sibling=x,d=x,m=g}if(v.done)return n(i,m),ia&&Ji(i,y),u;if(null===m){for(;!v.done;y++,v=l.next())null!==(v=h(i,v.value,c))&&(s=o(v,s,y),null===d?u=v:d.sibling=v,d=v);return ia&&Ji(i,y),u}for(m=r(i,m);!v.done;y++,v=l.next())null!==(v=p(m,i,y,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?y:v.key),s=o(v,s,y),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),ia&&Ji(i,y),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===N){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&va(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=ya(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===N?((a=Mc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=ya(r,a,o),l.return=r,r=l)}return s(r);case j:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,l)).return=r,r=a}return s(r);case I:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(M(o))return y(r,a,o,l);ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var ba=xa(!0),wa=xa(!1),ja=Si(null),Na=null,Sa=null,ka=null;function Ea(){ka=Sa=Na=null}function _a(e){var t=ja.current;ki(ja),e._currentValue=t}function Oa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){Na=e,ka=Sa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Sa){if(null===Na)throw Error(a(308));Sa=e,Na.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var Ca=null;function Ia(e){null===Ca?Ca=[e]:Ca.push(e)}function Pa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Da(e,r)}function Da(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ma=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Da(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Da(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Va(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,r){var i=e.updateQueue;Ma=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ma=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function qa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ha={},Wa=Si(Ha),Ga=Si(Ha),Ka=Si(Ha);function Ya(e){if(e===Ha)throw Error(a(174));return e}function Qa(e,t){switch(Ei(Ka,t),Ei(Ga,e),Ei(Wa,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Wa),Ei(Wa,t)}function Xa(){ki(Wa),ki(Ga),ki(Ka)}function $a(e){Ya(Ka.current);var t=Ya(Wa.current),n=le(t,e.type);t!==n&&(Ei(Ga,e),Ei(Wa,n))}function Ja(e){Ga.current===e&&(ki(Wa),ki(Ga))}var Za=Si(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:es,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(uo)}if(ro.current=Jo,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,co=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function xo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((ao&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,oo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Rl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jo(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function So(e,t){var n=oo,r=xo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,xs=!0),r=r.queue,Ro(_o.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Co(9,Eo.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(a(349));0!==(30&ao)||ko(n,t,i)}return i}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Eo(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&Ao(e)}function _o(e,t,n){return n(function(){Oo(t)&&Ao(e)})}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ao(e){var t=Da(e,1);null!==t&&nc(t,e,1,-1)}function To(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Co(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Io(){return xo().memoizedState}function Po(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=Co(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=xo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Co(t,n,a,r))}oo.flags|=e,i.memoizedState=Co(1|t,n,a,r)}function Mo(e,t){return Po(8390656,8,e,t)}function Ro(e,t){return Do(2048,8,e,t)}function Lo(e,t){return Do(4,2,e,t)}function Fo(e,t){return Do(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Uo.bind(null,t,e),n)}function Vo(){}function zo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function Wo(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{xt=n,io.transition=r}}function Go(){return xo().memoizedState}function Ko(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e))Xo(t,n);else if(null!==(n=Pa(e,t,n,r))){nc(n,e,r,ec()),$o(n,t,r)}}function Yo(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Xo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ia(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Pa(e,t,i,r))&&(nc(n,e,r,i=ec()),$o(n,t,r))}}function Qo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $o(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:Ta,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ta,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:To,useDebugValue:Vo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=To(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Al)throw Error(a(349));0!==(30&ao)||ko(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(_o.bind(null,r,o,e),[e]),r.flags|=2048,Co(9,Eo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Al.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ta,useCallback:zo,useContext:Ta,useEffect:Ro,useImperativeHandle:Bo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:qo,useReducer:wo,useRef:Io,useState:function(){return wo(bo)},useDebugValue:Vo,useDeferredValue:function(e){return Ho(xo(),so.memoizedState,e)},useTransition:function(){return[wo(bo)[0],xo().memoizedState]},useMutableSource:No,useSyncExternalStore:So,useId:Go,unstable_isNewReconciler:!1},ts={readContext:Ta,useCallback:zo,useContext:Ta,useEffect:Ro,useImperativeHandle:Bo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:qo,useReducer:jo,useRef:Io,useState:function(){return jo(bo)},useDebugValue:Vo,useDeferredValue:function(e){var t=xo();return null===so?t.memoizedState=e:Ho(t,so.memoizedState,e)},useTransition:function(){return[jo(bo)[0],xo().memoizedState]},useMutableSource:No,useSyncExternalStore:So,useId:Go,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,i))&&(nc(t,e,i,r),Ba(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,i))&&(nc(t,e,i,r),Ba(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ua(e,i,r))&&(nc(t,e,r,n),Ba(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function os(e,t,n){var r=!1,i=_i,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Ii(t)?Ti:Oi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):_i),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Ii(t)?Ti:Oi.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),za(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),ds(0,t)},n}function ps(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=b.ReactCurrentOwner,xs=!1;function bs(e,t,n,r){t.child=null===e?wa(t,null,n,r):ba(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Aa(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||xs?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function js(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ic(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ns(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ns(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Es(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Pl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Pl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Pl,Il),Il|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Pl,Il),Il|=r;return bs(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var a=Ii(n)?Ti:Oi.current;return a=Ci(t,a),Aa(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||xs?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(Ii(n)){var a=!0;Ri(t)}else a=!1;if(Aa(t,i),null===t.stateNode)qs(e,t),os(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Ci(t,c=Ii(n)?Ti:Oi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),Ma=!1;var h=t.memoizedState;o.state=h,za(t,r,o,i),l=t.memoizedState,s!==r||h!==l||Ai.current||Ma?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Ma||as(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,La(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ta(l):l=Ci(t,l=Ii(n)?Ti:Oi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),Ma=!1,h=t.memoizedState,o.state=h,za(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||Ai.current||Ma?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Ma||as(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,a,i)}function Os(e,t,n,r,i,a){ks(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Hs(e,t,a);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ba(t,e.child,null,a),t.child=ba(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qa(e,t.containerInfo)}function Ts(e,t,n,r,i){return fa(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var Cs,Is,Ps,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,o=Za.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(Za,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ba(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=us(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Da(e,i),nc(r,e,i,-1))}return mc(),Us(e,t,s,r=us(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Yi++]=Xi,Ki[Yi++]=$i,Ki[Yi++]=Qi,Xi=e.id,$i=e.overflow,Qi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),ba(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oa(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ii(t.type)&&Pi(),Gs(t),null;case 3:return r=t.stateNode,Xa(),ki(Ai),ki(Oi),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Is(e,t),Gs(t),null;case 5:Ja(t);var i=Ya(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=Ya(Wa.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Cs(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ye(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ya(Ka.current),Ya(Wa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(ki(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return Xa(),Is(e,t),null===e&&zr(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(ki(Za),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ws(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(Za,1&Za.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>zl&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Gs(t),null}else 2*$e()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=Za.current,Ei(Za,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ii(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),ki(Ai),ki(Oi),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(ki(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Za),null;case 4:return Xa(),null;case 10:return _a(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Cs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ya(Wa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Xs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[yi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hl(e,t,n),Xs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach(function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(o,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(y){Sc(e,e.return,y)}try{nl(5,e,e.return)}catch(y){Sc(e,e.return,y)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Sc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),xe(l,s);var u=xe(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ye(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):x(i,d,h,u)}switch(l){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(y){Sc(e,e.return,y)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Sc(e,e.return,y)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(y){Sc(e,e.return,y)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=$e())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,ml(t,e),Xs=u):ml(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){Sc(r,n,y)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Js=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(y){Sc(e,e.return,y)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Sc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Qs;var c=Xs;if(Qs=o,(Xs=l)&&!c)for(Js=i;null!==Js;)l=(o=Js).child,22===o.tag&&null!==o.memoizedState?jl(i):null!==l?(l.return=o,Js=l):jl(i);for(;null!==a;)Js=a,xl(a,t,n),a=a.sibling;Js=i,Qs=s,Xs=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):bl(e)}}function bl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qa(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function jl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Nl,Sl=Math.ceil,kl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,_l=b.ReactCurrentBatchConfig,Ol=0,Al=null,Tl=null,Cl=0,Il=0,Pl=Si(0),Dl=0,Ml=null,Rl=0,Ll=0,Fl=0,Ul=null,Bl=null,Vl=0,zl=1/0,ql=null,Hl=!1,Wl=null,Gl=null,Kl=!1,Yl=null,Ql=0,Xl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Ol)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Cl?Cl&-Cl:null!==ma.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(a(185));gt(e,n,r),0!==(2&Ol)&&e===Al||(e===Al&&(0===(2&Ol)&&(Ll|=n),4===Dl&&sc(e,Cl)),rc(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(zl=$e()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Al?Cl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),oi(function(){0===(6&Ol)&&zi()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Ol))throw Error(a(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Cl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ol;Ol|=2;var o=pc();for(Al===e&&Cl===t||(ql=null,zl=$e()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ea(),kl.current=o,Ol=i,null!==Tl?t=0:(Al=null,Cl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bl,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bl,ql),t);break}wc(e,Bl,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bl,ql),r);break}wc(e,Bl,ql);break;default:throw Error(a(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Ol))throw Error(a(327));jc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,ql),rc(e,$e()),null}function cc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(zl=$e()+500,Ui&&zi())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Ol)&&jc();var t=Ol;Ol|=1;var n=_l.transition,r=xt;try{if(_l.transition=null,xt=1,e)return e()}finally{xt=r,_l.transition=n,0===(6&(Ol=t))&&zi()}}function dc(){Il=Pl.current,ki(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Xa(),ki(Ai),ki(Oi),no();break;case 5:Ja(r);break;case 4:Xa();break;case 13:case 19:ki(Za);break;case 10:_a(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Tl=e=Pc(e.current,null),Cl=Il=t,Dl=0,Ml=null,Fl=Ll=Rl=0,Bl=Ul=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function fc(e,t){for(;;){var n=Tl;try{if(Ea(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(ao=0,lo=so=oo=null,uo=!1,ho=0,El.current=null,null===n||null===n.return){Dl=1,Ml=t,Tl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Cl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,l,0,t),1&p.mode&&ms(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var y=new Set;y.add(c),t.updateQueue=y}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var g=ys(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gs(g,s,l,0,t),pa(cs(c,l));break e}}o=c=cs(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[o]:Ul.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Va(o,fs(0,c,t));break e;case 1:l=c;var v=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Gl||!Gl.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Va(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Jo,null===e?Jo:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Al||0===(268435455&Rl)&&0===(268435455&Ll)||sc(Al,Cl)}function yc(e,t){var n=Ol;Ol|=2;var r=pc();for(Al===e&&Cl===t||(ql=null,hc(e,t));;)try{gc();break}catch(i){fc(e,i)}if(Ea(),Ol=n,kl.current=r,null!==Tl)throw Error(a(261));return Al=null,Cl=0,Dl}function gc(){for(;null!==Tl;)xc(Tl)}function vc(){for(;null!==Tl&&!Qe();)xc(Tl)}function xc(e){var t=Nl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?bc(e):Tl=t,El.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Il)))return void(Tl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Dl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=xt,i=_l.transition;try{_l.transition=null,xt=1,function(e,t,n,r){do{jc()}while(null!==Yl);if(0!==(6&Ol))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Al&&(Tl=Al=null,Cl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ac(tt,function(){return jc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_l.transition,_l.transition=null;var s=xt;xt=1;var l=Ol;Ol|=4,El.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,g=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:ns(t.type,y),g);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),yl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Xe(),Ol=l,xt=s,_l.transition=o}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Ql=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Ql)&&0!==e.tag&&jc(),o=e.pendingLanes,0!==(1&o)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,zi()}(e,t,n,r)}finally{_l.transition=i,xt=r}return null}function jc(){if(null!==Yl){var e=bt(Ql),t=_l.transition,n=xt;try{if(_l.transition=null,xt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Ol))throw Error(a(331));var i=Ol;for(Ol|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(al(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=o.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Js=v;break e}Js=o.return}}var x=e.current;for(Js=x;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=x;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){Sc(l,l.return,j)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Ol=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(j){}r=!0}return r}finally{xt=n,_l.transition=t}}return!1}function Nc(e,t,n){e=Ua(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Ua(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Cl&n)===n&&(4===Dl||3===Dl&&(130023424&Cl)===Cl&&500>$e()-Vl?hc(e,0):Fl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Da(e,t))&&(gt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return Ke(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cc(e,t,n,r){return new Tc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Cc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ic(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case N:return Mc(n.children,i,o,t);case S:s=8,i|=8;break;case k:return(e=Cc(12,n,t,2|i)).elementType=k,e.lanes=o,e;case A:return(e=Cc(13,n,t,i)).elementType=A,e.lanes=o,e;case T:return(e=Cc(19,n,t,i)).elementType=T,e.lanes=o,e;case P:return Rc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case _:s=9;break e;case O:s=11;break e;case C:s=14;break e;case I:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Cc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Cc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Cc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Cc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Cc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Cc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Vc(e){if(!e)return _i;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Mi(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,l){return(e=Bc(n,r,!0,e,0,a,0,s,l)).context=Vc(null),n=e.current,(a=Fa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ua(n,a,i),e.current.lanes=i,gt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ua(i,t,o))&&(nc(e,i,o,a),Ba(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:As(t),fa();break;case 5:$a(t);break;case 1:Ii(t.type)&&Ri(t);break;case 4:Qa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ja,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ei(Za,1&Za.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ei(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ci(t,Oi.current);Aa(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Os(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===C)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Es(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=js(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,La(e,t),za(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ts(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ts(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Hs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return $a(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),ks(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ls(e,t,n);case 4:return Qa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ba(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ja,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fa(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Oa(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Oa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Aa(t,n),r=r(i=Ta(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),js(e,t,r,i=ns(r.type,i),n);case 15:return Ns(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,Ii(r)?(e=!0,Ri(t)):e=!1,Aa(t,n),os(t,r,i),ls(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(o)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&Ol)&&(zl=$e()+500,zi()))}break;case 13:uc(function(){var t=Da(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},jt=function(e){if(13===e.tag){var t=Da(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Da(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return xt},kt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},je=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[xi,bi,wi,Ee,_e,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2794:(e,t,n)=>{var r=n(9742),i=n(7498),a=n(9096);e.exports=function(e,t){return e&&e.length?r(e,a(t,2),i):void 0}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),a=n(4052),o=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&i(e),d=!n&&!u&&o(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var y in e)!t&&!c.call(e,y)||f&&("length"==y||d&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,m))||p.push(y);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),a=n(7303);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&i(t,n,o)&&(n=o=void 0),t=a(t),void 0===n?(n=t,t=0):n=a(n),o=void 0===o?t<n?1:-1:a(o),r(t,n,o,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),a=n(8883),o=n(4052);e.exports=function(e,t){return(o(e)?r:a)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),a=n(8114);e.exports=function(e,t,n,o,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,y=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var g=e[p],v=t[p];if(o)var x=c?o(v,g,p,t,e,l):o(g,v,p,e,t,l);if(void 0!==x){if(x)continue;m=!1;break}if(y){if(!i(t,function(e,t){if(!a(y,t)&&(g===e||s(g,e,n,o,l)))return y.push(t)})){m=!1;break}}else if(g!==v&&!s(g,v,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),a=n(2597),o=n(914);e.exports=function(e){return a(e)?r(o(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),a=n(801),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function x(e){var n=e-f;return void 0===f||n>=t||n<0||y&&e-p>=u}function b(){var e=i();if(x(e))return w(e);h=setTimeout(b,function(e){var n=t-(e-f);return y?s(n,u-(e-p)):n}(e))}function w(e){return h=void 0,g&&l?v(e):(l=c=void 0,d)}function j(){var e=i(),n=x(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(b,t),m?v(e):d}(f);if(y)return clearTimeout(h),h=setTimeout(b,t),v(f)}return void 0===h&&(h=setTimeout(b,t)),d}return t=a(t)||0,r(n)&&(m=!!n.leading,u=(y="maxWait"in n)?o(a(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),j.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},j.flush=function(){return void 0===h?d:w(i())},j}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)}),t});e.exports=o},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=x.prototype=new v;b.constructor=x,m(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:N.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+O(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),A(o,t,i,"",function(e){return e})):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+O(s=e[c],c);l+=A(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,u=a+O(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function C(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},P={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:N};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),a=n(1558),o=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=a;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=o,p=new r}else p=t?[]:f;e:for(;++c<d;){var y=e[c],g=t?t(y):y;if(y=n||0!==y?y:0,h&&g===g){for(var v=p.length;v--;)if(p[v]===g)continue e;t&&p.push(g),f.push(y)}else u(p,g,n)||(p!==f&&p.push(g),f.push(y))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),a=n(2165),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:a;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,i){return n=!!t(e,r,i)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),a=n(438),o=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),a=n(3366),o=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),a=n(4079),o=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),a=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),a=n(793),o=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),a=n(6350);e.exports=function(e,t){return a(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var y=l;++d<u;){var g=e[h=c[d]],v=t[h];if(a)var x=l?a(v,g,h,t,e,s):a(g,v,h,e,t,s);if(!(void 0===x?g===v||o(g,v,n,a,s):x)){m=!1;break}y||(y="constructor"==h)}if(m&&!y){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,a=e.criteria,o=t.criteria,s=a.length,l=n.length;++i<s;){var c=r(a[i],o[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return g(e)===a}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),a=n(9987),o=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,y,g){var v=l(e),x=l(t),b=v?h:s(e),w=x?h:s(t),j=(b=b==d?f:b)==f,N=(w=w==d?f:w)==f,S=b==w;if(S&&c(e)){if(!c(t))return!1;v=!0,j=!1}if(S&&!j)return g||(g=new r),v||u(e)?i(e,t,n,m,y,g):a(e,t,b,n,m,y,g);if(!(1&n)){var k=j&&p.call(e,"__wrapped__"),E=N&&p.call(t,"__wrapped__");if(k||E){var _=k?e.value():e,O=E?t.value():t;return g||(g=new r),y(_,O,n,m,g)}}return!!S&&(g||(g=new r),o(e,t,n,m,y,g))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,a){var o=n.length,s=o,l=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(a)var p=a(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,a,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,a=e===e,o=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!a)return 1;if(!i&&!o&&!u&&e<t||u&&n&&a&&!i&&!o||l&&n&&a||!s&&a||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),a=n(3279);e.exports=function(e){return e&&e.length?r(e,a,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),a=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),a=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),a=n(5387),o=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),y=c(i),g=c(a),v=c(o),x=c(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=u||a&&b(a.resolve())!=d||o&&b(new o)!=h||s&&b(new s)!=f)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case y:return u;case g:return d;case v:return h;case x:return f}return t}),e.exports=b},6954:(e,t,n)=>{var r=n(1629),i=n(7857),a=n(6686),o=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:s).test(o(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),a=n(9096),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,a(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),a=n(4052),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),a=n(4190),o=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(y=!1,b(e),!m)if(null!==r(c))m=!0,P(j);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function j(e,n){m=!1,y&&(y=!1,v(E),E=-1),p=!0;var a=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,S=!1,k=null,E=-1,_=5,O=-1;function A(){return!(t.unstable_now()-O<_)}function T(){if(null!==k){var e=t.unstable_now();O=e;var n=!0;try{n=k(!0,e)}finally{n?N():(S=!1,k=null)}}else S=!1}if("function"===typeof x)N=function(){x(T)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,I=C.port2;C.port1.onmessage=T,N=function(){I.postMessage(null)}}else N=function(){g(T,0)};function P(e){k=e,S||(S=!0,N())}function D(e,n){E=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(y?(v(E),E=-1):y=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,P(j))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),a=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),a=n(5647),o=n(929),s=a(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),a=n(9115),o=n(1069);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),a=n(2074),o=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=o},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,a=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,y=d(1286742750677284.5),g={};function v(e,t){var n,r,i,a,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?O(t,h):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=o,l=c.length),a>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/p|0,c[a]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?O(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=k(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=k(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},g.dividedBy=g.div=function(e){return w(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return O(w(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return N(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=w(E(n,o),E(e,o),o),s=!0,O(t,a))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):v(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):O(new r(n),i)},g.naturalExponential=g.exp=function(){return j(this)},g.naturalLogarithm=g.ln=function(){return E(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):A(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},g.squareRoot=g.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=N(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=o=(n=u.precision)+3;;)if(r=(a=r).plus(w(c,a,o+2)).times(.5),b(a.d).slice(0,o)===(t=b(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(O(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if("9999"!=t)break;o+=4}return s=!0,O(r,n)},g.times=g.mul=function(e){var t,n,r,i,a,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(a=f,f=m,m=a,o=c,c=u,u=o),a=[],r=o=c+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+m[r]*f[i-r-1]+t,a[i--]=l%p|0,t=l/p|0;a[i]=(a[i]+t)%p|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,s?O(e,h.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,a),void 0===t?t=r.rounding:x(t,0,8),O(n,e+N(n)+1,t))},g.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=T(r,!0):(x(e,0,a),void 0===t?t=i.rounding:x(t,0,8),n=T(r=O(new i(r),e+1,t),!0,e+1)),n},g.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?T(i):(x(e,0,a),void 0===t?t=o.rounding:x(t,0,8),n=T((r=O(new o(i),e+N(i)+1,t)).abs(),!1,e+N(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return O(new t(e),N(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,n,r,a,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return O(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=m){for(a=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&C((a=a.times(u)).d,t),0!==(n=d(n/2));)C((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(a):O(a,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,a=e.times(E(u,r+12)),s=!0,(a=j(a)).s=o,a},g.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=T(i,(n=N(i))<=o.toExpNeg||n>=o.toExpPos):(x(e,1,a),void 0===t?t=o.rounding:x(t,0,8),r=T(i=O(new o(i),e,t),e<=(n=N(i))||n<=o.toExpNeg,e)),r},g.toSignificantDigits=g.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,a),void 0===t?t=n.rounding:x(t,0,8)),O(new n(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=N(e),n=e.constructor;return T(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,c,u,d,h,f,m,y,g,v,x,b,w,j,S,k,E,_,A=r.constructor,T=r.s==i.s?1:-1,C=r.d,I=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,E=I.length,S=C.length,y=(m=new A(T)).d=[],u=0;I[u]==(C[u]||0);)++u;if(I[u]>(C[u]||0)&&--c,(b=null==a?a=A.precision:o?a+(N(r)-N(i))+1:a)<0)return new A(0);if(b=b/7+2|0,u=0,1==E)for(d=0,I=I[0],b++;(u<S||d)&&b--;u++)w=d*p+(C[u]||0),y[u]=w/I|0,d=w%I|0;else{for((d=p/(I[0]+1)|0)>1&&(I=e(I,d),C=e(C,d),E=I.length,S=C.length),j=E,v=(g=C.slice(0,E)).length;v<E;)g[v++]=0;(_=I.slice()).unshift(0),k=I[0],I[1]>=p/2&&++k;do{d=0,(s=t(I,g,E,v))<0?(x=g[0],E!=v&&(x=x*p+(g[1]||0)),(d=x/k|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(I,d),g,f=h.length,v=g.length))&&(d--,n(h,E<f?_:I,f))):(0==d&&(s=d=1),h=I.slice()),(f=h.length)<v&&h.unshift(0),n(g,h,v),-1==s&&(s=t(I,g,E,v=g.length))<1&&(d++,n(g,E<v?_:I,v)),v=g.length):0===s&&(d++,g=[0]),y[u++]=d,s&&g[0]?g[v++]=C[j]||0:(g=[C[j]],v=1)}while((j++<S||void 0!==g[0])&&b--)}return y[0]||y.shift(),m.e=c,O(m,o?a+N(m)+1:a)}}();function j(e,t){var n,r,a,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(N(e)>16)throw Error(u+N(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=a=new f(i),f.precision=l;;){if(r=O(r.times(e),l),n=n.times(++c),b((o=a.plus(w(r,n,l))).d).slice(0,l)===b(a.d).slice(0,l)){for(;d--;)a=O(a.times(a),l);return f.precision=p,null==t?(s=!0,O(a,p)):a}a=o}}function N(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function E(e,t){var n,r,a,o,c,u,d,h,f,p=1,m=e,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new g(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),S(g,h);if(h+=10,g.precision=h,r=(n=b(y)).charAt(0),o=N(m),!(Math.abs(o)<15e14))return d=S(g,h+2,v).times(o+""),m=E(new g(r+"."+n.slice(1)),h-10).plus(d),g.precision=v,null==t?(s=!0,O(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((m=m.times(e)).d)).charAt(0),p++;for(o=N(m),r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1)),u=c=m=w(m.minus(i),m.plus(i),h),f=O(m.times(m),h),a=3;;){if(c=O(c.times(f),h),b((d=u.plus(w(c,new g(a),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(S(g,h+2,v).times(o+""))),u=w(u,new g(p),h),g.precision=v,null==t?(s=!0,O(u,v)):u;u=d,a+=2}}function _(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>y||e.e<-y))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,n){var r,i,a,o,l,c,f,m,g=e.d;for(o=1,a=g[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=7,i=t,f=g[m=0];else{if((m=Math.ceil((r+1)/7))>=(a=g.length))return e;for(f=a=g[m],o=1;a>=10;a/=10)o++;i=(r%=7)-7+o}if(void 0!==n&&(l=f/(a=h(10,o-i-1))%10|0,c=t<0||void 0!==g[m+1]||f%a,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,o-i):0:g[m-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return c?(a=N(e),g.length=1,t=t-a-1,g[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==r?(g.length=m,a=1,m--):(g.length=m+1,a=h(10,7-r),g[m]=i>0?(f/h(10,o-i)%h(10,i)|0)*a:0),c)for(;;){if(0==m){(g[0]+=a)==p&&(g[0]=1,++e.e);break}if(g[m]+=a,g[m]!=p)break;g[m--]=0,a=1}for(r=g.length;0===g[--r];)g.pop();if(s&&(e.e>y||e.e<-y))throw Error(u+N(e));return e}function A(e,t){var n,r,i,a,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?O(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(i=Math.max(Math.ceil(m/7),l)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=p-1;--c[a],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?O(t,m):t):new f(0)}function T(e,t,n){var r,i=N(e),a=b(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+k(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+k(-i-1)+a,n&&(r=n-o)>0&&(a+=k(r))):i>=o?(a+=k(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+k(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=k(r))),e.s<0?"-"+a:a}function C(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):_(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);_(t,e)}if(a.prototype=g,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=I,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(o),o.default=o.Decimal=o,i=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),a=n(3279),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},8468:(e,t,n)=>{var r=n(5816),i=n(644),a=n(4020);e.exports=function(e,t,n){return t===t?a(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),a=n(4052),o=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),a=n(6571);e.exports=function(e){return a(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),a=n(2154),o=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,a=i(e)?Array(e.length):[];return r(e,function(e,r,i){a[++n]=t(e,r,i)}),a}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),a=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),i=n(2777),a=n(4052),o=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(h,u)&&(a(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),a=n(3279),o=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),a=n(715);e.exports=function(e){return i(e)?a(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),a=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9364:(e,t,n)=>{var r=n(9742),i=n(9096),a=n(61);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),a):void 0}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),a=n(8673);e.exports=function(e){return r(e,a,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return a.call(e,t)}))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,a){for(var o=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[a?s:++o]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=o}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:a,maxWait:t,trailing:o})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),a=n(3211),o=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var y=o(f(e),f(t),r,c,d,h);return h.delete(e),y;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),a=n(8673);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!i(t)){var l=r(n,3);t=a(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,o);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>yT,scaleDiverging:()=>KM,scaleDivergingLog:()=>YM,scaleDivergingPow:()=>XM,scaleDivergingSqrt:()=>$M,scaleDivergingSymlog:()=>QM,scaleIdentity:()=>VI,scaleImplicit:()=>pT,scaleLinear:()=>BI,scaleLog:()=>XI,scaleOrdinal:()=>mT,scalePoint:()=>vT,scalePow:()=>aP,scaleQuantile:()=>gP,scaleQuantize:()=>vP,scaleRadial:()=>lP,scaleSequential:()=>BM,scaleSequentialLog:()=>VM,scaleSequentialPow:()=>qM,scaleSequentialQuantile:()=>WM,scaleSequentialSqrt:()=>HM,scaleSequentialSymlog:()=>zM,scaleSqrt:()=>oP,scaleSymlog:()=>eP,scaleThreshold:()=>xP,scaleTime:()=>RM,scaleUtc:()=>LM,tickFormat:()=>FI});var t,r=n(5043),i=n.t(r,2),a=n(4391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Le){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,n,r,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:c=!1}=i,f=a.history,p=t.Pop,m=null,y=g();function g(){return(f.state||{idx:null}).idx}function v(){p=t.Pop;let e=g(),n=null==e?null:e-y;y=e,m&&m({action:p,location:b.location,delta:n})}function x(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==y&&(y=0,f.replaceState(o({},f.state,{idx:y}),""));let b={get action(){return p},get location(){return e(a,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(s,v),m=e,()=>{a.removeEventListener(s,v),m=null}},createHref:e=>n(a,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=d(b.location,e,n);r&&r(i,e),y=g()+1;let o=u(i,y),s=b.createHref(i);try{f.pushState(o,"",s)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;a.location.assign(s)}c&&m&&m({action:p,location:b.location,delta:1})},replace:function(e,n){p=t.Replace;let i=d(b.location,e,n);r&&r(i,e),y=g();let a=u(i,y),o=b.createHref(i);f.replaceState(a,"",o),c&&m&&m({action:p,location:b.location,delta:0})},go:e=>f.go(e)};return b}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let i=C(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let a=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=T(i);o=O(a[s],e,r)}return o}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(l(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=R([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),v(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:_(s,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)}),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=x(r.join("/")),s=[];return s.push(...o.map(e=>""===e?a:[a,e].join("/"))),i&&s.push(...o),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const b=/^:[\w-]+$/,w=3,j=2,N=1,S=10,k=-2,E=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=k),t&&(r+=j),n.filter(e=>!E(e)).reduce((e,t)=>e+(b.test(t)?w:""===t?N:S),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:R([a,u.pathname]),pathnameBase:L(R([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=R([a,u.pathnameBase]))}return o}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function C(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=P(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=o({},e),l(!i.pathname||!i.pathname.includes("?"),I("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),I("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),I("#","search","hash",i)));let a,s=""===e||""===i.pathname,c=s?"/":i.pathname;if(null==c)a=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:F(r),hash:U(i)}}(i,a),d=c&&"/"!==c&&c.endsWith("/"),h=(s||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],z=(new Set(V),["get",...V]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const H=r.createContext(null);const W=r.createContext(null);const G=r.createContext(null);const K=r.createContext(null);const Y=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=r.createContext(null);function X(){return null!=r.useContext(K)}function $(){return X()||l(!1),r.useContext(K).location}function J(e){r.useContext(G).static||r.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=r.useContext(Y);return e?function(){let{router:e}=ce(se.UseNavigateStable),t=de(le.UseNavigateStable),n=r.useRef(!1);J(()=>{n.current=!0});let i=r.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))},[e,t]);return i}():function(){X()||l(!1);let e=r.useContext(H),{basename:t,future:n,navigator:i}=r.useContext(G),{matches:a}=r.useContext(Y),{pathname:o}=$(),s=JSON.stringify(D(a,n.v7_relativeSplatPath)),c=r.useRef(!1);J(()=>{c.current=!0});let u=r.useCallback(function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void i.go(n);let a=M(n,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:R([t,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)},[t,i,s,o,e]);return u}()}function ee(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(G),{matches:a}=r.useContext(Y),{pathname:o}=$(),s=JSON.stringify(D(a,i.v7_relativeSplatPath));return r.useMemo(()=>M(e,JSON.parse(s),o,"path"===n),[e,s,o,n])}function te(e,n,i,a){X()||l(!1);let{navigator:o}=r.useContext(G),{matches:s}=r.useContext(Y),c=s[s.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,p=$();if(n){var m;let e="string"===typeof n?f(n):n;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||l(!1),h=e}else h=p;let g=h.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=y(e,{pathname:v});let b=oe(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:R([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:R([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,i,a);return n&&b?r.createElement(K.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},b):b}function ne(){let e=function(){var e;let t=r.useContext(Q),n=ue(le.UseRouteError),i=de(le.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}const re=r.createElement(ne,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Y.Provider,{value:this.props.routeContext},r.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext(H);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Y.Provider,{value:t},i)}function oe(e,t,n,i){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,c=null==(a=n)?void 0:a.errors;if(null!=c){let e=s.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight((e,i,a)=>{let o,l=!1,h=null,f=null;var p;n&&(o=c&&i.route.id?c[i.route.id]:void 0,h=i.route.errorElement||re,u&&(d<0&&0===a?(p="route-fallback",!1||he[p]||(he[p]=!0),l=!0,f=null):d===a&&(l=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,a+1)),y=()=>{let t;return t=o?h:l?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(ae,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let t=r.useContext(H);return t||l(!1),t}function ue(e){let t=r.useContext(W);return t||l(!1),t}function de(e){let t=function(){let e=r.useContext(Y);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const he={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function pe(e){let{to:t,replace:n,state:i,relative:a}=e;X()||l(!1);let{future:o,static:s}=r.useContext(G),{matches:c}=r.useContext(Y),{pathname:u}=$(),d=Z(),h=M(t,D(c,o.v7_relativeSplatPath),u,"path"===a),f=JSON.stringify(h);return r.useEffect(()=>d(JSON.parse(f),{replace:n,state:i,relative:a}),[d,f,a,n,i]),null}function me(e){l(!1)}function ye(e){let{basename:n="/",children:i=null,location:a,navigationType:o=t.Pop,navigator:s,static:c=!1,future:u}=e;X()&&l(!1);let d=n.replace(/^\/*/,"/"),h=r.useMemo(()=>({basename:d,navigator:s,static:c,future:q({v7_relativeSplatPath:!1},u)}),[d,u,s,c]);"string"===typeof a&&(a=f(a));let{pathname:p="/",search:m="",hash:y="",state:g=null,key:v="default"}=a,x=r.useMemo(()=>{let e=C(p,d);return null==e?null:{location:{pathname:e,search:m,hash:y,state:g,key:v},navigationType:o}},[d,p,m,y,g,v,o]);return null==x?null:r.createElement(G.Provider,{value:h},r.createElement(K.Provider,{children:i,value:x}))}function ge(e){let{children:t,location:n}=e;return te(ve(t),n)}new Promise(()=>{});r.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let a=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ve(e.props.children,a));e.type!==me&&l(!1),e.props.index&&e.props.children&&l(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,a)),n.push(o)}),n}var xe=n(7950),be=n.t(xe,2);function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Le){}new Map;const Se=i.startTransition;be.flushSync,i.useId;function ke(e){let{basename:t,children:n,future:i,window:a}=e,o=r.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),p(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=f(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:h(t))},function(e,t){c("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},s)));let l=o.current,[u,m]=r.useState({action:l.action,location:l.location}),{v7_startTransition:y}=i||{},g=r.useCallback(e=>{y&&Se?Se(()=>m(e)):m(e)},[m,y]);return r.useLayoutEffect(()=>l.listen(g),[l,g]),r.useEffect(()=>fe(i),[i]),r.createElement(ye,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:i})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=r.forwardRef(function(e,t){let n,{onClick:i,relative:a,reloadDocument:o,replace:s,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p}=e,m=je(e,Ne),{basename:y}=r.useContext(G),g=!1;if("string"===typeof d&&_e.test(d)&&(n=d,Ee))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=C(t.pathname,y);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:g=!0}catch(Le){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;X()||l(!1);let{basename:i,navigator:a}=r.useContext(G),{hash:o,pathname:s,search:c}=ee(e,{relative:n}),u=s;return"/"!==i&&(u="/"===s?i:R([i,s])),a.createHref({pathname:u,search:c,hash:o})}(d,{relative:a}),x=function(e,t){let{target:n,replace:i,state:a,preventScrollReset:o,relative:s,viewTransition:l}=void 0===t?{}:t,c=Z(),u=$(),d=ee(e,{relative:s});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:h(u)===h(d);c(e,{replace:n,state:a,preventScrollReset:o,relative:s,viewTransition:l})}},[u,c,d,i,a,n,e,o,s,l])}(d,{replace:s,state:c,target:u,preventScrollReset:f,relative:a,viewTransition:p});return r.createElement("a",we({},m,{href:n||v,onClick:g||o?i:function(e){i&&i(e),e.defaultPrevented||x(e)},ref:t,target:u}))});var Ae,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));function Ce(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Pe(e){var t=function(e,t){if("object"!=Ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ie(t)?t:t+""}function De(e,t,n){return(t=Pe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach(function(t){De(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let Le={data:""},Fe=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Le,Ue=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Be=/\/\*[^]*?\*\/|  +/g,Ve=/\n+/g,ze=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+o+";":r+="f"==a[1]?ze(o,a):a+"{"+ze(o,"k"==a[1]?"":t)+"}":"object"==typeof o?r+=ze(o,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=o&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ze.p?ze.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},qe={},He=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+He(e[n]);return t}return e},We=(e,t,n,r,i)=>{let a=He(e),o=qe[a]||(qe[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!qe[o]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=Ue.exec(e.replace(Be,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ve," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ve," ").trim();return r[0]})(e);qe[o]=ze(i?{["@keyframes "+o]:t}:t,n?"":"."+o)}let s=n&&qe.g?qe.g:null;return n&&(qe.g=qe[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(qe[o],t,r,s),o};function Ge(e){let t=this||{},n=e.call?e(t.p):e;return We(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let a=t[i];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":ze(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Fe(t.target),t.g,t.o,t.k)}Ge.bind({g:1});let Ke,Ye,Qe,Xe=Ge.bind({k:1});function $e(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;n.p=Object.assign({theme:Ye&&Ye()},s),n.o=/ *go\d+/.test(l),s.className=Ge.apply(n,r)+(l?" "+l:""),t&&(s.ref=o);let c=e;return e[0]&&(c=s.as||e,delete s.as),Qe&&c[0]&&Qe(s),Ke(c,s)}return t?t(i):i}}var Je,Ze,et,tt,nt,rt,it,at,ot,st,lt,ct,ut,dt,ht,ft,pt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,mt=(()=>{let e=0;return()=>(++e).toString()})(),yt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),gt="default",vt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return Re(Re({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return Re(Re({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Re(Re({},e),t.toast):e)});case 2:let{toast:r}=t;return vt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return Re(Re({},e),{},{toasts:e.toasts.map(e=>e.id===i||void 0===i?Re(Re({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Re(Re({},e),{},{toasts:[]}):Re(Re({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Re(Re({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return Re(Re({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Re(Re({},e),{},{pauseDuration:e.pauseDuration+a}))})}},xt=[],bt={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},wt={},jt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt;wt[t]=vt(wt[t]||bt,e),xt.forEach(e=>{let[n,r]=e;n===t&&r(wt[t])})},Nt=e=>Object.keys(wt).forEach(t=>jt(e,t)),St=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt;return t=>{jt(t,e)}},kt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Et=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Re(Re({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||mt()})}(t,e,n);return St(r.toasterId||(e=>Object.keys(wt).find(t=>wt[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},_t=(e,t)=>Et("blank")(e,t);_t.error=Et("error"),_t.success=Et("success"),_t.loading=Et("loading"),_t.custom=Et("custom"),_t.dismiss=(e,t)=>{let n={type:3,toastId:e};t?St(t)(n):Nt(n)},_t.dismissAll=e=>_t.dismiss(void 0,e),_t.remove=(e,t)=>{let n={type:4,toastId:e};t?St(t)(n):Nt(n)},_t.removeAll=e=>_t.remove(void 0,e),_t.promise=(e,t,n)=>{let r=_t.loading(t.loading,Re(Re({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?pt(t.success,e):void 0;return i?_t.success(i,Re(Re({id:r},n),null==n?void 0:n.success)):_t.dismiss(r),e}).catch(e=>{let i=t.error?pt(t.error,e):void 0;i?_t.error(i,Re(Re({id:r},n),null==n?void 0:n.error)):_t.dismiss(r)}),e};var Ot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:i}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt,[n,i]=(0,r.useState)(wt[t]||bt),a=(0,r.useRef)(wt[t]);(0,r.useEffect)(()=>(a.current!==wt[t]&&i(wt[t]),xt.push([t,i]),()=>{let e=xt.findIndex(e=>{let[n]=e;return n===t});e>-1&&xt.splice(e,1)}),[t]);let o=n.toasts.map(t=>{var n,r,i;return Re(Re(Re(Re({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||kt[t.type],style:Re(Re(Re({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return Re(Re({},n),{},{toasts:o})}(e,t),a=(0,r.useRef)(new Map).current,o=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let n=setTimeout(()=>{a.delete(e),s({type:4,toastId:e})},t);a.set(e,n)},[]);(0,r.useEffect)(()=>{if(i)return;let e=Date.now(),r=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>_t.dismiss(n.id,t),r);n.visible&&_t.dismiss(n.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[n,i,t]);let s=(0,r.useCallback)(St(t),[t]),l=(0,r.useCallback)(()=>{s({type:5,time:Date.now()})},[s]),c=(0,r.useCallback)((e,t)=>{s({type:1,toast:{id:e,height:t}})},[s]),u=(0,r.useCallback)(()=>{i&&s({type:6,time:Date.now()})},[i,s]),d=(0,r.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:a}=t||{},o=n.filter(t=>(t.position||a)===(e.position||a)&&t.height),s=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<s&&e.visible).length;return o.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,r.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)o(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},At=Xe(Je||(Je=Ce(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Tt=Xe(Ze||(Ze=Ce(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Ct=Xe(et||(et=Ce(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),It=$e("div")(tt||(tt=Ce(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",At,Tt,e=>e.secondary||"#fff",Ct),Pt=Xe(nt||(nt=Ce(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Dt=$e("div")(rt||(rt=Ce(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Pt),Mt=Xe(it||(it=Ce(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Rt=Xe(at||(at=Ce(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Lt=$e("div")(ot||(ot=Ce(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Mt,Rt,e=>e.secondary||"#fff"),Ft=$e("div")(st||(st=Ce(["\n  position: absolute;\n"]))),Ut=$e("div")(lt||(lt=Ce(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Bt=Xe(ct||(ct=Ce(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Vt=$e("div")(ut||(ut=Ce(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Bt),zt=e=>{let{toast:t}=e,{icon:n,type:i,iconTheme:a}=t;return void 0!==n?"string"==typeof n?r.createElement(Vt,null,n):n:"blank"===i?null:r.createElement(Ut,null,r.createElement(Dt,Re({},a)),"loading"!==i&&r.createElement(Ft,null,"error"===i?r.createElement(It,Re({},a)):r.createElement(Lt,Re({},a))))},qt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Ht=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Wt=$e("div")(dt||(dt=Ce(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Gt=$e("div")(ht||(ht=Ce(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Kt=r.memo(e=>{let{toast:t,position:n,style:i,children:a}=e,o=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=yt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[qt(n),Ht(n)];return{animation:t?"".concat(Xe(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Xe(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},s=r.createElement(zt,{toast:t}),l=r.createElement(Gt,Re({},t.ariaProps),pt(t.message,t));return r.createElement(Wt,{className:t.className,style:Re(Re(Re({},o),i),t.style)},"function"==typeof a?a({icon:s,message:l}):r.createElement(r.Fragment,null,s,l))});!function(e,t,n,r){ze.p=t,Ke=e,Ye=n,Qe=r}(r.createElement);var Yt=e=>{let{id:t,className:n,style:i,onHeightUpdate:a,children:o}=e,s=r.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return r.createElement("div",{ref:s,className:n,style:i},o)},Qt=Ge(ft||(ft=Ce(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Xt=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:i,gutter:a,children:o,toasterId:s,containerStyle:l,containerClassName:c}=e,{toasts:u,handlers:d}=Ot(i,s);return r.createElement("div",{"data-rht-toaster":s||"",style:Re({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(e=>{let i=e.position||n,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Re(Re({left:0,right:0,display:"flex",position:"absolute",transition:yt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(i,d.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return r.createElement(Yt,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?Qt:"",style:s},"custom"===e.type?pt(e.message,e):o?o(e):r.createElement(Kt,{toast:e,position:i}))}))},$t=_t;const Jt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Zt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new en;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class en extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tn=function(e){return function(e){const t=Jt(e);return Zt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},nn=function(e){try{return Zt.decodeString(e,!0)}catch(Le){console.error("base64Decode failed: ",Le)}return null};const rn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,an=()=>{try{return rn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/MINDLY",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCb7Pyw9f6Liz0YfV-2OZvDLtHuRVazxl0",REACT_APP_FIREBASE_APP_ID:"1:479179857519:web:f5b44b819cba6c0173b79a",REACT_APP_FIREBASE_AUTH_DOMAIN:"mindly-default-861b7.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"479179857519",REACT_APP_FIREBASE_PROJECT_ID:"mindly-default-861b7",REACT_APP_FIREBASE_STORAGE_BUCKET:"mindly-default-861b7.firebasestorage.app",REACT_APP_PYTHON_BACKEND_URL:"https://mindly-production.up.railway.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Le){return}const t=e&&nn(e[1]);return t&&JSON.parse(t)})()}catch(Le){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Le))}},on=e=>{var t,n;return null===(n=null===(t=an())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},sn=e=>{const t=on(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ln=()=>{var e;return null===(e=an())||void 0===e?void 0:e.config},cn=e=>{var t;return null===(t=an())||void 0===t?void 0:t["_".concat(e)]};class un{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function dn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tn(JSON.stringify({alg:"none",type:"JWT"})),tn(JSON.stringify(a)),""].join(".")}function hn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function fn(){var e;const t=null===(e=an())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Le){return!1}}function pn(){try{return"object"===typeof indexedDB}catch(Le){return!1}}class mn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yn.prototype.create)}}class yn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(gn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new mn(n,a,t)}}const gn=/\{\$([^}]+)}/g;function vn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(xn(n)&&xn(a)){if(!vn(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xn(e){return null!==e&&"object"===typeof e}function bn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function wn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function jn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Nn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Sn),void 0===r.error&&(r.error=Sn),void 0===r.complete&&(r.complete=Sn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Le){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Le){"undefined"!==typeof console&&console.error&&console.error(Le)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sn(){}function kn(e){return e&&e._delegate?e._delegate:e}class En{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _n="[DEFAULT]";class On{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new un;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Le){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Le){if(r)return null;throw Le}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_n})}catch(Le){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Le){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===_n?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n;return this.component?this.component.multipleInstances?e:_n:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class An{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new On(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Tn=[];var Cn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Cn||(Cn={}));const In={debug:Cn.DEBUG,verbose:Cn.VERBOSE,info:Cn.INFO,warn:Cn.WARN,error:Cn.ERROR,silent:Cn.SILENT},Pn=Cn.INFO,Dn={[Cn.DEBUG]:"log",[Cn.VERBOSE]:"log",[Cn.INFO]:"info",[Cn.WARN]:"warn",[Cn.ERROR]:"error"},Mn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Dn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class Rn{constructor(e){this.name=e,this._logLevel=Pn,this._logHandler=Mn,this._userLogHandler=null,Tn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Cn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?In[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cn.DEBUG,...t),this._logHandler(this,Cn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cn.VERBOSE,...t),this._logHandler(this,Cn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cn.INFO,...t),this._logHandler(this,Cn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cn.WARN,...t),this._logHandler(this,Cn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cn.ERROR,...t),this._logHandler(this,Cn.ERROR,...t)}}let Ln,Fn;const Un=new WeakMap,Bn=new WeakMap,Vn=new WeakMap,zn=new WeakMap,qn=new WeakMap;let Hn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Bn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Vn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Wn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Fn||(Fn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Yn(this),n),Kn(Un.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kn(e.apply(Yn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(Yn(this),t,...r);return Vn.set(a,t.sort?t.sort():[t]),Kn(a)}}function Gn(e){return"function"===typeof e?Wn(e):(e instanceof IDBTransaction&&function(e){if(Bn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Bn.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,Ln||(Ln=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Hn):e)}function Kn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Kn(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&Un.set(t,e)}).catch(()=>{}),qn.set(t,e),t}(e);if(zn.has(e))return zn.get(e);const t=Gn(e);return t!==e&&(zn.set(e,t),qn.set(t,e)),t}const Yn=e=>qn.get(e);const Qn=["get","getKey","getAll","getAllKeys","count"],Xn=["put","add","delete","clear"],$n=new Map;function Jn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if($n.get(t))return $n.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Xn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Qn.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return $n.set(t,a),a}Hn=(e=>Re(Re({},e),{},{get:(t,n,r)=>Jn(t,n)||e.get(t,n,r),has:(t,n)=>!!Jn(t,n)||e.has(t,n)}))(Hn);class Zn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const er="@firebase/app",tr="0.9.13",nr=new Rn("@firebase/app"),rr="@firebase/app-compat",ir="@firebase/analytics-compat",ar="@firebase/analytics",or="@firebase/app-check-compat",sr="@firebase/app-check",lr="@firebase/auth",cr="@firebase/auth-compat",ur="@firebase/database",dr="@firebase/database-compat",hr="@firebase/functions",fr="@firebase/functions-compat",pr="@firebase/installations",mr="@firebase/installations-compat",yr="@firebase/messaging",gr="@firebase/messaging-compat",vr="@firebase/performance",xr="@firebase/performance-compat",br="@firebase/remote-config",wr="@firebase/remote-config-compat",jr="@firebase/storage",Nr="@firebase/storage-compat",Sr="@firebase/firestore",kr="@firebase/firestore-compat",Er="firebase",_r="[DEFAULT]",Or={[er]:"fire-core",[rr]:"fire-core-compat",[ar]:"fire-analytics",[ir]:"fire-analytics-compat",[sr]:"fire-app-check",[or]:"fire-app-check-compat",[lr]:"fire-auth",[cr]:"fire-auth-compat",[ur]:"fire-rtdb",[dr]:"fire-rtdb-compat",[hr]:"fire-fn",[fr]:"fire-fn-compat",[pr]:"fire-iid",[mr]:"fire-iid-compat",[yr]:"fire-fcm",[gr]:"fire-fcm-compat",[vr]:"fire-perf",[xr]:"fire-perf-compat",[br]:"fire-rc",[wr]:"fire-rc-compat",[jr]:"fire-gcs",[Nr]:"fire-gcs-compat",[Sr]:"fire-fst",[kr]:"fire-fst-compat","fire-js":"fire-js",[Er]:"fire-js-all"},Ar=new Map,Tr=new Map;function Cr(e,t){try{e.container.addComponent(t)}catch(Le){nr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Le)}}function Ir(e){const t=e.name;if(Tr.has(t))return nr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Tr.set(t,e);for(const n of Ar.values())Cr(n,e);return!0}function Pr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Dr=new yn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}const Rr="9.23.0";function Lr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:_r,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=ln()),!n)throw Dr.create("no-options");const a=Ar.get(i);if(a){if(vn(n,a.options)&&vn(r,a.config))return a;throw Dr.create("duplicate-app",{appName:i})}const o=new An(i);for(const l of Tr.values())o.addComponent(l);const s=new Mr(n,r,o);return Ar.set(i,s),s}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r;const t=Ar.get(e);if(!t&&e===_r&&ln())return Lr();if(!t)throw Dr.create("no-app",{appName:e});return t}function Ur(e,t,n){var r;let i=null!==(r=Or[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void nr.warn(e.join(" "))}Ir(new En("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Br="firebase-heartbeat-store";let Vr=null;function zr(){return Vr||(Vr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=Kn(o);return r&&o.addEventListener("upgradeneeded",e=>{r(Kn(o.result),e.oldVersion,e.newVersion,Kn(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Br)}}).catch(e=>{throw Dr.create("idb-open",{originalErrorMessage:e.message})})),Vr}async function qr(e,t){try{const n=(await zr()).transaction(Br,"readwrite"),r=n.objectStore(Br);await r.put(t,Hr(e)),await n.done}catch(Le){if(Le instanceof mn)nr.warn(Le.message);else{const t=Dr.create("idb-set",{originalErrorMessage:null===Le||void 0===Le?void 0:Le.message});nr.warn(t.message)}}}function Hr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Wr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Kr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Gr();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Gr(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Yr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=tn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Gr(){return(new Date).toISOString().substring(0,10)}class Kr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!pn()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await zr();return await t.transaction(Br).objectStore(Br).get(Hr(e))}catch(Le){if(Le instanceof mn)nr.warn(Le.message);else{const t=Dr.create("idb-get",{originalErrorMessage:null===Le||void 0===Le?void 0:Le.message});nr.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return qr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return qr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Yr(e){return tn(JSON.stringify({version:2,heartbeats:e})).length}var Qr;Qr="",Ir(new En("platform-logger",e=>new Zn(e),"PRIVATE")),Ir(new En("heartbeat",e=>new Wr(e),"PRIVATE")),Ur(er,tr,Qr),Ur(er,tr,"esm2017"),Ur("fire-js","");function Xr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function $r(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jr=$r,Zr=new yn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ei=new Rn("@firebase/auth");function ti(e){if(ei.logLevel<=Cn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ei.error("Auth (".concat(Rr,"): ").concat(e),...n)}}function ni(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ai(e,...n)}function ri(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ai(e,...n)}function ii(e,t,n){const r=Object.assign(Object.assign({},Jr()),{[t]:n});return new yn("auth","Firebase",r).create(t,{appName:e.name})}function ai(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Zr.create(e,...n)}function oi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ai(t,...r)}}function si(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ti(t),new Error(t)}function li(e,t){e||si(t)}function ci(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ui(){return"http:"===di()||"https:"===di()}function di(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function hi(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ui()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class fi{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return hi()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pi(e,t){li(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class mi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gi=new fi(3e4,6e4);function vi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function xi(e,t,n,r){return bi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=bn(Object.assign({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),mi.fetch()(ji(e,e.config.apiHost,n,o),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))})}async function bi(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},yi),t);try{const t=new Ni(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Si(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Si(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Si(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Si(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ii(e,s,o);ni(e,s)}}catch(Le){if(Le instanceof mn)throw Le;ni(e,"network-request-failed",{message:String(Le)})}}async function wi(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await xi(e,t,n,r,i);return"mfaPendingCredential"in a&&ni(e,"multi-factor-auth-required",{_serverResponse:a}),a}function ji(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?pi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class Ni{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ri(this.auth,"network-request-failed")),gi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Si(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ri(e,t,r);return i.customData._tokenResponse=n,i}function ki(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Le){}}function Ei(e){return 1e3*Number(e)}function _i(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ti("JWT malformed, contained fewer than 3 sections"),null;try{const e=nn(n);return e?JSON.parse(e):(ti("Failed to decode base64 JWT payload"),null)}catch(Le){return ti("Caught error parsing JWT payload as JSON",null===Le||void 0===Le?void 0:Le.toString()),null}}async function Oi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Le){throw Le instanceof mn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Le)&&e.auth.currentUser===e&&await e.auth.signOut(),Le}}class Ai{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Le){return void((null===Le||void 0===Le?void 0:Le.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ti{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ki(this.lastLoginAt),this.creationTime=ki(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ci(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Oi(e,async function(e,t){return xi(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));oi(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?a.providerUserInfo.map(e=>{var{providerId:t}=e,n=Xr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const s=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null===s||void 0===s?void 0:s.length),u=!!l&&c,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Ti(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}class Ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oi(e.idToken,"internal-error"),oi("undefined"!==typeof e.idToken,"internal-error"),oi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=_i(e);return oi(t,"internal-error"),oi("undefined"!==typeof t.exp,"internal-error"),oi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return oi(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await bi(e,{},async()=>{const n=bn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=ji(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",mi.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Ii;return n&&(oi("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(oi("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(oi("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ii,this.toJSON())}_performRefresh(){return si("not implemented")}}function Pi(e,t){oi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Di{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Xr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ti(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Oi(this,this.stsTokenManager.getToken(this.auth,e));return oi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=kn(e),r=await n.getIdToken(t),i=_i(r);oi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:ki(Ei(i.auth_time)),issuedAtTime:ki(Ei(i.iat)),expirationTime:ki(Ei(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=kn(e);await Ci(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(oi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ci(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Oi(this,async function(e,t){return xi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,g=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:j}=t;oi(v&&j,e,"internal-error");const N=Ii.fromJSON(this.name,j);oi("string"===typeof v,e,"internal-error"),Pi(u,e.name),Pi(d,e.name),oi("boolean"===typeof x,e,"internal-error"),oi("boolean"===typeof b,e,"internal-error"),Pi(h,e.name),Pi(f,e.name),Pi(p,e.name),Pi(m,e.name),Pi(y,e.name),Pi(g,e.name);const S=new Di({uid:v,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:N,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(S.providerData=w.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ii;r.updateFromServerResponse(t);const i=new Di({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ci(i),i}}const Mi=new Map;function Ri(e){li(e instanceof Function,"Expected a class definition");let t=Mi.get(e);return t?(li(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Mi.set(e,t),t)}class Li{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Li.type="NONE";const Fi=Li;function Ui(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Bi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ui(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ui("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Bi(Ri(Fi),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Ri(Fi);const a=Ui(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){const n=Di._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(l){}})),new Bi(i,e,n)):new Bi(i,e,n)}}function Vi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Wi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ki(t))return"Blackberry";if(Yi(t))return"Webos";if(qi(t))return"Safari";if((t.includes("chrome/")||Hi(t))&&!t.includes("edge/"))return"Chrome";if(Gi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/firefox\//i.test(e)}function qi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/crios\//i.test(e)}function Wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/iemobile/i.test(e)}function Gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/android/i.test(e)}function Ki(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/blackberry/i.test(e)}function Yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/webos/i.test(e)}function Qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Xi(){return function(){const e=hn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function $i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn();return Qi(e)||Gi(e)||Yi(e)||Ki(e)||/windows phone/i.test(e)||Wi(e)}function Ji(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Vi(hn());break;case"Worker":t="".concat(Vi(hn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Rr,"/").concat(r)}async function Zi(e,t){return xi(e,"GET","/v2/recaptchaConfig",vi(e,t))}function ea(e){return void 0!==e&&void 0!==e.enterprise}class ta{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function na(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ri("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function ra(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ia{constructor(e){this.type="recaptcha-enterprise",this.auth=la(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;ea(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Zi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new ta(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&ea(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));na("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function aa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ia(e);let a;try{a=await i.verify(n)}catch(s){a=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class oa{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Le){r(Le)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Le){t.reverse();for(const n of t)try{n()}catch(Nt){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Le||void 0===Le?void 0:Le.message})}}}class sa{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ca(this),this.idTokenSubscription=new ca(this),this.beforeStateQueue=new oa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ri(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Bi.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Le){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Le){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Le))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Le){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ci(e)}catch(Le){if((null===Le||void 0===Le?void 0:Le.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?kn(e):null;return t&&oi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&oi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(e))})}async initializeRecaptchaConfig(){const e=await Zi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new ta(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new ia(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ri(e)||this._popupRedirectResolver;oi(t,this,"argument-error"),this.redirectPersistenceManager=await Bi.create(this,[Ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return oi(a,this,"internal-error"),a.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ji(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ei.logLevel<=Cn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ei.warn("Auth (".concat(Rr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function la(e){return kn(e)}class ca{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Nn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return oi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ua(e,t,n){const r=la(e);oi(r._canInitEmulator,r,"emulator-config-failed"),oi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=da(t),{host:o,port:s}=function(e){const t=da(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ha(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ha(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function da(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ha(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class fa{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,t){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function pa(e,t){return xi(e,"POST","/v1/accounts:update",t)}async function ma(e,t){return wi(e,"POST","/v1/accounts:signInWithPassword",vi(e,t))}async function ya(e,t){return xi(e,"POST","/v1/accounts:sendOobCode",vi(e,t))}async function ga(e,t){return ya(e,t)}class va extends fa{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new va(e,t,"password")}static _fromEmailAndCode(e,t){return new va(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await aa(e,n,"signInWithPassword");return ma(e,t)}return ma(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await aa(e,n,"signInWithPassword");return ma(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return wi(e,"POST","/v1/accounts:signInWithEmailLink",vi(e,t))}(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return pa(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return wi(e,"POST","/v1/accounts:signInWithEmailLink",vi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xa(e,t){return wi(e,"POST","/v1/accounts:signInWithIdp",vi(e,t))}class ba extends fa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ni("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Xr(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new ba(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return xa(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,xa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xa(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bn(t)}return e}}const wa={USER_NOT_FOUND:"user-not-found"};class ja extends fa{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ja({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ja({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return wi(e,"POST","/v1/accounts:signInWithPhoneNumber",vi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await wi(e,"POST","/v1/accounts:signInWithPhoneNumber",vi(e,t));if(n.temporaryProof)throw Si(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return wi(e,"POST","/v1/accounts:signInWithPhoneNumber",vi(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),wa)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ja({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Na{constructor(e){var t,n,r,i,a,o;const s=wn(jn(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);oi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=wn(jn(e)).link,n=t?wn(jn(t)).deep_link_id:null,r=wn(jn(e)).deep_link_id;return(r?wn(jn(r)).link:null)||r||n||t||e}(e);try{return new Na(t)}catch(n){return null}}}class Sa{constructor(){this.providerId=Sa.PROVIDER_ID}static credential(e,t){return va._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Na.parseLink(t);return oi(n,"argument-error"),va._fromEmailAndCode(e,n.code,n.tenantId)}}Sa.PROVIDER_ID="password",Sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ka{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ea extends ka{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _a extends Ea{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return _a.credential(t.oauthAccessToken)}catch(n){return null}}}_a.FACEBOOK_SIGN_IN_METHOD="facebook.com",_a.PROVIDER_ID="facebook.com";class Oa extends Ea{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Oa.credential(n,r)}catch(i){return null}}}Oa.GOOGLE_SIGN_IN_METHOD="google.com",Oa.PROVIDER_ID="google.com";class Aa extends Ea{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Aa.credential(t.oauthAccessToken)}catch(n){return null}}}Aa.GITHUB_SIGN_IN_METHOD="github.com",Aa.PROVIDER_ID="github.com";class Ta extends Ea{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ta.credential(n,r)}catch(i){return null}}}async function Ca(e,t){return wi(e,"POST","/v1/accounts:signUp",vi(e,t))}Ta.TWITTER_SIGN_IN_METHOD="twitter.com",Ta.PROVIDER_ID="twitter.com";class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Di._fromIdTokenResponse(e,n,r),a=Pa(n);return new Ia({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Pa(n);return new Ia({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Pa(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Da extends mn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Da.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Da(e,t,n,r)}}function Ma(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Da._fromErrorAndOperation(e,n,t,r);throw n})}async function Ra(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Oi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ia._forOperation(e,"link",r)}async function La(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const a=await Oi(e,Ma(r,i,t,e),n);oi(a.idToken,r,"internal-error");const o=_i(a.idToken);oi(o,r,"internal-error");const{sub:s}=o;return oi(e.uid===s,r,"user-mismatch"),Ia._forOperation(e,i,a)}catch(Le){throw(null===Le||void 0===Le?void 0:Le.code)==="auth/".concat("user-not-found")&&ni(r,"user-mismatch"),Le}}async function Fa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ma(e,r,t),a=await Ia._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Ua(e,t){return Fa(la(e),t)}function Ba(e,t,n){var r;oi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),oi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(oi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Va(e,t){const n=kn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Ba(n.auth,r,t);const{email:i}=await async function(e,t){return ya(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function za(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=kn(e),a={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Oi(i,async function(e,t){return xi(e,"POST","/v1/accounts:update",t)}(i.auth,a));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const s=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function qa(e){return kn(e).signOut()}new WeakMap;const Ha="__sak";class Wa{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ha,"1"),this.storage.removeItem(Ha),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ga extends Wa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=hn();return qi(e)||Qi(e)}()&&function(){try{return!(!window||window===window.top)}catch(Le){return!1}}(),this.fallbackToPolling=$i(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Xi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ga.type="LOCAL";const Ka=Ga;class Ya extends Wa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ya.type="SESSION";const Qa=Ya;class Xa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Xa(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function $a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Xa.receivers=[];class Ja{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=$a("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Za(){return window}function eo(){return"undefined"!==typeof Za().WorkerGlobalScope&&"function"===typeof Za().importScripts}const to="firebaseLocalStorageDb",no="firebaseLocalStorage",ro="fbase_key";class io{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ao(e,t){return e.transaction([no],t?"readwrite":"readonly").objectStore(no)}function oo(){const e=indexedDB.open(to,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(no,{keyPath:ro})}catch(Le){n(Le)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(no)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(to);return new io(e).toPromise()}(),t(await oo()))})})}async function so(e,t,n){const r=ao(e,!0).put({[ro]:t,value:n});return new io(r).toPromise()}function lo(e,t){const n=ao(e,!0).delete(t);return new io(n).toPromise()}class co{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await oo()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Le){if(t++>3)throw Le;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xa._getInstance(eo()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ja(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oo();return await so(e,Ha,"1"),await lo(e,Ha),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>so(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=ao(e,!1).get(t),r=await new io(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lo(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=ao(e,!1).getAll();return new io(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}co.type="LOCAL";const uo=co;ra("rcb"),new fi(3e4,6e4);const ho="recaptcha";async function fo(e,t,n){var r;const i=await n.verify();try{let a;if(oi("string"===typeof i,e,"argument-error"),oi(n.type===ho,e,"argument-error"),a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){oi("enroll"===t.type,e,"internal-error");const n=await function(e,t){return xi(e,"POST","/v2/accounts/mfaEnrollment:start",vi(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{oi("signin"===t.type,e,"internal-error");const n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;oi(n,e,"missing-multi-factor-info");const o=await function(e,t){return xi(e,"POST","/v2/accounts/mfaSignIn:start",vi(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return xi(e,"POST","/v1/accounts:sendVerificationCode",vi(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class po{constructor(e){this.providerId=po.PROVIDER_ID,this.auth=la(e)}verifyPhoneNumber(e,t){return fo(this.auth,e,kn(t))}static credential(e,t){return ja._fromVerification(e,t)}static credentialFromResult(e){const t=e;return po.credentialFromTaggedObject(t)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ja._fromTokenResponse(n,r):null}}function mo(e,t){return t?Ri(t):(oi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}po.PROVIDER_ID="phone",po.PHONE_SIGN_IN_METHOD="phone";class yo extends fa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function go(e){return Fa(e.auth,new yo(e),e.bypassAuthState)}function vo(e){const{auth:t,user:n}=e;return oi(n,t,"internal-error"),La(n,new yo(e),e.bypassAuthState)}async function xo(e){const{auth:t,user:n}=e;return oi(n,t,"internal-error"),Ra(n,new yo(e),e.bypassAuthState)}class bo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Le){this.reject(Le)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(Le){this.reject(Le)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return go;case"linkViaPopup":case"linkViaRedirect":return xo;case"reauthViaPopup":case"reauthViaRedirect":return vo;default:ni(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wo=new fi(2e3,1e4);class jo extends bo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oi(e,this.auth,"internal-error"),e}async onExecution(){li(1===this.filter.length,"Popup operations only handle one event");const e=$a();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,wo.get())};e()}}jo.currentPopupAction=null;const No=new Map;class So extends bo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=No.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=_o(t),r=Eo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Le){e=()=>Promise.reject(Le)}No.set(this.auth._key(),e)}return this.bypassAuthState||No.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ko(e,t){No.set(e._key(),t)}function Eo(e){return Ri(e._redirectPersistence)}function _o(e){return Ui("pendingRedirect",e.config.apiKey,e.name)}async function Oo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=la(e),i=mo(r,t),a=new So(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Ao{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Co(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Co(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ri(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(To(e))}saveEventToCache(e){this.cachedEventUids.add(To(e)),this.lastProcessedEventTime=Date.now()}}function To(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Co(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Io=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Po=/^https?/;async function Do(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return xi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Mo(r))return}catch(n){}ni(e,"unauthorized-domain")}function Mo(e){const t=ci(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Po.test(n))return!1;if(Io.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ro=new fi(3e4,6e4);function Lo(){const e=Za().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Fo=null;function Uo(e){return Fo=Fo||function(e){return new Promise((t,n)=>{var r,i,a;function o(){Lo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lo(),n(ri(e,"network-request-failed"))},timeout:Ro.get()})}if(null===(i=null===(r=Za().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Za().gapi)||void 0===a?void 0:a.load)){const t=ra("iframefcb");return Za()[t]=()=>{gapi.load?o():n(ri(e,"network-request-failed"))},na("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw Fo=null,e})}(e),Fo}const Bo=new fi(5e3,15e3),Vo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qo(e){const t=e.config;oi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Rr},i=zo.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(bn(r).slice(1))}const Ho={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Le){}}}function Go(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Ho),{width:r.toString(),height:i.toString(),top:a,left:o}),c=hn().toLowerCase();n&&(s=Hi(c)?"_blank":n),zi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Qi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Wo(null);const d=window.open(t||"",s,u);oi(d,e,"popup-blocked");try{d.focus()}catch(Le){}return new Wo(d)}const Ko="__/auth/handler",Yo="emulator/auth/handler",Qo=encodeURIComponent("fac");async function Xo(e,t,n,r,i,a){oi(e.config.authDomain,e,"auth-domain-config-required"),oi(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Rr,eventId:i};if(t instanceof ka){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof Ea){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Qo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ko);return pi(t,Yo)}(e),"?").concat(bn(s).slice(1)).concat(c)}const $o="webStorageSupport";const Jo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qa,this._completeRedirectFn=Oo,this._overrideRedirectResult=ko}async _openPopup(e,t,n,r){var i;li(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Go(e,await Xo(e,t,n,ci(),r),$a())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Za().location.href=e}(await Xo(e,t,n,ci(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(li(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await Uo(e),n=Za().gapi;return oi(n,e,"internal-error"),t.open({where:document.body,url:qo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vo,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ri(e,"network-request-failed"),a=Za().setTimeout(()=>{r(i)},Bo.get());function o(){Za().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}(e),n=new Ao(e);return t.register("authEvent",t=>{oi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($o,{type:$o},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[$o];void 0!==i&&t(!!i),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Do(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $i()||qi()||Qi()}};var Zo="@firebase/auth",es="0.23.2";class ts{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ns=cn("authIdTokenMaxAge")||300;let rs=null;var is;is="Browser",Ir(new En("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;oi(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:is,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ji(is)},c=new sa(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ri);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ir(new En("auth-internal",e=>(e=>new ts(e))(la(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(Zo,es,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(is)),Ur(Zo,es,"esm2017");var as,os="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ss={},ls=ls||{},cs=os||self;function us(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ds(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var hs="closure_uid_"+(1e9*Math.random()>>>0),fs=0;function ps(e,t,n){return e.call.apply(e.bind,arguments)}function ms(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ys(e,t,n){return(ys=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ps:ms).apply(null,arguments)}function gs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function vs(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function xs(){this.s=this.s,this.o=this.o}xs.prototype.s=!1,xs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,hs)&&e[hs]||(e[hs]=++fs)}(this)},xs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bs=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ws(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function js(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(us(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Ns(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ns.prototype.h=function(){this.defaultPrevented=!0};var Ss=function(){if(!cs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{cs.addEventListener("test",()=>{},t),cs.removeEventListener("test",()=>{},t)}catch(qe){}return e}();function ks(e){return/^[\s\xa0]*$/.test(e)}function Es(){var e=cs.navigator;return e&&(e=e.userAgent)?e:""}function _s(e){return-1!=Es().indexOf(e)}function Os(e){return Os[" "](e),e}Os[" "]=function(){};var As,Ts,Cs=_s("Opera"),Is=_s("Trident")||_s("MSIE"),Ps=_s("Edge"),Ds=Ps||Is,Ms=_s("Gecko")&&!(-1!=Es().toLowerCase().indexOf("webkit")&&!_s("Edge"))&&!(_s("Trident")||_s("MSIE"))&&!_s("Edge"),Rs=-1!=Es().toLowerCase().indexOf("webkit")&&!_s("Edge");function Ls(){var e=cs.document;return e?e.documentMode:void 0}e:{var Fs="",Us=function(){var e=Es();return Ms?/rv:([^\);]+)(\)|;)/.exec(e):Ps?/Edge\/([\d\.]+)/.exec(e):Is?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rs?/WebKit\/(\S+)/.exec(e):Cs?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Us&&(Fs=Us?Us[1]:""),Is){var Bs=Ls();if(null!=Bs&&Bs>parseFloat(Fs)){As=String(Bs);break e}}As=Fs}if(cs.document&&Is){var Vs=Ls();Ts=Vs||(parseInt(As,10)||void 0)}else Ts=void 0;var zs=Ts;function qs(e,t){if(Ns.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ms){e:{try{Os(t.nodeName);var i=!0;break e}catch(Ye){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Hs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qs.$.h.call(this)}}vs(qs,Ns);var Hs={2:"touch",3:"pen",4:"mouse"};qs.prototype.h=function(){qs.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ws="closure_listenable_"+(1e6*Math.random()|0),Gs=0;function Ks(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Gs,this.fa=this.ia=!1}function Ys(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Qs(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Xs(e){const t={};for(const n in e)t[n]=e[n];return t}const $s="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Js(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<$s.length;t++)n=$s[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Zs(e){this.src=e,this.g={},this.h=0}function el(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=bs(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ys(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function tl(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Zs.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=tl(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ks(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var nl="closure_lm_"+(1e6*Math.random()|0),rl={};function il(e,t,n,r,i){if(r&&r.once)return ol(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)il(e,t[a],n,r,i);return null}return n=fl(n),e&&e[Ws]?e.O(t,n,ds(r)?!!r.capture:!!r,i):al(e,t,n,!1,r,i)}function al(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ds(i)?!!i.capture:!!i,s=dl(e);if(s||(e[nl]=s=new Zs(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ul;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ss||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(cl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ol(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ol(e,t[a],n,r,i);return null}return n=fl(n),e&&e[Ws]?e.P(t,n,ds(r)?!!r.capture:!!r,i):al(e,t,n,!0,r,i)}function sl(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)sl(e,t[a],n,r,i);else r=ds(r)?!!r.capture:!!r,n=fl(n),e&&e[Ws]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=tl(a=e.g[t],n,r,i))&&(Ys(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=dl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=tl(t,n,r,i)),(n=-1<e?t[e]:null)&&ll(n))}function ll(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ws])el(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(cl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=dl(t))?(el(n,e),0==n.h&&(n.src=null,t[nl]=null)):Ys(e)}}}function cl(e){return e in rl?rl[e]:rl[e]="on"+e}function ul(e,t){if(e.fa)e=!0;else{t=new qs(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ll(e),e=n.call(r,t)}return e}function dl(e){return(e=e[nl])instanceof Zs?e:null}var hl="__closure_events_fn_"+(1e9*Math.random()>>>0);function fl(e){return"function"===typeof e?e:(e[hl]||(e[hl]=function(t){return e.handleEvent(t)}),e[hl])}function pl(){xs.call(this),this.i=new Zs(this),this.S=this,this.J=null}function ml(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ns(t,e);else if(t instanceof Ns)t.target=t.target||e;else{var i=t;Js(t=new Ns(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=yl(o,r,!0,t)&&i}if(i=yl(o=t.g=e,r,!0,t)&&i,i=yl(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=yl(o=t.g=n[a],r,!1,t)&&i}function yl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,l=o.la||o.src;o.ia&&el(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}vs(pl,xs),pl.prototype[Ws]=!0,pl.prototype.removeEventListener=function(e,t,n,r){sl(this,e,t,n,r)},pl.prototype.N=function(){if(pl.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ys(n[r]);delete t.g[e],t.h--}}this.J=null},pl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pl.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gl=cs.JSON.stringify;function vl(){var e=kl;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var xl=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new bl,e=>e.reset());class bl{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wl(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function jl(e){cs.setTimeout(()=>{throw e},0)}let Nl,Sl=!1,kl=new class{constructor(){this.h=this.g=null}add(e,t){const n=xl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},El=()=>{const e=cs.Promise.resolve(void 0);Nl=()=>{e.then(_l)}};var _l=()=>{for(var e;e=vl();){try{e.h.call(e.g)}catch(qe){jl(qe)}var t=xl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Sl=!1};function Ol(e,t){pl.call(this),this.h=e||1,this.g=t||cs,this.j=ys(this.qb,this),this.l=Date.now()}function Al(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Tl(e,t,n){if("function"===typeof e)n&&(e=ys(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ys(e.handleEvent,e)}return 2147483647<Number(t)?-1:cs.setTimeout(e,t||0)}function Cl(e){e.g=Tl(()=>{e.g=null,e.i&&(e.i=!1,Cl(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}vs(Ol,pl),(as=Ol.prototype).ga=!1,as.T=null,as.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ml(this,"tick"),this.ga&&(Al(this),this.start()))}},as.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},as.N=function(){Ol.$.N.call(this),Al(this),delete this.g};class Il extends xs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cl(this)}N(){super.N(),this.g&&(cs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pl(e){xs.call(this),this.h=e,this.g={}}vs(Pl,xs);var Dl=[];function Ml(e,t,n,r){Array.isArray(n)||(n&&(Dl[0]=n.toString()),n=Dl);for(var i=0;i<n.length;i++){var a=il(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Rl(e){Qs(e.g,function(e,t){this.g.hasOwnProperty(t)&&ll(e)},e),e.g={}}function Ll(){this.g=!0}function Fl(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return gl(n)}catch(Ve){return t}}(e,n)+(r?" "+r:"")})}Pl.prototype.N=function(){Pl.$.N.call(this),Rl(this)},Pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ll.prototype.Ea=function(){this.g=!1},Ll.prototype.info=function(){};var Ul={},Bl=null;function Vl(){return Bl=Bl||new pl}function zl(e){Ns.call(this,Ul.Ta,e)}function ql(e){const t=Vl();ml(t,new zl(t))}function Hl(e,t){Ns.call(this,Ul.STAT_EVENT,e),this.stat=t}function Wl(e){const t=Vl();ml(t,new Hl(t,e))}function Gl(e,t){Ns.call(this,Ul.Ua,e),this.size=t}function Kl(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return cs.setTimeout(function(){e()},t)}Ul.Ta="serverreachability",vs(zl,Ns),Ul.STAT_EVENT="statevent",vs(Hl,Ns),Ul.Ua="timingevent",vs(Gl,Ns);var Yl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ql={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xl(){}function $l(e){return e.h||(e.h=e.i())}function Jl(){}Xl.prototype.h=null;var Zl,ec={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tc(){Ns.call(this,"d")}function nc(){Ns.call(this,"c")}function rc(){}function ic(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Pl(this),this.P=oc,e=Ds?125:void 0,this.V=new Ol(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ac}function ac(){this.i=null,this.g="",this.h=!1}vs(tc,Ns),vs(nc,Ns),vs(rc,Xl),rc.prototype.g=function(){return new XMLHttpRequest},rc.prototype.i=function(){return{}},Zl=new rc;var oc=45e3,sc={},lc={};function cc(e,t,n){e.L=1,e.v=Oc(Nc(t)),e.s=n,e.S=!0,uc(e,null)}function uc(e,t){e.G=Date.now(),pc(e),e.A=Nc(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Vc(n.i,"t",r),e.C=0,n=e.l.J,e.h=new ac,e.g=Vu(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Il(ys(e.Pa,e,e.g),e.O)),Ml(e.U,e.g,"readystatechange",e.nb),t=e.I?Xs(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ql(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.W,e.s)}function dc(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function hc(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=fc(e,n),r==lc){4==t&&(e.o=4,Wl(14),i=!1),Fl(e.j,e.m,null,"[Incomplete Response]");break}if(r==sc){e.o=4,Wl(15),Fl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Fl(e.j,e.m,r,null),xc(e,r)}dc(e)&&r!=lc&&r!=sc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Wl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pu(t),t.M=!0,Wl(11))):(Fl(e.j,e.m,n,"[Invalid Chunked Response]"),vc(e),gc(e))}function fc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?lc:(n=Number(t.substring(n,r)),isNaN(n)?sc:(r+=1)+n>t.length?lc:(t=t.slice(r,r+n),e.C=r+n,t))}function pc(e){e.Y=Date.now()+e.P,mc(e,e.P)}function mc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Kl(ys(e.lb,e),t)}function yc(e){e.B&&(cs.clearTimeout(e.B),e.B=null)}function gc(e){0==e.l.H||e.J||Ru(e.l,e)}function vc(e){yc(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Al(e.V),Rl(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function xc(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Yc(n.i,e)))if(!e.K&&Yc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Mu(n),ku(n)}Iu(n),Wl(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Kl(ys(n.ib,n),6e3));if(1>=Kc(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Fu(n,11)}else if((e.K||n.g==e)&&Mu(n),!ks(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.i;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Qc(a,a.h),a.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,_c(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Bu(r,r.J?r.pa:null,r.Y),o.K){Xc(r.i,o);var s=o,l=r.L;l&&s.setTimeout(l),s.B&&(yc(s),pc(s)),r.g=o}else Cu(r);0<n.j.length&&_u(n)}else"stop"!=c[0]&&"close"!=c[0]||Fu(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Fu(n,7):Su(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ql()}catch(c){}}function bc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(us(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(us(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(us(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(as=ic.prototype).setTimeout=function(e){this.P=e},as.nb=function(e){e=e.target;const t=this.M;t&&3==vu(e)?t.l():this.Pa(e)},as.Pa=function(e){try{if(e==this.g)e:{const u=vu(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Ds||this.g&&(this.h.h||this.g.ja()||xu(this.g)))){this.J||4!=u||7==t||ql(),yc(this);var n=this.g.da();this.ca=n;t:if(dc(this)){var r=xu(this.g);e="";var i=r.length,a=4==vu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){vc(this),gc(this);var o="";break t}this.h.i=new cs.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ks(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Wl(12),vc(this),gc(this);break e}Fl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xc(this,n)}this.S?(hc(this,u,o),Ds&&this.i&&3==u&&(Ml(this.U,this.V,"tick",this.mb),this.V.start())):(Fl(this.j,this.m,o,null),xc(this,o)),4==u&&vc(this),this.i&&!this.J&&(4==u?Ru(this.l,this):(this.i=!1,pc(this)))}else(function(e){const t={};e=(e.g&&2<=vu(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(ks(e[r]))continue;var n=wl(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Wl(12)):(this.o=0,Wl(13)),vc(this),gc(this)}}}catch(Ge){}},as.mb=function(){if(this.g){var e=vu(this.g),t=this.g.ja();this.C<t.length&&(yc(this),hc(this,e,t),this.i&&4!=e&&pc(this))}},as.cancel=function(){this.J=!0,vc(this)},as.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(ql(),Wl(17)),vc(this),this.o=2,gc(this)):mc(this,this.Y-e)};var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof jc){this.h=e.h,Sc(this,e.j),this.s=e.s,this.g=e.g,kc(this,e.m),this.l=e.l;var t=e.i,n=new Lc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ec(this,n),this.o=e.o}else e&&(t=String(e).match(wc))?(this.h=!1,Sc(this,t[1]||"",!0),this.s=Ac(t[2]||""),this.g=Ac(t[3]||"",!0),kc(this,t[4]),this.l=Ac(t[5]||"",!0),Ec(this,t[6]||"",!0),this.o=Ac(t[7]||"")):(this.h=!1,this.i=new Lc(null,this.h))}function Nc(e){return new jc(e)}function Sc(e,t,n){e.j=n?Ac(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function kc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ec(e,t,n){t instanceof Lc?(e.i=t,function(e,t){t&&!e.j&&(Fc(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Uc(this,t),Vc(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Tc(t,Mc)),e.i=new Lc(t,e.h))}function _c(e,t,n){e.i.set(t,n)}function Oc(e){return _c(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ac(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Cc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Cc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Tc(t,Ic,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Tc(t,Ic,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Tc(n,"/"==n.charAt(0)?Dc:Pc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Tc(n,Rc)),e.join("")};var Ic=/[#\/\?@]/g,Pc=/[#\?:]/g,Dc=/[#\?]/g,Mc=/[#\?@]/g,Rc=/#/g;function Lc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Fc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Uc(e,t){Fc(e),t=zc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Bc(e,t){return Fc(e),t=zc(e,t),e.g.has(t)}function Vc(e,t,n){Uc(e,t),0<n.length&&(e.i=null,e.g.set(zc(e,t),ws(n)),e.h+=n.length)}function zc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(as=Lc.prototype).add=function(e,t){Fc(this),this.i=null,e=zc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},as.forEach=function(e,t){Fc(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},as.ta=function(){Fc(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},as.Z=function(e){Fc(this);let t=[];if("string"===typeof e)Bc(this,e)&&(t=t.concat(this.g.get(zc(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},as.set=function(e,t){return Fc(this),this.i=null,Bc(this,e=zc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},as.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},as.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var qc=class{constructor(e,t){this.g=e,this.map=t}};function Hc(e){this.l=e||Wc,cs.PerformanceNavigationTiming?e=0<(e=cs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(cs.g&&cs.g.Ka&&cs.g.Ka()&&cs.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wc=10;function Gc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Kc(e){return e.h?1:e.g?e.g.size:0}function Yc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qc(e,t){e.g?e.g.add(t):e.h=t}function Xc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $c(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ws(e.i)}Hc.prototype.cancel=function(){if(this.i=$c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Jc=class{stringify(e){return cs.JSON.stringify(e,void 0)}parse(e){return cs.JSON.parse(e,void 0)}};function Zc(){this.g=new Jc}function eu(e,t,n){const r=n||"";try{bc(e,function(e,n){let i=e;ds(e)&&(i=gl(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(Le){throw t.push(r+"type="+encodeURIComponent("_badmap")),Le}}function tu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Ye){}}function nu(e){this.l=e.fc||null,this.j=e.ob||!1}function ru(e,t){pl.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=iu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vs(nu,Xl),nu.prototype.g=function(){return new ru(this.l,this.j)},nu.prototype.i=function(e){return function(){return e}}({}),vs(ru,pl);var iu=0;function au(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ou(e){e.readyState=4,e.l=null,e.j=null,e.A=null,su(e)}function su(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(as=ru.prototype).open=function(e,t){if(this.readyState!=iu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,su(this)},as.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||cs).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},as.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ou(this)),this.readyState=iu},as.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,su(this)),this.g&&(this.readyState=3,su(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof cs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;au(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},as.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ou(this):su(this),3==this.readyState&&au(this)}},as.Za=function(e){this.g&&(this.response=this.responseText=e,ou(this))},as.Ya=function(e){this.g&&(this.response=e,ou(this))},as.ka=function(){this.g&&ou(this)},as.setRequestHeader=function(e,t){this.v.append(e,t)},as.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},as.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ru.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var lu=cs.JSON.parse;function cu(e){pl.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=uu,this.L=this.M=!1}vs(cu,pl);var uu="",du=/^https?$/i,hu=["POST","PUT"];function fu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pu(e),yu(e)}function pu(e){e.F||(e.F=!0,ml(e,"complete"),ml(e,"error"))}function mu(e){if(e.h&&"undefined"!=typeof ls&&(!e.C[1]||4!=vu(e)||2!=e.da()))if(e.v&&4==vu(e))Tl(e.La,0,e);else if(ml(e,"readystatechange"),4==vu(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(wc)[1]||null;!i&&cs.self&&cs.self.location&&(i=cs.self.location.protocol.slice(0,-1)),r=!du.test(i?i.toLowerCase():"")}n=r}if(n)ml(e,"complete"),ml(e,"success");else{e.m=6;try{var a=2<vu(e)?e.g.statusText:""}catch(Ve){a=""}e.j=a+" ["+e.da()+"]",pu(e)}}finally{yu(e)}}}function yu(e,t){if(e.g){gu(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ml(e,"ready");try{n.onreadystatechange=r}catch(Le){}}}function gu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(cs.clearTimeout(e.A),e.A=null)}function vu(e){return e.g?e.g.readyState:0}function xu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case uu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function bu(e){let t="";return Qs(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function wu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):_c(e,t,n))}function ju(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Nu(e){this.Ga=0,this.j=[],this.l=new Ll,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ju("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ju("baseRetryDelayMs",5e3,e),this.hb=ju("retryDelaySeedMs",1e4,e),this.eb=ju("forwardChannelMaxRetries",2,e),this.xa=ju("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Hc(e&&e.concurrentRequestLimit),this.Ja=new Zc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Su(e){if(Eu(e),3==e.H){var t=e.W++,n=Nc(e.I);if(_c(n,"SID",e.K),_c(n,"RID",t),_c(n,"TYPE","terminate"),Au(e,n),(t=new ic(e,e.l,t)).L=2,t.v=Oc(Nc(n)),n=!1,cs.navigator&&cs.navigator.sendBeacon)try{n=cs.navigator.sendBeacon(t.v.toString(),"")}catch(Ke){}!n&&cs.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vu(t.l,null),t.g.ha(t.v)),t.G=Date.now(),pc(t)}Uu(e)}function ku(e){e.g&&(Pu(e),e.g.cancel(),e.g=null)}function Eu(e){ku(e),e.u&&(cs.clearTimeout(e.u),e.u=null),Mu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&cs.clearTimeout(e.m),e.m=null)}function _u(e){if(!Gc(e.i)&&!e.m){e.m=!0;var t=e.Na;Nl||El(),Sl||(Nl(),Sl=!0),kl.add(t,e),e.C=0}}function Ou(e,t){var n;n=t?t.m:e.W++;const r=Nc(e.I);_c(r,"SID",e.K),_c(r,"RID",n),_c(r,"AID",e.V),Au(e,r),e.o&&e.s&&wu(r,e.o,e.s),n=new ic(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Tu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Qc(e.i,n),cc(n,r,t)}function Au(e,t){e.na&&Qs(e.na,function(e,n){_c(t,n,e)}),e.h&&bc({},function(e,n){_c(t,n,e)})}function Tu(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ys(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const s=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{eu(s,e,"req"+n+"_")}catch(Lt){r&&r(s)}}if(a){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Cu(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Nl||El(),Sl||(Nl(),Sl=!0),kl.add(t,e),e.A=0}}function Iu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Kl(ys(e.Ma,e),Lu(e,e.A)),e.A++,!0)}function Pu(e){null!=e.B&&(cs.clearTimeout(e.B),e.B=null)}function Du(e){e.g=new ic(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Nc(e.wa);_c(t,"RID","rpc"),_c(t,"SID",e.K),_c(t,"AID",e.V),_c(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&_c(t,"TO",e.qa),_c(t,"TYPE","xmlhttp"),Au(e,t),e.o&&e.s&&wu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Oc(Nc(t)),n.s=null,n.S=!0,uc(n,e)}function Mu(e){null!=e.v&&(cs.clearTimeout(e.v),e.v=null)}function Ru(e,t){var n=null;if(e.g==t){Mu(e),Pu(e),e.g=null;var r=2}else{if(!Yc(e.i,t))return;n=t.F,Xc(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ml(r=Vl(),new Gl(r,n)),_u(e)}else Cu(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Kc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Kl(ys(e.Na,e,t),Lu(e,e.C)),e.C++,!0))}(e,t)||2==r&&Iu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Fu(e,5);break;case 4:Fu(e,10);break;case 3:Fu(e,6);break;default:Fu(e,2)}}function Lu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Fu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ys(e.pb,e);n||(n=new jc("//www.google.com/images/cleardot.gif"),cs.location&&"http"==cs.location.protocol||Sc(n,"https"),Oc(n)),function(e,t){const n=new Ll;if(cs.Image){const r=new Image;r.onload=gs(tu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=gs(tu,n,r,"TestLoadImage: error",!1,t),r.onabort=gs(tu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=gs(tu,n,r,"TestLoadImage: timeout",!1,t),cs.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Wl(2);e.H=0,e.h&&e.h.za(t),Uu(e),Eu(e)}function Uu(e){if(e.H=0,e.ma=[],e.h){const t=$c(e.i);0==t.length&&0==e.j.length||(js(e.ma,t),js(e.ma,e.j),e.i.i.length=0,ws(e.j),e.j.length=0),e.h.ya()}}function Bu(e,t,n){var r=n instanceof jc?Nc(n):new jc(n);if(""!=r.g)t&&(r.g=t+"."+r.g),kc(r,r.m);else{var i=cs.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new jc(null);r&&Sc(a,r),t&&(a.g=t),i&&kc(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&_c(r,n,t),_c(r,"VER",e.ra),Au(e,r),r}function Vu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new cu(new nu({ob:!0})):new cu(e.va)).Oa(e.J),t}function zu(){}function qu(){if(Is&&!(10<=Number(zs)))throw Error("Environmental error: no available transport.")}function Hu(e,t){pl.call(this),this.g=new Nu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ks(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ks(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ku(this)}function Wu(e){tc.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Gu(){nc.call(this),this.status=1}function Ku(e){this.g=e}function Yu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Qu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Xu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(as=cu.prototype).Oa=function(e){this.M=e},as.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zl.g(),this.C=this.u?$l(this.u):$l(Zl),this.g.onreadystatechange=ys(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(Ye){return void fu(this,Ye)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=cs.FormData&&e instanceof cs.FormData,!(0<=bs(hu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gu(this),0<this.B&&((this.L=function(e){return Is&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ys(this.ua,this)):this.A=Tl(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Ye){fu(this,Ye)}},as.ua=function(){"undefined"!=typeof ls&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ml(this,"timeout"),this.abort(8))},as.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ml(this,"complete"),ml(this,"abort"),yu(this))},as.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yu(this,!0)),cu.$.N.call(this)},as.La=function(){this.s||(this.G||this.v||this.l?mu(this):this.kb())},as.kb=function(){mu(this)},as.isActive=function(){return!!this.g},as.da=function(){try{return 2<vu(this)?this.g.status:-1}catch(Be){return-1}},as.ja=function(){try{return this.g?this.g.responseText:""}catch(Be){return""}},as.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),lu(t)}},as.Ia=function(){return this.m},as.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(as=Nu.prototype).ra=8,as.H=1,as.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ic(this,this.l,e);let a=this.s;if(this.U&&(a?(a=Xs(a),Js(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Tu(this,i,t),_c(n=Nc(this.I),"RID",e),_c(n,"CVER",22),this.F&&_c(n,"X-HTTP-Session-Id",this.F),Au(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(bu(a)))+"&"+t:this.o&&wu(n,this.o,a)),Qc(this.i,i),this.bb&&_c(n,"TYPE","init"),this.P?(_c(n,"$req",t),_c(n,"SID","null"),i.aa=!0,cc(i,n,null)):cc(i,n,t),this.H=2}}else 3==this.H&&(e?Ou(this,e):0==this.j.length||Gc(this.i)||Ou(this))},as.Ma=function(){if(this.u=null,Du(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Kl(ys(this.jb,this),e)}},as.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wl(10),ku(this),Du(this))},as.ib=function(){null!=this.v&&(this.v=null,ku(this),Iu(this),Wl(19))},as.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Wl(2)):(this.l.info("Failed to ping google.com"),Wl(1))},as.isActive=function(){return!!this.h&&this.h.isActive(this)},(as=zu.prototype).Ba=function(){},as.Aa=function(){},as.za=function(){},as.ya=function(){},as.isActive=function(){return!0},as.Va=function(){},qu.prototype.g=function(e,t){return new Hu(e,t)},vs(Hu,pl),Hu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Wl(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Bu(e,null,e.Y),_u(e)},Hu.prototype.close=function(){Su(this.g)},Hu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=gl(e),e=n);t.j.push(new qc(t.fb++,e)),3==t.H&&_u(t)},Hu.prototype.N=function(){this.g.h=null,delete this.j,Su(this.g),delete this.g,Hu.$.N.call(this)},vs(Wu,tc),vs(Gu,nc),vs(Ku,zu),Ku.prototype.Ba=function(){ml(this.g,"a")},Ku.prototype.Aa=function(e){ml(this.g,new Wu(e))},Ku.prototype.za=function(e){ml(this.g,new Gu)},Ku.prototype.ya=function(){ml(this.g,"b")},vs(Yu,function(){this.blockSize=-1}),Yu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Yu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Qu(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Qu(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Qu(this,r),i=0;break}}this.h=i,this.i+=t},Yu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var $u={};function Ju(e){return-128<=e&&128>e?function(e,t){var n=$u;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Xu([0|e],0>e?-1:0)}):new Xu([0|e],0>e?-1:0)}function Zu(e){if(isNaN(e)||!isFinite(e))return td;if(0>e)return od(Zu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ed;return new Xu(t,0)}var ed=4294967296,td=Ju(0),nd=Ju(1),rd=Ju(16777216);function id(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ad(e){return-1==e.h}function od(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Xu(n,~e.h).add(nd)}function sd(e,t){return e.add(od(t))}function ld(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function cd(e,t){this.g=e,this.h=t}function ud(e,t){if(id(t))throw Error("division by zero");if(id(e))return new cd(td,td);if(ad(e))return t=ud(od(e),t),new cd(od(t.g),od(t.h));if(ad(t))return t=ud(e,od(t)),new cd(od(t.g),t.h);if(30<e.g.length){if(ad(e)||ad(t))throw Error("slowDivide_ only works with positive integers.");for(var n=nd,r=t;0>=r.X(e);)n=dd(n),r=dd(r);var i=hd(n,1),a=hd(r,1);for(r=hd(r,2),n=hd(n,2);!id(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=hd(r,1),n=hd(n,1)}return t=sd(e,i.R(t)),new cd(i,t)}for(i=td;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Zu(n)).R(t);ad(o)||0<o.X(e);)o=(a=Zu(n-=r)).R(t);id(a)&&(a=nd),i=i.add(a),e=sd(e,o)}return new cd(i,e)}function dd(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Xu(n,e.h)}function hd(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Xu(i,e.h)}(as=Xu.prototype).ea=function(){if(ad(this))return-od(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ed+r)*t,t*=ed}return e},as.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(id(this))return"0";if(ad(this))return"-"+od(this).toString(e);for(var t=Zu(Math.pow(e,6)),n=this,r="";;){var i=ud(n,t).g,a=((0<(n=sd(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(id(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},as.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},as.X=function(e){return ad(e=sd(this,e))?-1:id(e)?0:1},as.abs=function(){return ad(this)?od(this):this},as.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Xu(n,-2147483648&n[n.length-1]?-1:0)},as.R=function(e){if(id(this)||id(e))return td;if(ad(this))return ad(e)?od(this).R(od(e)):od(od(this).R(e));if(ad(e))return od(this.R(od(e)));if(0>this.X(rd)&&0>e.X(rd))return Zu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,ld(n,2*r+2*i),n[2*r+2*i+1]+=a*l,ld(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,ld(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,ld(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Xu(n,0)},as.gb=function(e){return ud(this,e).h},as.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Xu(n,this.h&e.h)},as.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Xu(n,this.h|e.h)},as.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Xu(n,this.h^e.h)},qu.prototype.createWebChannel=qu.prototype.g,Hu.prototype.send=Hu.prototype.u,Hu.prototype.open=Hu.prototype.m,Hu.prototype.close=Hu.prototype.close,Yl.NO_ERROR=0,Yl.TIMEOUT=8,Yl.HTTP_ERROR=6,Ql.COMPLETE="complete",Jl.EventType=ec,ec.OPEN="a",ec.CLOSE="b",ec.ERROR="c",ec.MESSAGE="d",pl.prototype.listen=pl.prototype.O,cu.prototype.listenOnce=cu.prototype.P,cu.prototype.getLastError=cu.prototype.Sa,cu.prototype.getLastErrorCode=cu.prototype.Ia,cu.prototype.getStatus=cu.prototype.da,cu.prototype.getResponseJson=cu.prototype.Wa,cu.prototype.getResponseText=cu.prototype.ja,cu.prototype.send=cu.prototype.ha,cu.prototype.setWithCredentials=cu.prototype.Oa,Yu.prototype.digest=Yu.prototype.l,Yu.prototype.reset=Yu.prototype.reset,Yu.prototype.update=Yu.prototype.j,Xu.prototype.add=Xu.prototype.add,Xu.prototype.multiply=Xu.prototype.R,Xu.prototype.modulo=Xu.prototype.gb,Xu.prototype.compare=Xu.prototype.X,Xu.prototype.toNumber=Xu.prototype.ea,Xu.prototype.toString=Xu.prototype.toString,Xu.prototype.getBits=Xu.prototype.D,Xu.fromNumber=Zu,Xu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return od(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Zu(Math.pow(n,8)),i=td,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Zu(Math.pow(n,o)),i=i.R(o).add(Zu(s))):i=(i=i.R(r)).add(Zu(s))}return i};var fd=ss.createWebChannelTransport=function(){return new qu},pd=ss.getStatEventTarget=function(){return Vl()},md=ss.ErrorCode=Yl,yd=ss.EventType=Ql,gd=ss.Event=Ul,vd=ss.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xd=ss.FetchXmlHttpFactory=nu,bd=ss.WebChannel=Jl,wd=ss.XhrIo=cu,jd=ss.Md5=Yu,Nd=ss.Integer=Xu;const Sd="@firebase/firestore";class kd{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kd.UNAUTHENTICATED=new kd(null),kd.GOOGLE_CREDENTIALS=new kd("google-credentials-uid"),kd.FIRST_PARTY=new kd("first-party-uid"),kd.MOCK_USER=new kd("mock-user");let Ed="9.23.0";const _d=new Rn("@firebase/firestore");function Od(){return _d.logLevel}function Ad(e){if(_d.logLevel<=Cn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Id);_d.debug("Firestore (".concat(Ed,"): ").concat(e),...i)}}function Td(e){if(_d.logLevel<=Cn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Id);_d.error("Firestore (".concat(Ed,"): ").concat(e),...i)}}function Cd(e){if(_d.logLevel<=Cn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Id);_d.warn("Firestore (".concat(Ed,"): ").concat(e),...i)}}function Id(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Pd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ed,") INTERNAL ASSERTION FAILED: ")+e;throw Td(t),new Error(t)}function Dd(e,t){e||Pd()}function Md(e,t){return e}const Rd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ld extends mn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Fd{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ud{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Bd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kd.UNAUTHENTICATED))}shutdown(){}}class Vd{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zd{constructor(e){this.t=e,this.currentUser=kd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Fd;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fd,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Ad("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Ad("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fd)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ad("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Dd("string"==typeof t.accessToken),new Ud(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dd(null===e||"string"==typeof e),new kd(e)}}class qd{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=kd.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Hd{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new qd(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(kd.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gd{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Ad("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Ad("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ad("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Ad("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Dd("string"==typeof e.token),this.T=e.token,new Wd(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Kd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Yd{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Kd(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Qd(e,t){return e<t?-1:e>t?1:0}function Xd(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class $d{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ld(Rd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ld(Rd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ld(Rd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ld(Rd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $d.fromMillis(Date.now())}static fromDate(e){return $d.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new $d(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qd(this.nanoseconds,e.nanoseconds):Qd(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jd{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jd(e)}static min(){return new Jd(new $d(0,0))}static max(){return new Jd(new $d(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zd{constructor(e,t,n){void 0===t?t=0:t>e.length&&Pd(),void 0===n?n=e.length-t:n>e.length-t&&Pd(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Zd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zd?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class eh extends Zd{construct(e,t,n){return new eh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ld(Rd.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new eh(e)}static emptyPath(){return new eh([])}}const th=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nh extends Zd{construct(e,t,n){return new nh(e,t,n)}static isValidIdentifier(e){return th.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nh.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ld(Rd.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ld(Rd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ld(Rd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Ld(Rd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nh(t)}static emptyPath(){return new nh([])}}class rh{constructor(e){this.path=e}static fromPath(e){return new rh(eh.fromString(e))}static fromName(e){return new rh(eh.fromString(e).popFirst(5))}static empty(){return new rh(eh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===eh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return eh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rh(new eh(e.slice()))}}class ih{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ih.UNKNOWN_ID=-1;function ah(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Jd.fromTimestamp(1e9===r?new $d(n+1,0):new $d(n,r));return new sh(i,rh.empty(),t)}function oh(e){return new sh(e.readTime,e.key,-1)}class sh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new sh(Jd.min(),rh.empty(),-1)}static max(){return new sh(Jd.max(),rh.empty(),-1)}}function lh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=rh.comparator(e.documentKey,t.documentKey),0!==n?n:Qd(e.largestBatchId,t.largestBatchId))}const ch="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function dh(e){if(e.code!==Rd.FAILED_PRECONDITION||e.message!==ch)throw e;Ad("LocalStore","Unexpectedly lost primary lease")}class hh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hh((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof hh?t:hh.resolve(t)}catch(e){return hh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):hh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):hh.reject(t)}static resolve(e){return new hh((t,n)=>{t(e)})}static reject(e){return new hh((t,n)=>{n(e)})}static waitFor(e){return new hh((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=hh.resolve(!1);for(const n of e)t=t.next(e=>e?hh.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new hh((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new hh((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function fh(e){return"IndexedDbTransactionError"===e.name}class ph{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function mh(e){return null==e}function yh(e){return 0===e&&1/e==-1/0}function gh(e){return"number"==typeof e&&Number.isInteger(e)&&!yh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}ph.ct=-1;const vh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bh=xh;function wh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function jh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Sh{constructor(e,t){this.comparator=e,this.root=t||Eh.EMPTY}insert(e,t){return new Sh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Eh.BLACK,null,null))}remove(e){return new Sh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Eh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Eh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Eh.RED,this.left=null!=r?r:Eh.EMPTY,this.right=null!=i?i:Eh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Eh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Eh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Eh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Eh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Eh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pd();if(this.right.isRed())throw Pd();const e=this.left.check();if(e!==this.right.check())throw Pd();return e+(this.isRed()?0:1)}}Eh.EMPTY=null,Eh.RED=!0,Eh.BLACK=!1,Eh.EMPTY=new class{constructor(){this.size=0}get key(){throw Pd()}get value(){throw Pd()}get color(){throw Pd()}get left(){throw Pd()}get right(){throw Pd()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Eh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _h{constructor(e){this.comparator=e,this.data=new Sh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Oh(this.data.getIterator())}getIteratorFrom(e){return new Oh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof _h))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _h(this.comparator);return t.data=e,t}}class Oh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ah{constructor(e){this.fields=e,e.sort(nh.comparator)}static empty(){return new Ah([])}unionWith(e){let t=new _h(nh.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ah(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xd(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Th extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ch{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Th("Invalid base64 string: "+e):e}}(e);return new Ch(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ch(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qd(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ch.EMPTY_BYTE_STRING=new Ch("");const Ih=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ph(e){if(Dd(!!e),"string"==typeof e){let t=0;const n=Ih.exec(e);if(Dd(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Dh(e.seconds),nanos:Dh(e.nanos)}}function Dh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Mh(e){return"string"==typeof e?Ch.fromBase64String(e):Ch.fromUint8Array(e)}function Rh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lh(e){const t=e.mapValue.fields.__previous_value__;return Rh(t)?Lh(t):t}function Fh(e){const t=Ph(e.mapValue.fields.__local_write_time__.timestampValue);return new $d(t.seconds,t.nanos)}class Uh{constructor(e,t,n,r,i,a,o,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l}}class Bh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bh&&e.projectId===this.projectId&&e.database===this.database}}const Vh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rh(e)?4:nf(e)?9007199254740991:10:Pd()}function qh(e,t){if(e===t)return!0;const n=zh(e);if(n!==zh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fh(e).isEqual(Fh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ph(e.timestampValue),r=Ph(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Mh(e.bytesValue).isEqual(Mh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Dh(e.geoPointValue.latitude)===Dh(t.geoPointValue.latitude)&&Dh(e.geoPointValue.longitude)===Dh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Dh(e.integerValue)===Dh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Dh(e.doubleValue),r=Dh(t.doubleValue);return n===r?yh(n)===yh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xd(e.arrayValue.values||[],t.arrayValue.values||[],qh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wh(n)!==wh(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qh(n[i],r[i])))return!1;return!0}(e,t);default:return Pd()}}function Hh(e,t){return void 0!==(e.values||[]).find(e=>qh(e,t))}function Wh(e,t){if(e===t)return 0;const n=zh(e),r=zh(t);if(n!==r)return Qd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qd(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Dh(e.integerValue||e.doubleValue),r=Dh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gh(e.timestampValue,t.timestampValue);case 4:return Gh(Fh(e),Fh(t));case 5:return Qd(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Mh(e),r=Mh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Qd(n[i],r[i]);if(0!==e)return e}return Qd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Qd(Dh(e.latitude),Dh(t.latitude));return 0!==n?n:Qd(Dh(e.longitude),Dh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Wh(n[i],r[i]);if(e)return e}return Qd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Vh.mapValue&&t===Vh.mapValue)return 0;if(e===Vh.mapValue)return 1;if(t===Vh.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=Qd(r[o],a[o]);if(0!==e)return e;const t=Wh(n[r[o]],i[a[o]]);if(0!==t)return t}return Qd(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Pd()}}function Gh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qd(e,t);const n=Ph(e),r=Ph(t),i=Qd(n.seconds,r.seconds);return 0!==i?i:Qd(n.nanos,r.nanos)}function Kh(e){return Yh(e)}function Yh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ph(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Mh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,rh.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Yh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Yh(e.fields[i]));return n+"}"}(e.mapValue):Pd();var t,n}function Qh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xh(e){return!!e&&"integerValue"in e}function $h(e){return!!e&&"arrayValue"in e}function Jh(e){return!!e&&"nullValue"in e}function Zh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ef(e){return!!e&&"mapValue"in e}function tf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return jh(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=tf(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tf(e.arrayValue.values[n]);return t}return Object.assign({},e)}function nf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class rf{constructor(e){this.value=e}static empty(){return new rf({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tf(t)}setAll(e){let t=nh.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=tf(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ef(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){jh(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new rf(tf(this.value))}}function af(e){const t=[];return jh(e.fields,(e,n)=>{const r=new nh([e]);if(ef(n)){const e=af(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Ah(t)}class of{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new of(e,0,Jd.min(),Jd.min(),Jd.min(),rf.empty(),0)}static newFoundDocument(e,t,n,r){return new of(e,1,t,Jd.min(),n,r,0)}static newNoDocument(e,t){return new of(e,2,t,Jd.min(),Jd.min(),rf.empty(),0)}static newUnknownDocument(e,t){return new of(e,3,t,Jd.min(),Jd.min(),rf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof of&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new of(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class sf{constructor(e,t){this.position=e,this.inclusive=t}}function lf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?rh.comparator(rh.fromName(o.referenceValue),n.key):Wh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function cf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qh(e.position[n],t.position[n]))return!1;return!0}class uf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function df(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class hf{}class ff extends hf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new wf(e,t,n):"array-contains"===t?new kf(e,n):"in"===t?new Ef(e,n):"not-in"===t?new _f(e,n):"array-contains-any"===t?new Of(e,n):new ff(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new jf(e,n):new Nf(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Wh(t,this.value)):null!==t&&zh(this.value)===zh(t)&&this.matchesComparison(Wh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pd()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pf extends hf{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new pf(e,t)}matches(e){return mf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function mf(e){return"and"===e.op}function yf(e){return gf(e)&&mf(e)}function gf(e){for(const t of e.filters)if(t instanceof pf)return!1;return!0}function vf(e){if(e instanceof ff)return e.field.canonicalString()+e.op.toString()+Kh(e.value);if(yf(e))return e.filters.map(e=>vf(e)).join(",");{const t=e.filters.map(e=>vf(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function xf(e,t){return e instanceof ff?function(e,t){return t instanceof ff&&e.op===t.op&&e.field.isEqual(t.field)&&qh(e.value,t.value)}(e,t):e instanceof pf?function(e,t){return t instanceof pf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&xf(n,t.filters[r]),!0)}(e,t):void Pd()}function bf(e){return e instanceof ff?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Kh(e.value))}(e):e instanceof pf?function(e){return e.op.toString()+" {"+e.getFilters().map(bf).join(" ,")+"}"}(e):"Filter"}class wf extends ff{constructor(e,t,n){super(e,t,n),this.key=rh.fromName(n.referenceValue)}matches(e){const t=rh.comparator(e.key,this.key);return this.matchesComparison(t)}}class jf extends ff{constructor(e,t){super(e,"in",t),this.keys=Sf("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Nf extends ff{constructor(e,t){super(e,"not-in",t),this.keys=Sf("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Sf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>rh.fromName(e.referenceValue))}class kf extends ff{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $h(t)&&Hh(t.arrayValue,this.value)}}class Ef extends ff{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hh(this.value.arrayValue,t)}}class _f extends ff{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hh(this.value.arrayValue,t)}}class Of extends ff{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$h(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Hh(this.value.arrayValue,e))}}class Af{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.dt=null}}function Tf(e){return new Af(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Cf(e){const t=Md(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>vf(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),mh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Kh(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Kh(e)).join(",")),t.dt=e}return t.dt}function If(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!df(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cf(e.startAt,t.startAt)&&cf(e.endAt,t.endAt)}function Pf(e){return rh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Df{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}}function Mf(e,t,n,r,i,a,o,s){return new Df(e,t,n,r,i,a,o,s)}function Rf(e){return new Df(e)}function Lf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ff(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Uf(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Bf(e){return null!==e.collectionGroup}function Vf(e){const t=Md(e);if(null===t.wt){t.wt=[];const e=Uf(t),n=Ff(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new uf(e)),t.wt.push(new uf(nh.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new uf(nh.keyField(),e))}}}return t.wt}function zf(e){const t=Md(e);if(!t._t)if("F"===t.limitType)t._t=Tf(t.path,t.collectionGroup,Vf(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Vf(t)){const t="desc"===i.dir?"asc":"desc";e.push(new uf(i.field,t))}const n=t.endAt?new sf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sf(t.startAt.position,t.startAt.inclusive):null;t._t=Tf(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function qf(e,t){t.getFirstInequalityField(),Uf(e);const n=e.filters.concat([t]);return new Df(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Hf(e,t,n){return new Df(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Wf(e,t){return If(zf(e),zf(t))&&e.limitType===t.limitType}function Gf(e){return"".concat(Cf(zf(e)),"|lt:").concat(e.limitType)}function Kf(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>bf(e)).join(", "),"]")),mh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Kh(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Kh(e)).join(",")),"Target(".concat(t,")")}(zf(e)),"; limitType=").concat(e.limitType,")")}function Yf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):rh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Vf(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=lf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Vf(e),t))&&!(e.endAt&&!function(e,t,n){const r=lf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Vf(e),t))}(e,t)}function Qf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xf(e){return(t,n)=>{let r=!1;for(const i of Vf(e)){const e=$f(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function $f(e,t,n){const r=e.field.isKeyField()?rh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wh(r,i):Pd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pd()}}class Jf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){jh(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Nh(this.inner)}size(){return this.innerSize}}const Zf=new Sh(rh.comparator);function ep(){return Zf}const tp=new Sh(rh.comparator);function np(){let e=tp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function rp(e){let t=tp;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ip(){return op()}function ap(){return op()}function op(){return new Jf(e=>e.toString(),(e,t)=>e.isEqual(t))}const sp=new Sh(rh.comparator),lp=new _h(rh.comparator);function cp(){let e=lp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const up=new _h(Qd);function dp(){return up}function hp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(t)?"-0":t}}function fp(e){return{integerValue:""+e}}function pp(e,t){return gh(t)?fp(t):hp(e,t)}class mp{constructor(){this._=void 0}}function yp(e,t,n){return e instanceof xp?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Rh(t)&&(t=Lh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof bp?wp(e,t):e instanceof jp?Np(e,t):function(e,t){const n=vp(e,t),r=kp(n)+kp(e.gt);return Xh(n)&&Xh(e.gt)?fp(r):hp(e.serializer,r)}(e,t)}function gp(e,t,n){return e instanceof bp?wp(e,t):e instanceof jp?Np(e,t):n}function vp(e,t){return e instanceof Sp?Xh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class xp extends mp{}class bp extends mp{constructor(e){super(),this.elements=e}}function wp(e,t){const n=Ep(t);for(const r of e.elements)n.some(e=>qh(e,r))||n.push(r);return{arrayValue:{values:n}}}class jp extends mp{constructor(e){super(),this.elements=e}}function Np(e,t){let n=Ep(t);for(const r of e.elements)n=n.filter(e=>!qh(e,r));return{arrayValue:{values:n}}}class Sp extends mp{constructor(e,t){super(),this.serializer=e,this.gt=t}}function kp(e){return Dh(e.integerValue||e.doubleValue)}function Ep(e){return $h(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class _p{constructor(e,t){this.field=e,this.transform=t}}class Op{constructor(e,t){this.version=e,this.transformResults=t}}class Ap{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ap}static exists(e){return new Ap(void 0,e)}static updateTime(e){return new Ap(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Cp{}function Ip(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zp(e.key,Ap.none()):new Lp(e.key,e.data,Ap.none());{const n=e.data,r=rf.empty();let i=new _h(nh.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Fp(e.key,r,new Ah(i.toArray()),Ap.none())}}function Pp(e,t,n){e instanceof Lp?function(e,t,n){const r=e.value.clone(),i=Bp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Fp?function(e,t,n){if(!Tp(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Bp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Up(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Dp(e,t,n,r){return e instanceof Lp?function(e,t,n,r){if(!Tp(e.precondition,t))return n;const i=e.value.clone(),a=Vp(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Fp?function(e,t,n,r){if(!Tp(e.precondition,t))return n;const i=Vp(e.fieldTransforms,r,t),a=t.data;return a.setAll(Up(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Tp(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Mp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=vp(r.transform,e||null);null!=i&&(null===n&&(n=rf.empty()),n.set(r.field,i))}return n||null}function Rp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xd(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof bp&&t instanceof bp||e instanceof jp&&t instanceof jp?Xd(e.elements,t.elements,qh):e instanceof Sp&&t instanceof Sp?qh(e.gt,t.gt):e instanceof xp&&t instanceof xp}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Lp extends Cp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fp extends Cp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Up(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Bp(e,t,n){const r=new Map;Dd(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,gp(o,s,n[i]))}return r}function Vp(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,yp(e,a,t))}return r}class zp extends Cp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qp extends Cp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hp{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Pp(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Dp(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Dp(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ap();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=Ip(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(Jd.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cp())}isEqual(e){return this.batchId===e.batchId&&Xd(this.mutations,e.mutations,(e,t)=>Rp(e,t))&&Xd(this.baseMutations,e.baseMutations,(e,t)=>Rp(e,t))}}class Wp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Dd(e.mutations.length===n.length);let r=sp;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Wp(e,t,n,r)}}class Gp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Kp{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yp,Qp;function Xp(e){switch(e){default:return Pd();case Rd.CANCELLED:case Rd.UNKNOWN:case Rd.DEADLINE_EXCEEDED:case Rd.RESOURCE_EXHAUSTED:case Rd.INTERNAL:case Rd.UNAVAILABLE:case Rd.UNAUTHENTICATED:return!1;case Rd.INVALID_ARGUMENT:case Rd.NOT_FOUND:case Rd.ALREADY_EXISTS:case Rd.PERMISSION_DENIED:case Rd.FAILED_PRECONDITION:case Rd.ABORTED:case Rd.OUT_OF_RANGE:case Rd.UNIMPLEMENTED:case Rd.DATA_LOSS:return!0}}function $p(e){if(void 0===e)return Td("GRPC error has no .code"),Rd.UNKNOWN;switch(e){case Yp.OK:return Rd.OK;case Yp.CANCELLED:return Rd.CANCELLED;case Yp.UNKNOWN:return Rd.UNKNOWN;case Yp.DEADLINE_EXCEEDED:return Rd.DEADLINE_EXCEEDED;case Yp.RESOURCE_EXHAUSTED:return Rd.RESOURCE_EXHAUSTED;case Yp.INTERNAL:return Rd.INTERNAL;case Yp.UNAVAILABLE:return Rd.UNAVAILABLE;case Yp.UNAUTHENTICATED:return Rd.UNAUTHENTICATED;case Yp.INVALID_ARGUMENT:return Rd.INVALID_ARGUMENT;case Yp.NOT_FOUND:return Rd.NOT_FOUND;case Yp.ALREADY_EXISTS:return Rd.ALREADY_EXISTS;case Yp.PERMISSION_DENIED:return Rd.PERMISSION_DENIED;case Yp.FAILED_PRECONDITION:return Rd.FAILED_PRECONDITION;case Yp.ABORTED:return Rd.ABORTED;case Yp.OUT_OF_RANGE:return Rd.OUT_OF_RANGE;case Yp.UNIMPLEMENTED:return Rd.UNIMPLEMENTED;case Yp.DATA_LOSS:return Rd.DATA_LOSS;default:return Pd()}}(Qp=Yp||(Yp={}))[Qp.OK=0]="OK",Qp[Qp.CANCELLED=1]="CANCELLED",Qp[Qp.UNKNOWN=2]="UNKNOWN",Qp[Qp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qp[Qp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qp[Qp.NOT_FOUND=5]="NOT_FOUND",Qp[Qp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qp[Qp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qp[Qp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qp[Qp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qp[Qp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qp[Qp.ABORTED=10]="ABORTED",Qp[Qp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qp[Qp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qp[Qp.INTERNAL=13]="INTERNAL",Qp[Qp.UNAVAILABLE=14]="UNAVAILABLE",Qp[Qp.DATA_LOSS=15]="DATA_LOSS";class Jp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Zp}static getOrCreateInstance(){return null===Zp&&(Zp=new Jp),Zp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Zp=null;function em(){return new TextEncoder}const tm=new Nd([4294967295,4294967295],0);function nm(e){const t=em().encode(e),n=new jd;return n.update(t),new Uint8Array(n.digest())}function rm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Nd([n,r],0),new Nd([i,a],0)]}class im{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new am("Invalid padding: ".concat(t));if(n<0)throw new am("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new am("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new am("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Nd.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Nd.fromNumber(n)));return 1===r.compare(tm)&&(r=new Nd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=nm(e),[n,r]=rm(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new im(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.It)return;const t=nm(e),[n,r]=rm(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class am extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class om{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,sm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new om(Jd.min(),r,new Sh(Qd),ep(),cp())}}class sm{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new sm(n,t,cp(),cp(),cp())}}class lm{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class cm{constructor(e,t){this.targetId=e,this.Vt=t}}class um{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ch.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class dm{constructor(){this.St=0,this.Dt=pm(),this.Ct=Ch.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=cp(),t=cp(),n=cp();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Pd()}}),new sm(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=pm()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class hm{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ep(),this.zt=fm(),this.Wt=new Sh(Qd)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Pd()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const a=i.target;if(Pf(a))if(0===r){const e=new rh(a.path);this.Yt(n,e,of.newNoDocument(e,Jd.min()))}else Dd(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Jp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(l=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=n;let s,l;try{s=Mh(i).toUint8Array()}catch(e){if(e instanceof Th)return Cd("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new im(s,a,o)}catch(e){return Cd(e instanceof am?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(a)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&Pf(i.target)){const t=new rh(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,of.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=cp();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new om(e,t,this.Wt,this.jt,n);return this.jt=ep(),this.zt=fm(),this.Wt=new Sh(Qd),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new dm,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new _h(Qd),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ad("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new dm),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function fm(){return new Sh(rh.comparator)}function pm(){return new Sh(rh.comparator)}const mm={asc:"ASCENDING",desc:"DESCENDING"},ym={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gm={and:"AND",or:"OR"};class vm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xm(e,t){return e.useProto3Json||mh(t)?t:{value:t}}function bm(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function wm(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function jm(e,t){return bm(e,t.toTimestamp())}function Nm(e){return Dd(!!e),Jd.fromTimestamp(function(e){const t=Ph(e);return new $d(t.seconds,t.nanos)}(e))}function Sm(e,t){return function(e){return new eh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function km(e){const t=eh.fromString(e);return Dd(Wm(t)),t}function Em(e,t){return Sm(e.databaseId,t.path)}function _m(e,t){const n=km(t);if(n.get(1)!==e.databaseId.projectId)throw new Ld(Rd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ld(Rd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rh(Cm(n))}function Om(e,t){return Sm(e.databaseId,t)}function Am(e){const t=km(e);return 4===t.length?eh.emptyPath():Cm(t)}function Tm(e){return new eh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cm(e){return Dd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Im(e,t,n){return{name:Em(e,t),fields:n.value.mapValue.fields}}function Pm(e,t){let n;if(t instanceof Lp)n={update:Im(e,t.key,t.value)};else if(t instanceof zp)n={delete:Em(e,t.key)};else if(t instanceof Fp)n={update:Im(e,t.key,t.data),updateMask:Hm(t.fieldMask)};else{if(!(t instanceof qp))return Pd();n={verify:Em(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof xp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sp)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Pd()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pd()}(e,t.precondition)),n}function Dm(e,t){return{documents:[Om(e,t.path)]}}function Mm(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Om(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Om(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return qm(pf.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Vm(e.field),direction:Fm(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=xm(e,t.limit);var s;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Rm(e){let t=Am(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Dd(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Lm(e);return t instanceof pf&&yf(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new uf(zm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,mh(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new sf(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new sf(n,t)}(n.endAt)),Mf(t,i,o,a,s,"F",l,c)}function Lm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=zm(e.unaryFilter.field);return ff.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=zm(e.unaryFilter.field);return ff.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=zm(e.unaryFilter.field);return ff.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=zm(e.unaryFilter.field);return ff.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Pd()}}(e):void 0!==e.fieldFilter?function(e){return ff.create(zm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pd()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return pf.create(e.compositeFilter.filters.map(e=>Lm(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Pd()}}(e.compositeFilter.op))}(e):Pd()}function Fm(e){return mm[e]}function Um(e){return ym[e]}function Bm(e){return gm[e]}function Vm(e){return{fieldPath:e.canonicalString()}}function zm(e){return nh.fromServerFormat(e.fieldPath)}function qm(e){return e instanceof ff?function(e){if("=="===e.op){if(Zh(e.value))return{unaryFilter:{field:Vm(e.field),op:"IS_NAN"}};if(Jh(e.value))return{unaryFilter:{field:Vm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zh(e.value))return{unaryFilter:{field:Vm(e.field),op:"IS_NOT_NAN"}};if(Jh(e.value))return{unaryFilter:{field:Vm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vm(e.field),op:Um(e.op),value:e.value}}}(e):e instanceof pf?function(e){const t=e.getFilters().map(e=>qm(e));return 1===t.length?t[0]:{compositeFilter:{op:Bm(e.op),filters:t}}}(e):Pd()}function Hm(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Wm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Gm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jd.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jd.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ch.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Gm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Km{constructor(e){this.fe=e}}function Ym(e){const t=Rm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hf(t,t.limit,"L"):t}class Qm{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Dh(e.integerValue));else if("doubleValue"in e){const n=Dh(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),yh(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Mh(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?nf(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Pd()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),rh.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Qm.Ve=new Qm;class Xm{constructor(){this.rn=new $m}addToCollectionParentIndex(e,t){return this.rn.add(t),hh.resolve()}getCollectionParents(e,t){return hh.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return hh.resolve()}deleteFieldIndex(e,t){return hh.resolve()}getDocumentsMatchingTarget(e,t){return hh.resolve(null)}getIndexType(e,t){return hh.resolve(0)}getFieldIndexes(e,t){return hh.resolve([])}getNextCollectionGroupToUpdate(e){return hh.resolve(null)}getMinOffset(e,t){return hh.resolve(sh.min())}getMinOffsetFromCollectionGroup(e,t){return hh.resolve(sh.min())}updateCollectionGroup(e,t,n){return hh.resolve()}updateIndexEntries(e,t){return hh.resolve()}}class $m{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _h(eh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new _h(eh.comparator)).toArray()}}new Uint8Array(0);class Jm{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Jm(e,Jm.DEFAULT_COLLECTION_PERCENTILE,Jm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Jm.DEFAULT_COLLECTION_PERCENTILE=10,Jm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jm.DEFAULT=new Jm(41943040,Jm.DEFAULT_COLLECTION_PERCENTILE,Jm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jm.DISABLED=new Jm(-1,0,0);class Zm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Zm(0)}static Mn(){return new Zm(-1)}}class ey{constructor(){this.changes=new Jf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,of.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ty{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ny{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Dp(n.mutation,e,Ah.empty(),$d.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,cp()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cp();const r=ip();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=np();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ip();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,cp()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=ep();const a=op(),o=op();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Fp)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Dp(o.mutation,t,o.mutation.getFieldMask(),$d.now())):a.set(t.key,Ah.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new ty(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=op();let r=new Sh((e,t)=>e-t),i=cp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||Ah.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||cp()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=ap();l.forEach(e=>{if(!i.has(e)){const r=Ip(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return hh.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return rh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):hh.resolve(ip());let o=-1,s=i;return a.next(t=>hh.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?hh.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,cp())).next(e=>({batchId:o,changes:rp(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rh(t)).next(e=>{let t=np();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=np();return this.indexManager.getCollectionParents(e,r).next(a=>hh.forEach(a,a=>{const o=function(e,t){return new Df(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,of.newInvalidDocument(r)))});let n=np();return e.forEach((e,i)=>{const a=r.get(e);void 0!==a&&Dp(a.mutation,i,Ah.empty(),$d.now()),Yf(t,i)&&(n=n.insert(e,i))}),n})}}class ry{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return hh.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Nm(n.createTime)}),hh.resolve()}getNamedQuery(e,t){return hh.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Ym(e.bundledQuery),readTime:Nm(e.readTime)}}(t)),hh.resolve()}}class iy{constructor(){this.overlays=new Sh(rh.comparator),this.ls=new Map}getOverlay(e,t){return hh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ip();return hh.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),hh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),hh.resolve()}getOverlaysForCollection(e,t,n){const r=ip(),i=t.length+1,a=new rh(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return hh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Sh((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ip(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=ip(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return hh.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Gp(t,n));let i=this.ls.get(t);void 0===i&&(i=cp(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class ay{constructor(){this.fs=new _h(oy.ds),this.ws=new _h(oy._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new oy(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new oy(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new rh(new eh([])),n=new oy(t,e),r=new oy(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new rh(new eh([])),n=new oy(t,e),r=new oy(t,e+1);let i=cp();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new oy(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class oy{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return rh.comparator(e.key,t.key)||Qd(e.As,t.As)}static _s(e,t){return Qd(e.As,t.As)||rh.comparator(e.key,t.key)}}class sy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new _h(oy.ds)}checkEmpty(e){return hh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Hp(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Rs=this.Rs.add(new oy(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return hh.resolve(a)}lookupMutationBatch(e,t){return hh.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return hh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return hh.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return hh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new oy(t,0),r=new oy(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),hh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _h(Qd);return t.forEach(e=>{const t=new oy(e,0),r=new oy(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),hh.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;rh.isDocumentKey(i)||(i=i.child(""));const a=new oy(new rh(i),0);let o=new _h(Qd);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)},a),hh.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Dd(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return hh.forEach(t.mutations,r=>{const i=new oy(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new oy(t,0),r=this.Rs.firstAfterOrEqual(n);return hh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,hh.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ly{constructor(e){this.Ds=e,this.docs=new Sh(rh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hh.resolve(n?n.document.mutableCopy():of.newInvalidDocument(t))}getEntries(e,t){let n=ep();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():of.newInvalidDocument(e))}),hh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ep();const a=t.path,o=new rh(a.child("")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||lh(oh(o),n)<=0||(r.has(o.key)||Yf(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return hh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Pd()}Cs(e,t){return hh.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new cy(this)}getSize(e){return hh.resolve(this.size)}}class cy extends ey{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),hh.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class uy{constructor(e){this.persistence=e,this.xs=new Jf(e=>Cf(e),If),this.lastRemoteSnapshotVersion=Jd.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ay,this.targetCount=0,this.Ms=Zm.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),hh.resolve()}getLastRemoteSnapshotVersion(e){return hh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hh.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),hh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),hh.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Zm(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,hh.resolve()}updateTargetData(e,t){return this.Fn(t),hh.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,hh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),hh.waitFor(i).next(()=>r)}getTargetCount(e){return hh.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return hh.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),hh.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),hh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),hh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return hh.resolve(n)}containsKey(e,t){return hh.resolve(this.ks.containsKey(t))}}class dy{constructor(e,t){this.$s={},this.overlays={},this.Os=new ph(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new uy(this),this.indexManager=new Xm,this.remoteDocumentCache=function(e){return new ly(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new Km(t),this.qs=new ry(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new sy(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Ad("MemoryPersistence","Starting transaction:",e);const r=new hy(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return hh.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class hy extends uh{constructor(e){super(),this.currentSequenceNumber=e}}class fy{constructor(e){this.persistence=e,this.Qs=new ay,this.js=null}static zs(e){return new fy(e)}get Ws(){if(this.js)return this.js;throw Pd()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),hh.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),hh.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),hh.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hh.forEach(this.Ws,n=>{const r=rh.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,Jd.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return hh.or([()=>hh.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class py{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=cp(),r=cp();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new py(e,t.fromCache,n,r)}}class my{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Lf(t))return hh.resolve(null);let n=zf(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Hf(t,null,"F"),n=zf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=cp(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.ji(t,r);return this.zi(t,a,i,n.readTime)?this.Ki(e,Hf(t,null,"F")):this.Wi(e,a,t,n)}))})))}Gi(e,t,n,r){return Lf(t)||r.isEqual(Jd.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const a=this.ji(t,i);return this.zi(t,a,n,r)?this.Qi(e,t):(Od()<=Cn.DEBUG&&Ad("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kf(t)),this.Wi(e,a,t,ah(r,-1)))})}ji(e,t){let n=new _h(Xf(e));return t.forEach((t,r)=>{Yf(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Od()<=Cn.DEBUG&&Ad("QueryEngine","Using full collection scan to execute query:",Kf(t)),this.Ui.getDocumentsMatchingQuery(e,t,sh.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class yy{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Sh(Qd),this.Yi=new Jf(e=>Cf(e),If),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ny(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function gy(e,t,n,r){return new yy(e,t,n,r)}async function vy(e,t){const n=Md(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=cp();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({er:e,removedBatchIds:i,addedBatchIds:a}))})})}function xy(e){const t=Md(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function by(e,t,n){let r=cp(),i=cp();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=ep();return n.forEach((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Jd.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ad("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{nr:r,sr:i}})}function wy(e,t){const n=Md(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function jy(e,t){const n=Md(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,hh.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Gm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function Ny(e,t,n){const r=Md(e),i=r.Ji.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!fh(e))throw e;Ad("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Sy(e,t,n){const r=Md(e);let i=Jd.min(),a=cp();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Md(e),i=r.Yi.get(n);return void 0!==i?hh.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,zf(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Jd.min(),n?a:cp())).next(e=>(ky(r,Qf(t),e),{documents:e,ir:a})))}function ky(e,t,n){let r=e.Xi.get(t)||Jd.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class Ey{constructor(){this.activeTargetIds=dp()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _y{constructor(){this.Hr=new Ey,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ey,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Oy{Yr(e){}shutdown(){}}class Ay{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ad("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ad("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ty=null;function Cy(){return null===Ty?Ty=268435456+Math.round(2147483648*Math.random()):Ty++,"0x"+Ty.toString(16)}const Iy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Py{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Dy="WebChannelConnection";class My extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const a=Cy(),o=this.To(e,t);Ad("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then(t=>(Ad("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw Cd("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t})}vo(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ed,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Iy[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Cy();return new Promise((a,o)=>{const s=new wd;s.setWithCredentials(!0),s.listenOnce(yd.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case md.NO_ERROR:const t=s.getResponseJson();Ad(Dy,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case md.TIMEOUT:Ad(Dy,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Ld(Rd.DEADLINE_EXCEEDED,"Request time out"));break;case md.HTTP_ERROR:const n=s.getStatus();if(Ad(Dy,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rd).indexOf(t)>=0?t:Rd.UNKNOWN}(t.status);o(new Ld(e,t.message))}else o(new Ld(Rd.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ld(Rd.UNAVAILABLE,"Connection failed."));break;default:Pd()}}finally{Ad(Dy,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Ad(Dy,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=Cy(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=fd(),o=pd(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.xmlHttpFactory=new xd({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Ad(Dy,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=a.createWebChannel(c,s);let d=!1,h=!1;const f=new Py({ro:t=>{h?Ad(Dy,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Ad(Dy,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Ad(Dy,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,bd.EventType.OPEN,()=>{h||Ad(Dy,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(u,bd.EventType.CLOSE,()=>{h||(h=!0,Ad(Dy,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(u,bd.EventType.ERROR,t=>{h||(h=!0,Cd(Dy,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Ld(Rd.UNAVAILABLE,"The operation could not be completed")))}),p(u,bd.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];Dd(!!i);const a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Ad(Dy,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Yp[e];if(void 0!==t)return $p(t)}(t),i=o.message;void 0===n&&(n=Rd.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.wo(new Ld(n,i)),u.close()}else Ad(Dy,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}}),p(o,gd.STAT_EVENT,t=>{t.stat===vd.PROXY?Ad(Dy,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===vd.NOPROXY&&Ad(Dy,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function Ry(){return"undefined"!=typeof document?document:null}function Ly(e){return new vm(e,!0)}class Fy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Ad("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Uy{constructor(e,t,n,r,i,a,o,s){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Fy(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Rd.RESOURCE_EXHAUSTED?(Td(t.toString()),Td("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Rd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new Ld(Rd.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Ad("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ad("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class By extends Uy{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Pd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Dd(void 0===t||"string"==typeof t),Ch.fromBase64String(t||"")):(Dd(void 0===t||t instanceof Uint8Array),Ch.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?Rd.UNKNOWN:$p(e.code);return new Ld(t,e.message||"")}(o);n=new um(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=_m(e,r.document.name),a=Nm(r.document.updateTime),o=r.document.createTime?Nm(r.document.createTime):Jd.min(),s=new rf({mapValue:{fields:r.document.fields}}),l=of.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new lm(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=_m(e,r.document),a=r.readTime?Nm(r.readTime):Jd.min(),o=of.newNoDocument(i,a),s=r.removedTargetIds||[];n=new lm([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=_m(e,r.document),a=r.removedTargetIds||[];n=new lm([],a,i,null)}else{if(!("filter"in t))return Pd();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Kp(r,i),o=e.targetId;n=new cm(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Jd.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Jd.min():t.readTime?Nm(t.readTime):Jd.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Tm(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Pf(r)?{documents:Dm(e,r)}:{query:Mm(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=wm(e,t.resumeToken);const r=xm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Jd.min())>0){n.readTime=bm(e,t.snapshotVersion.toTimestamp());const r=xm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pd()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Tm(this.serializer),t.removeTarget=e,this.Wo(t)}}class Vy extends Uy{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Dd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Dd(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Nm(e.updateTime):Nm(t);return n.isEqual(Jd.min())&&(n=Nm(t)),new Op(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Nm(e.commitTime);return this.listener.cu(n,t)}return Dd(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Tm(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Pm(this.serializer,e))};this.Wo(t)}}class zy extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ld(Rd.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,a]=r;return this.connection.Io(e,t,n,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Rd.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ld(Rd.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.vo(e,t,n,a,o,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Rd.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ld(Rd.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class qy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Td(t),this.mu=!1):Ad("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Hy{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Zy(this)&&(Ad("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Md(e);t.vu.add(4),await Gy(t),t.bu.set("Unknown"),t.vu.delete(4),await Wy(t)}(this))})}),this.bu=new qy(n,r)}}async function Wy(e){if(Zy(e))for(const t of e.Ru)await t(!0)}async function Gy(e){for(const t of e.Ru)await t(!1)}function Ky(e,t){const n=Md(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Jy(n)?$y(n):gg(n).Ko()&&Qy(n,t))}function Yy(e,t){const n=Md(e),r=gg(n);n.Au.delete(t),r.Ko()&&Xy(n,t),0===n.Au.size&&(r.Ko()?r.jo():Zy(n)&&n.bu.set("Unknown"))}function Qy(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Jd.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gg(e).su(t)}function Xy(e,t){e.Vu.qt(t),gg(e).iu(t)}function $y(e){e.Vu=new hm({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),gg(e).start(),e.bu.gu()}function Jy(e){return Zy(e)&&!gg(e).Uo()&&e.Au.size>0}function Zy(e){return 0===Md(e).vu.size}function eg(e){e.Vu=void 0}async function tg(e){e.Au.forEach((t,n)=>{Qy(e,t)})}async function ng(e,t){eg(e),Jy(e)?(e.bu.Iu(t),$y(e)):e.bu.set("Unknown")}async function rg(e,t,n){if(e.bu.set("Online"),t instanceof um&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Ad("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ig(e,n)}else if(t instanceof lm?e.Vu.Ht(t):t instanceof cm?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Jd.min()))try{const t=await xy(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Ch.EMPTY_BYTE_STRING,r.snapshotVersion)),Xy(e,t);const i=new Gm(r.target,t,n,r.sequenceNumber);Qy(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ad("RemoteStore","Failed to raise snapshot:",t),await ig(e,t)}}async function ig(e,t,n){if(!fh(t))throw t;e.vu.add(1),await Gy(e),e.bu.set("Offline"),n||(n=()=>xy(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ad("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Wy(e)})}function ag(e,t){return t().catch(n=>ig(e,n,t))}async function og(e){const t=Md(e),n=vg(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;sg(t);)try{const e=await wy(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,lg(t,e)}catch(e){await ig(t,e)}cg(t)&&ug(t)}function sg(e){return Zy(e)&&e.Eu.length<10}function lg(e,t){e.Eu.push(t);const n=vg(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function cg(e){return Zy(e)&&!vg(e).Uo()&&e.Eu.length>0}function ug(e){vg(e).start()}async function dg(e){vg(e).hu()}async function hg(e){const t=vg(e);for(const n of e.Eu)t.uu(n.mutations)}async function fg(e,t,n){const r=e.Eu.shift(),i=Wp.from(r,t,n);await ag(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await og(e)}async function pg(e,t){t&&vg(e).ou&&await async function(e,t){if(Xp(n=t.code)&&n!==Rd.ABORTED){const n=e.Eu.shift();vg(e).Qo(),await ag(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await og(e)}var n}(e,t),cg(e)&&ug(e)}async function mg(e,t){const n=Md(e);n.asyncQueue.verifyOperationInProgress(),Ad("RemoteStore","RemoteStore received new credentials");const r=Zy(n);n.vu.add(3),await Gy(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Wy(n)}async function yg(e,t){const n=Md(e);t?(n.vu.delete(2),await Wy(n)):t||(n.vu.add(2),await Gy(n),n.bu.set("Unknown"))}function gg(e){return e.Su||(e.Su=function(e,t,n){const r=Md(e);return r.fu(),new By(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:tg.bind(null,e),ao:ng.bind(null,e),nu:rg.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),Jy(e)?$y(e):e.bu.set("Unknown")):(await e.Su.stop(),eg(e))})),e.Su}function vg(e){return e.Du||(e.Du=function(e,t,n){const r=Md(e);return r.fu(),new Vy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:dg.bind(null,e),ao:pg.bind(null,e),au:hg.bind(null,e),cu:fg.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await og(e)):(await e.Du.stop(),e.Eu.length>0&&(Ad("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class xg{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Fd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new xg(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ld(Rd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(e,t){if(Td("AsyncQueue","".concat(t,": ").concat(e)),fh(e))return new Ld(Rd.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class wg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||rh.comparator(t.key,n.key):(e,t)=>rh.comparator(e.key,t.key),this.keyedMap=np(),this.sortedSet=new Sh(this.comparator)}static emptySet(e){return new wg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new wg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class jg{constructor(){this.Cu=new Sh(rh.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Pd():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ng{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new Ng(e,t,wg.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Sg{constructor(){this.Nu=void 0,this.listeners=[]}}class kg{constructor(){this.queries=new Jf(e=>Gf(e),Wf),this.onlineState="Unknown",this.ku=new Set}}async function Eg(e,t){const n=Md(e),r=t.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new Sg),i)try{a.Nu=await n.onListen(r)}catch(e){const n=bg(e,"Initialization of query '".concat(Kf(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,a),a.listeners.push(t),t.Mu(n.onlineState),a.Nu&&t.$u(a.Nu)&&Tg(n)}async function _g(e,t){const n=Md(e),r=t.query;let i=!1;const a=n.queries.get(r);if(a){const e=a.listeners.indexOf(t);e>=0&&(a.listeners.splice(e,1),i=0===a.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Og(e,t){const n=Md(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Tg(n)}function Ag(e,t,n){const r=Md(e),i=r.queries.get(t);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(t)}function Tg(e){e.ku.forEach(e=>{e.next()})}class Cg{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ng(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ng.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Ig{constructor(e){this.key=e}}class Pg{constructor(e){this.key=e}}class Dg{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=cp(),this.mutatedKeys=cp(),this.tc=Xf(e),this.ec=new wg(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new jg,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Yf(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.tc(u,s)>0||l&&this.tc(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:a,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pd()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const a=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,s=o!==this.Xu;return this.Xu=o,0!==i.length||s?{snapshot:new Ng(this.query,e.ec,r,i,e.mutatedKeys,0===o,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=cp(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Pg(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new Ig(n))}),t}hc(e){this.Yu=e.ir,this.Zu=cp();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ng.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Mg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Rg{constructor(e){this.key=e,this.fc=!1}}class Lg{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new Jf(e=>Gf(e),Wf),this._c=new Map,this.mc=new Set,this.gc=new Sh(rh.comparator),this.yc=new Map,this.Ic=new ay,this.Tc={},this.Ec=new Map,this.Ac=Zm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Fg(e,t){const n=nv(e);let r,i;const a=n.wc.get(t);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const e=await jy(n.localStore,zf(t)),a=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Ug(n,t,r,"current"===a,e.resumeToken),n.isPrimaryClient&&Ky(n.remoteStore,e)}return i}async function Ug(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await Sy(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const a=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a);return Xg(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const a=await Sy(e.localStore,t,!0),o=new Dg(t,a.ir),s=o.sc(a.documents),l=sm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);Xg(e,n,c.cc);const u=new Mg(t,n,o);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function Bg(e,t){const n=Md(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!Wf(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ny(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Yy(n.remoteStore,r.targetId),Yg(n,r.targetId)}).catch(dh)):(Yg(n,r.targetId),await Ny(n.localStore,r.targetId,!0))}async function Vg(e,t){const n=Md(e);try{const e=await function(e,t){const n=Md(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next(()=>n.Bs.addMatchingKeys(e,a.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Ch.EMPTY_BYTE_STRING,Jd.min()).withLastLimboFreeSnapshotVersion(Jd.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,a)&&o.push(n.Bs.updateTargetData(e,c))});let s=ep(),l=cp();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(by(e,a,t.documentUpdates).next(e=>{s=e.nr,l=e.sr})),!r.isEqual(Jd.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return hh.waitFor(o).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(Dd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Dd(r.fc):e.removedDocuments.size>0&&(Dd(r.fc),r.fc=!1))}),await Zg(n,e,t)}catch(e){await dh(e)}}function zg(e,t,n){const r=Md(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Md(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&Tg(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qg(e,t,n){const r=Md(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),a=i&&i.key;if(a){let e=new Sh(rh.comparator);e=e.insert(a,of.newNoDocument(a,Jd.min()));const n=cp().add(a),i=new om(Jd.min(),new Map,new Sh(Qd),e,n);await Vg(r,i),r.gc=r.gc.remove(a),r.yc.delete(t),Jg(r)}else await Ny(r.localStore,t,!1).then(()=>Yg(r,t,n)).catch(dh)}async function Hg(e,t){const n=Md(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Md(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=hh.resolve();return a.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);Dd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=cp();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Kg(n,r,null),Gg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zg(n,e)}catch(e){await dh(e)}}async function Wg(e,t,n){const r=Md(e);try{const e=await function(e,t){const n=Md(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Dd(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Kg(r,t,n),Gg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Zg(r,e)}catch(n){await dh(n)}}function Gg(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Kg(e,t,n){const r=Md(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Yg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Qg(e,t)})}function Qg(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Yy(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Jg(e))}function Xg(e,t,n){for(const r of n)r instanceof Ig?(e.Ic.addReference(r.key,t),$g(e,r)):r instanceof Pg?(Ad("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Qg(e,r.key)):Pd()}function $g(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Ad("SyncEngine","New document in limbo: "+n),e.mc.add(r),Jg(e))}function Jg(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new rh(eh.fromString(t)),r=e.Ac.next();e.yc.set(r,new Rg(n)),e.gc=e.gc.insert(n,r),Ky(e.remoteStore,new Gm(zf(Rf(n.path)),r,"TargetPurposeLimboResolution",ph.ct))}}async function Zg(e,t,n){const r=Md(e),i=[],a=[],o=[];r.wc.isEmpty()||(r.wc.forEach((e,s)=>{o.push(r.Rc(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=py.Li(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=Md(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>hh.forEach(t,t=>hh.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>hh.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!fh(e))throw e;Ad("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,a))}async function ev(e,t){const n=Md(e);if(!n.currentUser.isEqual(t)){Ad("SyncEngine","User change. New user:",t.toKey());const e=await vy(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new Ld(Rd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Zg(n,e.er)}}function tv(e,t){const n=Md(e),r=n.yc.get(t);if(r&&r.fc)return cp().add(r.key);{let e=cp();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function nv(e){const t=Md(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qg.bind(null,t),t.dc.nu=Og.bind(null,t.eventManager),t.dc.Pc=Ag.bind(null,t.eventManager),t}function rv(e){const t=Md(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Hg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Wg.bind(null,t),t}class iv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ly(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return gy(this.persistence,new my,e.initialUser,this.serializer)}createPersistence(e){return new dy(fy.zs,this.serializer)}createSharedClientState(e){return new _y}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class av{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>zg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ev.bind(null,this.syncEngine),await yg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new kg}createDatastore(e){const t=Ly(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new My(r));var r;return function(e,t,n,r){return new zy(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>zg(this.syncEngine,e,0),a=Ay.D()?new Ay:new Oy,new Hy(t,n,r,i,a);var t,n,r,i,a}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new Lg(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Md(e);Ad("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Gy(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class ov{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Td("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class sv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ld(Rd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Md(e),r=Tm(n.serializer)+"/documents",i={documents:t.map(e=>Em(n.serializer,e))},a=await n.vo("BatchGetDocuments",r,i,t.length),o=new Map;a.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Dd(!!t.found),t.found.name,t.found.updateTime;const n=_m(e,t.found.name),r=Nm(t.found.updateTime),i=t.found.createTime?Nm(t.found.createTime):Jd.min(),a=new rf({mapValue:{fields:t.found.fields}});return of.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Dd(!!t.missing),Dd(!!t.readTime);const n=_m(e,t.missing),r=Nm(t.readTime);return of.newNoDocument(n,r)}(e,t):Pd()}(n.serializer,e);o.set(t.key.toString(),t)});const s=[];return t.forEach(e=>{const t=o.get(e.toString());Dd(!!t),s.push(t)}),s}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new zp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=rh.fromPath(t);this.mutations.push(new qp(n,this.precondition(n)))}),await async function(e,t){const n=Md(e),r=Tm(n.serializer)+"/documents",i={writes:t.map(e=>Pm(n.serializer,e))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Pd();t=Jd.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ld(Rd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Jd.min())?Ap.exists(!1):Ap.updateTime(t):Ap.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Jd.min()))throw new Ld(Rd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ap.updateTime(t)}return Ap.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class lv{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new Fy(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new sv(this.datastore),t=this.qc(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Uc(e)}))}).catch(e=>{this.Uc(e)})})}qc(e){try{const t=this.updateFunction(e);return!mh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Xp(t)}return!1}}class cv{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=kd.UNAUTHENTICATED,this.clientId=Yd.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Ad("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ad("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ld(Rd.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Le){const n=bg(Le,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function uv(e,t){e.asyncQueue.verifyOperationInProgress(),Ad("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await vy(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function dv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await fv(e);Ad("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>mg(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>mg(t.remoteStore,n)),e._onlineComponents=t}function hv(e){return"FirebaseError"===e.name?e.code===Rd.FAILED_PRECONDITION||e.code===Rd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function fv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ad("FirestoreClient","Using user provided OfflineComponentProvider");try{await uv(e,e._uninitializedComponentsProvider._offline)}catch(Le){const n=Le;if(!hv(n))throw n;Cd("Error using user provided cache. Falling back to memory cache: "+n),await uv(e,new iv)}}else Ad("FirestoreClient","Using default OfflineComponentProvider"),await uv(e,new iv);return e._offlineComponents}async function pv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ad("FirestoreClient","Using user provided OnlineComponentProvider"),await dv(e,e._uninitializedComponentsProvider._online)):(Ad("FirestoreClient","Using default OnlineComponentProvider"),await dv(e,new av))),e._onlineComponents}function mv(e){return pv(e).then(e=>e.syncEngine)}function yv(e){return pv(e).then(e=>e.datastore)}async function gv(e){const t=await pv(e),n=t.eventManager;return n.onListen=Fg.bind(null,t.syncEngine),n.onUnlisten=Bg.bind(null,t.syncEngine),n}function vv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Fd;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new ov({next:a=>{t.enqueueAndForget(()=>_g(e,o));const s=a.docs.has(n);!s&&a.fromCache?i.reject(new Ld(Rd.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Ld(Rd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new Cg(Rf(n.path),a,{includeMetadataChanges:!0,Ku:!0});return Eg(e,o)}(await gv(e),e.asyncQueue,t,n,r)),r.promise}function xv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Fd;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new ov({next:n=>{t.enqueueAndForget(()=>_g(e,o)),n.fromCache&&"server"===r.source?i.reject(new Ld(Rd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Cg(n,a,{includeMetadataChanges:!0,Ku:!0});return Eg(e,o)}(await gv(e),e.asyncQueue,t,n,r)),r.promise}function bv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const wv=new Map;function jv(e,t,n){if(!n)throw new Ld(Rd.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Nv(e){if(!rh.isDocumentKey(e))throw new Ld(Rd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Sv(e){if(rh.isDocumentKey(e))throw new Ld(Rd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function kv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Pd()}function Ev(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ld(Rd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kv(e);throw new Ld(Rd.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function _v(e,t){if(t<=0)throw new Ld(Rd.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Ov{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ld(Rd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ld(Rd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ld(Rd.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ld(Rd.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ld(Rd.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ld(Rd.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Av{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ov({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ld(Rd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ld(Rd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ov(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Bd;switch(e.type){case"firstParty":return new Hd(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ld(Rd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wv.get(e);t&&(Ad("ComponentProvider","Removing Datastore"),wv.delete(e),t.terminate())}(this),Promise.resolve()}}class Tv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Iv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tv(this.firestore,e,this._key)}}class Cv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Cv(this.firestore,e,this._query)}}class Iv extends Cv{constructor(e,t,n){super(e,t,Rf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tv(this.firestore,null,new rh(e))}withConverter(e){return new Iv(this.firestore,e,this._path)}}function Pv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kn(e),jv("collection","path",t),e instanceof Av){const n=eh.fromString(t,...r);return Sv(n),new Iv(e,null,n)}{if(!(e instanceof Tv||e instanceof Iv))throw new Ld(Rd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(eh.fromString(t,...r));return Sv(n),new Iv(e.firestore,null,n)}}function Dv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kn(e),1===arguments.length&&(t=Yd.A()),jv("doc","path",t),e instanceof Av){const n=eh.fromString(t,...r);return Nv(n),new Tv(e,null,new rh(n))}{if(!(e instanceof Tv||e instanceof Iv))throw new Ld(Rd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(eh.fromString(t,...r));return Nv(n),new Tv(e.firestore,e instanceof Iv?e.converter:null,new rh(n))}}class Mv{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Fy(this,"async_queue_retry"),this.Xc=()=>{const e=Ry();e&&Ad("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Ry();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ry();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Fd;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(Fe){if(!fh(Fe))throw Fe;Ad("AsyncQueue","Operation failed with retryable error: "+Fe)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Td("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=xg.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&Pd()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Rv(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class Lv extends Av{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Mv,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Uv(this),this._firestoreClient.terminate()}}function Fv(e){return e._firestoreClient||Uv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Uv(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Uh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,bv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new cv(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Bv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bv(Ch.fromBase64String(e))}catch(e){throw new Ld(Rd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Bv(Ch.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ld(Rd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nh(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zv{constructor(e){this._methodName=e}}class qv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ld(Rd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ld(Rd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qd(this._lat,e._lat)||Qd(this._long,e._long)}}const Hv=/^__.*__$/;class Wv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Fp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lp(e,this.data,t,this.fieldTransforms)}}class Gv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Fp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Kv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pd()}}class Yv{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Yv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return px(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Kv(this.ca)&&Hv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Qv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ly(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Yv({ca:e,methodName:t,ga:n,path:nh.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xv(e){const t=e._freezeSettings(),n=Ly(e._databaseId);return new Qv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $v(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);ux("Data must be an object, but it was:",o,r);const s=lx(r,o);let l,c;if(a.merge)l=new Ah(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=dx(t,r,n);if(!o.contains(i))throw new Ld(Rd.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));mx(e,i)||e.push(i)}l=new Ah(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new Wv(new rf(s),l,c)}class Jv extends zv{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jv}}function Zv(e,t,n){return new Yv({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ex extends zv{_toFieldTransform(e){return new _p(e.path,new xp)}isEqual(e){return e instanceof ex}}class tx extends zv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Zv(this,e,!0),n=this.pa.map(e=>sx(e,t)),r=new bp(n);return new _p(e.path,r)}isEqual(e){return this===e}}class nx extends zv{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Zv(this,e,!0),n=this.pa.map(e=>sx(e,t)),r=new jp(n);return new _p(e.path,r)}isEqual(e){return this===e}}class rx extends zv{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Sp(e.serializer,pp(e.serializer,this.Ia));return new _p(e.path,t)}isEqual(e){return this===e}}function ix(e,t,n,r){const i=e.ya(1,t,n);ux("Data must be an object, but it was:",i,r);const a=[],o=rf.empty();jh(r,(e,r)=>{const s=fx(t,e,n);r=kn(r);const l=i.da(s);if(r instanceof Jv)a.push(s);else{const e=sx(r,l);null!=e&&(a.push(s),o.set(s,e))}});const s=new Ah(a);return new Gv(o,s,i.fieldTransforms)}function ax(e,t,n,r,i,a){const o=e.ya(1,t,n),s=[dx(t,r,n)],l=[i];if(a.length%2!=0)throw new Ld(Rd.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<a.length;h+=2)s.push(dx(t,a[h])),l.push(a[h+1]);const c=[],u=rf.empty();for(let h=s.length-1;h>=0;--h)if(!mx(c,s[h])){const e=s[h];let t=l[h];t=kn(t);const n=o.da(e);if(t instanceof Jv)c.push(e);else{const r=sx(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Ah(c);return new Gv(u,d,o.fieldTransforms)}function ox(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return sx(n,e.ya(r?4:3,t))}function sx(e,t){if(cx(e=kn(e)))return ux("Unsupported field value:",t,e),lx(e,t);if(e instanceof zv)return function(e,t){if(!Kv(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=sx(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=kn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=$d.fromDate(e);return{timestampValue:bm(t.serializer,n)}}if(e instanceof $d){const n=new $d(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bm(t.serializer,n)}}if(e instanceof qv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Bv)return{bytesValue:wm(t.serializer,e._byteString)};if(e instanceof Tv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Sm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(kv(e)))}(e,t)}function lx(e,t){const n={};return Nh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jh(e,(e,r)=>{const i=sx(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function cx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $d||e instanceof qv||e instanceof Bv||e instanceof Tv||e instanceof zv)}function ux(e,t,n){if(!cx(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=kv(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function dx(e,t,n){if((t=kn(t))instanceof Vv)return t._internalPath;if("string"==typeof t)return fx(e,t);throw px("Field path arguments must be of type string or ",e,!1,void 0,n)}const hx=new RegExp("[~\\*/\\[\\]]");function fx(e,t,n){if(t.search(hx)>=0)throw px("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Vv(...t.split("."))._internalPath}catch(He){throw px("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function px(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Ld(Rd.INVALID_ARGUMENT,s+e+l)}function mx(e,t){return e.some(e=>e.isEqual(t))}class yx{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gx extends yx{data(){return super.data()}}function vx(e,t){return"string"==typeof t?fx(e,t):t instanceof Vv?t._internalPath:t._delegate._internalPath}function xx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ld(Rd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bx{}class wx extends bx{}function jx(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof bx&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof kx).length,n=e.filter(e=>e instanceof Nx).length;if(t>1||t>0&&n>0)throw new Ld(Rd.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Nx extends wx{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Nx(e,t,n)}_apply(e){const t=this._parse(e);return Ix(e._query,t),new Cv(e.firestore,e.converter,qf(e._query,t))}_parse(e){const t=Xv(e.firestore),n=function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ld(Rd.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Cx(o,a);const t=[];for(const n of o)t.push(Tx(r,e,n));s={arrayValue:{values:t}}}else s=Tx(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Cx(o,a),s=ox(n,"where",o,"in"===a||"not-in"===a);return ff.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Sx(e,t,n){const r=t,i=vx("where",e);return Nx._create(i,r,n)}class kx extends bx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kx(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:pf.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Ix(n,i),n=qf(n,i)}(e._query,t),new Cv(e.firestore,e.converter,qf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ex extends wx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ex(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ld(Rd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ld(Rd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new uf(t,n);return function(e,t){if(null===Ff(e)){const n=Uf(e);null!==n&&Px(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Cv(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Df(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function _x(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=vx("orderBy",e);return Ex._create(n,t)}class Ox extends wx{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Ox(e,t,n)}_apply(e){return new Cv(e.firestore,e.converter,Hf(e._query,this._limit,this._limitType))}}function Ax(e){return _v("limit",e),Ox._create("limit",e,"F")}function Tx(e,t,n){if("string"==typeof(n=kn(n))){if(""===n)throw new Ld(Rd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bf(t)&&-1!==n.indexOf("/"))throw new Ld(Rd.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(eh.fromString(n));if(!rh.isDocumentKey(r))throw new Ld(Rd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qh(e,new rh(r))}if(n instanceof Tv)return Qh(e,n._key);throw new Ld(Rd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(kv(n),"."))}function Cx(e,t){if(!Array.isArray(e)||0===e.length)throw new Ld(Rd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Ix(e,t){if(t.isInequality()){const n=Uf(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Ld(Rd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=Ff(e);null!==i&&Px(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ld(Rd.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ld(Rd.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Px(e,t,n){if(!n.isEqual(t))throw new Ld(Rd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Dx{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pd()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return jh(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new qv(Dh(e.latitude),Dh(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Lh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fh(e));default:return null}}convertTimestamp(e){const t=Ph(e);return new $d(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=eh.fromString(e);Dd(Wm(n));const r=new Bh(n.get(1),n.get(3)),i=new rh(n.popFirst(5));return r.isEqual(t)||Td("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Mx(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Rx extends Dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tv(this.firestore,null,t)}}class Lx{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fx extends yx{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ux(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(vx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ux extends Fx{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Bx{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Lx(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Ux(this._firestore,this._userDataWriter,n.key,n,new Lx(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ld(Rd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Ux(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Lx(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Ux(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Lx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Vx(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Vx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pd()}}class zx extends Dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tv(this.firestore,null,t)}}function qx(e){e=Ev(e,Cv);const t=Ev(e.firestore,Lv),n=Fv(t),r=new zx(t);return xx(e._query),xv(n,e._query).then(n=>new Bx(t,r,e,n))}function Hx(e,t,n){e=Ev(e,Tv);const r=Ev(e.firestore,Lv),i=Mx(e.converter,t,n);return Qx(r,[$v(Xv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ap.none())])}function Wx(e,t,n){e=Ev(e,Tv);const r=Ev(e.firestore,Lv),i=Xv(r);let a;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return a="string"==typeof(t=kn(t))||t instanceof Vv?ax(i,"updateDoc",e._key,t,n,s):ix(i,"updateDoc",e._key,t),Qx(r,[a.toMutation(e._key,Ap.exists(!0))])}function Gx(e){return Qx(Ev(e.firestore,Lv),[new zp(e._key,Ap.none())])}function Kx(e,t){const n=Ev(e.firestore,Lv),r=Dv(e),i=Mx(e.converter,t);return Qx(n,[$v(Xv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ap.exists(!1))]).then(()=>r)}function Yx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=kn(e);let s={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Rv(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges};if(Rv(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(a=e.error)||void 0===a?void 0:a.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof Tv)d=Ev(e.firestore,Lv),h=Rf(e._key.path),u={next:t=>{n[l]&&n[l](Xx(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Ev(e,Cv);d=Ev(t.firestore,Lv),h=t._query;const r=new zx(d);u={next:e=>{n[l]&&n[l](new Bx(d,r,t,e))},error:n[l+1],complete:n[l+2]},xx(e._query)}return function(e,t,n,r){const i=new ov(r),a=new Cg(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Eg(await gv(e),a)),()=>{i.Dc(),e.asyncQueue.enqueueAndForget(async()=>_g(await gv(e),a))}}(Fv(d),h,c,u)}function Qx(e,t){return function(e,t){const n=new Fd;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=rv(e);try{const e=await function(e,t){const n=Md(e),r=$d.now(),i=t.reduce((e,t)=>e.add(t.key),cp());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=ep(),l=cp();return n.Zi.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{a=i;const o=[];for(const e of t){const t=Mp(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new Fp(e.key,t,af(t.value.mapValue),Ap.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:rp(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Sh(Qd)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Zg(r,e.changes),await og(r.remoteStore)}catch(e){const t=bg(e,"Failed to persist write");n.reject(t)}}(await mv(e),t,n)),n.promise}(Fv(e),t)}function Xx(e,t,n){const r=n.docs.get(t._key),i=new zx(e);return new Fx(e,i,t._key,r,new Lx(n.hasPendingWrites,n.fromCache),t.converter)}const $x={maxAttempts:5};function Jx(e,t){if((e=kn(e)).firestore!==t)throw new Ld(Rd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Zx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xv(e)}get(e){const t=Jx(e,this._firestore),n=new Rx(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Pd();const r=e[0];if(r.isFoundDocument())return new yx(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new yx(this._firestore,n,t._key,null,t.converter);throw Pd()})}set(e,t,n){const r=Jx(e,this._firestore),i=Mx(r.converter,t,n),a=$v(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}update(e,t,n){const r=Jx(e,this._firestore);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return i="string"==typeof(t=kn(t))||t instanceof Vv?ax(this._dataReader,"Transaction.update",r._key,t,n,o):ix(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Jx(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Jx(e,this._firestore),n=new zx(this._firestore);return super.get(e).then(e=>new Fx(this._firestore,n,t._key,e._document,new Lx(!1,!1),t.converter))}}function eb(){return new ex("serverTimestamp")}function tb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tx("arrayUnion",t)}function nb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nx("arrayRemove",t)}function rb(e){return new rx("increment",e)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ed=e}(Rr),Ir(new En("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new Lv(new zd(e.getProvider("auth-internal")),new Gd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ld(Rd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bh(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ur(Sd,"3.13.0",e),Ur(Sd,"3.13.0","esm2017")}();Ur("firebase","9.23.0","app");const ib="firebasestorage.googleapis.com",ab="storageBucket";class ob extends mn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(cb(e),"Firebase Storage: ".concat(t," (").concat(cb(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ob.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var sb,lb;function cb(e){return"storage/"+e}function ub(){return new ob(sb.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function db(){return new ob(sb.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hb(){return new ob(sb.CANCELED,"User canceled the upload/download.")}function fb(){return new ob(sb.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pb(e){return new ob(sb.INVALID_ARGUMENT,e)}function mb(){return new ob(sb.APP_DELETED,"The Firebase app was deleted.")}function yb(e,t){return new ob(sb.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function gb(e){throw new ob(sb.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(sb||(sb={}));class vb{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=vb.makeFromUrl(e,t)}catch(Le){return new vb(e,"")}if(""===n.path)return n;throw r=e,new ob(sb.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(t===ib?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new vb(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new ob(sb.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class xb{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function bb(e){return"string"===typeof e||e instanceof String}function wb(e){return jb()&&e instanceof Blob}function jb(){return"undefined"!==typeof Blob&&!fn()}function Nb(e,t,n,r){if(r<t)throw pb("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw pb("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Sb(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function kb(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Eb(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(lb||(lb={}));class _b{constructor(e,t,n,r,i,a,o,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new Ob(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===lb.NO_ERROR,i=n.getStatus();if(!t||Eb(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===lb.ABORT;return void e(!1,new Ob(!1,null,t))}const a=-1!==this.successCodes_.indexOf(i);e(!0,new Ob(a,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Le){r(Le)}else if(null!==i){const e=ub();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?mb():hb())}else{r(db())}};this.canceled_?t(0,new Ob(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){a&&clearTimeout(a)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||o)return h(),void u.call(null,e,...n);let a;r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),d(a)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),a=setTimeout(()=>{o=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ob{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Ab(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Tb(){const e=Ab();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(jb())return new Blob(n);throw new ob(sb.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Cb(e){if("undefined"===typeof atob)throw t="base-64",new ob(sb.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Ib="raw",Pb="base64",Db="base64url",Mb="data_url";class Rb{constructor(e,t){this.data=e,this.contentType=t||null}}function Lb(e,t){switch(e){case Ib:return new Rb(Fb(t));case Pb:case Db:return new Rb(Ub(e,t));case Mb:return new Rb(function(e){const t=new Bb(e);return t.base64?Ub(Pb,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Le){throw yb(Mb,"Malformed data URL.")}return Fb(t)}(t.rest)}(t),new Bb(t).contentType)}throw ub()}function Fb(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ub(e,t){switch(e){case Pb:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw yb(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Db:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw yb(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Cb(t)}catch(Le){if(Le.message.includes("polyfill"))throw Le;throw yb(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Bb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw yb(Mb,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Vb{constructor(e,t){let n=0,r="";wb(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(wb(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Vb(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Vb(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(jb()){const e=t.map(e=>e instanceof Vb?e.data_:e);return new Vb(Tb.apply(null,e))}{const e=t.map(e=>bb(e)?Lb(Ib,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new Vb(r,!0)}}uploadData(){return this.data_}}function zb(e){let t;try{t=JSON.parse(e)}catch(Le){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function qb(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Hb(e,t){return t}class Wb{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Hb}}let Gb=null;function Kb(){if(Gb)return Gb;const e=[];e.push(new Wb("bucket")),e.push(new Wb("generation")),e.push(new Wb("metageneration")),e.push(new Wb("name","fullPath",!0));const t=new Wb("name");t.xform=function(e,t){return function(e){return!bb(e)||e.length<2?e:qb(e)}(t)},e.push(t);const n=new Wb("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Wb("timeCreated")),e.push(new Wb("updated")),e.push(new Wb("md5Hash",null,!0)),e.push(new Wb("cacheControl",null,!0)),e.push(new Wb("contentDisposition",null,!0)),e.push(new Wb("contentEncoding",null,!0)),e.push(new Wb("contentLanguage",null,!0)),e.push(new Wb("contentType",null,!0)),e.push(new Wb("metadata","customMetadata",!0)),Gb=e,Gb}function Yb(e,t,n){const r={type:"file"},i=n.length;for(let a=0;a<i;a++){const e=n[a];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new vb(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Qb(e,t,n){const r=zb(t);if(null===r)return null;return Yb(e,r,n)}function Xb(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class $b{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Jb(e){if(!e)throw ub()}function Zb(e,t){return function(n,r){const i=Qb(e,r,t);return Jb(null!==i),i}}function ew(e,t){return function(n,r){const i=Qb(e,r,t);return Jb(null!==i),function(e,t,n,r){const i=zb(t);if(null===i)return null;if(!bb(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const o=encodeURIComponent,s=a.split(",").map(t=>{const i=e.bucket,a=e.fullPath;return Sb("/b/"+o(i)+"/o/"+o(a),n,r)+kb({alt:"media",token:t})});return s[0]}(i,r,e.host,e._protocol)}}function tw(e){return function(t,n){let r;var i;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new ob(sb.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new ob(sb.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,r=new ob(sb.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):r=403===t.getStatus()?function(e){return new ob(sb.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}(e.path):n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function nw(e){const t=tw(e);return function(n,r){let i=t(n,r);return 404===n.getStatus()&&(i=function(e){return new ob(sb.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}(e.path)),i.serverResponse=r.serverResponse,i}}function rw(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function iw(e,t,n,r,i){const a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;const l=rw(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Xb(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+s+"--",d=Vb.getBlob(c,r,u);if(null===d)throw fb();const h={name:l.fullPath},f=Sb(a,e.host,e._protocol),p=e.maxUploadRetryTime,m=new $b(f,"POST",Zb(e,n),p);return m.urlParams=h,m.headers=o,m.body=d.uploadData(),m.errorHandler=tw(t),m}class aw{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lb.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lb.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lb.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw gb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Le){return-1}}getResponse(){if(!this.sent_)throw gb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ow extends aw{initXhr(){this.xhr_.responseType="text"}}function sw(){return new ow}class lw{constructor(e,t){this._service=e,this._location=t instanceof vb?t:vb.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new lw(e,t)}get root(){const e=new vb(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qb(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new vb(this._location.bucket,e);return new lw(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new ob(sb.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function cw(e,t,n){e._throwIfRoot("uploadBytes");const r=iw(e.storage,e._location,Kb(),new Vb(t,!0),n);return e.storage.makeRequestWithTokens(r,sw).then(t=>({metadata:t,ref:e}))}function uw(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Sb(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new $b(r,"GET",ew(e,n),i);return a.errorHandler=nw(t),a}(e.storage,e._location,Kb());return e.storage.makeRequestWithTokens(t,sw).then(e=>{if(null===e)throw new ob(sb.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function dw(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new vb(e._location.bucket,n);return new lw(e.storage,r)}function hw(e,t){if(e instanceof mw){const n=e;if(null==n._bucket)throw new ob(sb.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ab+"' property when initializing the app?");const r=new lw(n,n._bucket);return null!=t?hw(r,t):r}return void 0!==t?dw(e,t):e}function fw(e,t){if(t&&function(e){return/^[A-Za-z]+:\/\//.test(e)}(t)){if(e instanceof mw)return new lw(e,t);throw pb("To use ref(service, url), the first argument must be a Storage instance.")}return hw(e,t)}function pw(e,t){const n=null===t||void 0===t?void 0:t[ab];return null==n?null:vb.makeFromBucketSpec(n,e)}class mw{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=ib,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?vb.makeFromBucketSpec(r,this._host):pw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=vb.makeFromBucketSpec(this._url,e):this._bucket=pw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lw(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new xb(mb());{const a=function(e,t,n,r,i,a){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=kb(e.urlParams),l=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new _b(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const yw="@firebase/storage",gw="0.11.2",vw="storage";function xw(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new mw(r,i,a,n,Rr)}Ir(new En(vw,xw,"PUBLIC").setMultipleInstances(!0)),Ur(yw,gw,""),Ur(yw,gw,"esm2017");const bw=Lr({apiKey:"AIzaSyCb7Pyw9f6Liz0YfV-2OZvDLtHuRVazxl0",authDomain:"mindly-default-861b7.firebaseapp.com",projectId:"mindly-default-861b7",storageBucket:"mindly-default-861b7.firebasestorage.app",messagingSenderId:"479179857519",appId:"1:479179857519:web:f5b44b819cba6c0173b79a"}),ww=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();const t=Pr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Pr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(vn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ni(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Jo,persistence:[uo,Ka,Qa]}),r=cn("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ns)return;const r=null===t||void 0===t?void 0:t.token;rs!==r&&(rs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){kn(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){kn(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const a=on("auth");return a&&ua(n,"http://".concat(a)),n}(bw),jw=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Pr("object"==typeof e?e:Fr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=sn("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=Ev(e,Av))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Cd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=kd.MOCK_USER;else{t=dn(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Ld(Rd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new kd(a)}e._authCredentials=new Vd(new Ud(t,n))}}(r,...e)}return r}(bw),Nw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr(),t=arguments.length>1?arguments[1]:void 0;e=kn(e);const n=Pr(e,vw).getImmediate({identifier:t}),r=sn("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:dn(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(bw),Sw="student",kw="counsellor",Ew=async(e,t,n)=>{try{const u=(n.role||Sw).toLowerCase(),d=await async function(e,t,n){var r;const i=la(e),a={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await aa(i,a,"signUpPassword");o=Ca(i,e)}else o=Ca(i,a).catch(async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await aa(i,a,"signUpPassword");return Ca(i,e)}return Promise.reject(e)});const s=await o.catch(e=>Promise.reject(e)),l=await Ia._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}(ww,e,t),h=d.user;if(await Va(h),await za(h,{displayName:n.displayName}),u===kw){var r;const e={uid:h.uid,email:h.email,displayName:n.displayName,role:u,createdAt:new Date,isVerified:!1};await Hx(Dv(jw,"users",h.uid),e);const t={userId:h.uid,name:n.displayName,email:h.email,phone:null!==(r=n.phone)&&void 0!==r?r:null,specialization:n.specialization||"",experience:n.experience||"",rating:"number"===typeof n.rating?n.rating:null,bio:n.bio||"",createdAt:new Date,active:!1};await Hx(Dv(jw,"counsellors",h.uid),t)}else{var i,a,o,s,l,c;const e={uid:h.uid,email:h.email,displayName:n.displayName,role:u,createdAt:new Date,isVerified:!1};await Hx(Dv(jw,"users",h.uid),e);const t={userId:h.uid,collegeEmail:null!==(i=n.collegeEmail)&&void 0!==i?i:h.email,collegeName:null!==(a=n.collegeName)&&void 0!==a?a:null,year:null!==(o=n.year)&&void 0!==o?o:null,phone:null!==(s=n.phone)&&void 0!==s?s:null,profile:{age:null!==(l=n.age)&&void 0!==l?l:null,gender:null!==(c=n.gender)&&void 0!==c?c:null,interests:Array.isArray(n.interests)?n.interests:[]},createdAt:new Date};await Hx(Dv(jw,"students",h.uid),t)}return{success:!0,user:h}}catch(u){return{success:!1,error:u.message}}},_w=async(e,t)=>{try{const n=await function(e,t,n){return Ua(kn(e),Sa.credential(t,n))}(ww,e,t);return{success:!0,user:n.user}}catch(n){return{success:!1,error:n.message}}},Ow=async e=>{try{const t=await function(e){e=Ev(e,Tv);const t=Ev(e.firestore,Lv);return vv(Fv(t),e._key).then(n=>Xx(t,e,n))}(Dv(jw,"users",e));return t.exists()?{success:!0,data:t.data()}:{success:!1,error:"User not found"}}catch(t){return{success:!1,error:t.message}}},Aw=async e=>{try{return console.log("Firebase auth object:",ww),console.log("Sending password reset to:",e),await async function(e,t,n){var r;const i=la(e),a={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await aa(i,a,"getOobCode",!0);n&&Ba(i,e,n),await ga(i,e)}else n&&Ba(i,a,n),await ga(i,a).catch(async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await aa(i,a,"getOobCode",!0);n&&Ba(i,e,n),await ga(i,e)}})}(ww,e),console.log("Password reset email sent successfully"),{success:!0,message:"Password reset email sent! Please check your inbox."}}catch(t){console.error("Password reset error:",t),console.error("Error code:",t.code),console.error("Error message:",t.message);let e=t.message;return"auth/user-not-found"===t.code?e="No account found with this email address.":"auth/invalid-email"===t.code?e="Invalid email address format.":"auth/too-many-requests"===t.code&&(e="Too many requests. Please try again later."),{success:!1,error:e}}},Tw=e=>function(e,t,n,r){return kn(e).onAuthStateChanged(t,n,r)}(ww,e);var Cw=n(579);const Iw=(0,r.createContext)(),Pw=()=>{const e=(0,r.useContext)(Iw);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Dw=e=>new Promise(t=>setTimeout(t,e)),Mw=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)(null),[s,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const e=Tw(async e=>{if(i(e),e){let t=null,n=0;for(;n<5&&!t;){const r=await Ow(e.uid);if(r.success){t=r.data;break}n+=1,await Dw(300)}o(t||null)}else o(null);l(!1)});return()=>e()},[]);const c={user:n,userData:a,loading:s,setUserData:o,emailVerified:!(null===n||void 0===n||!n.emailVerified),refreshUser:async()=>{ww.currentUser&&(await ww.currentUser.reload(),i(ww.currentUser))}};return(0,Cw.jsx)(Iw.Provider,{value:c,children:t})};async function Rw(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n={method:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET"};null!=t&&(n.body=JSON.stringify(t));const r=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ww.currentUser,r=n?await n.getIdToken(!1):null,i=new Headers(t.headers||{});return r&&i.set("Authorization","Bearer ".concat(r)),i.has("Content-Type")||t.body instanceof FormData||i.set("Content-Type","application/json"),await fetch("".concat("https://mindly-production.up.railway.app").concat(e),Re(Re({},t),{},{headers:i}))}(e,n),i=await r.json().catch(()=>({}));if(!r.ok){const e=new Error((null===i||void 0===i?void 0:i.error)||"Request failed: ".concat(r.status));throw e.status=r.status,e.data=i,e}return i}const Lw="appointments",Fw="counsellors",Uw="forum_posts",Bw="journal_entries",Vw="resources",zw="chat_sessions",qw="chat_messages",Hw="assessments",Ww="notifications",Gw="resources_viewed",Kw="waitingQueue",Yw="matches",Qw="chatrooms",Xw="volunteerChats",$w="volunteers",Jw="userPresence",Zw="peers",ej=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const i=new URLSearchParams({counsellorId:t});null!=n&&i.set("days",String(n)),null!=r&&i.set("fallback",String(!!r));return{success:!0,data:await Rw("/api/counsellor/appointments/".concat(e,"/insights?").concat(i.toString()),"GET")}}catch(i){return{success:!1,error:i.message}}},tj=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.error,r=[],i=[];const a=()=>{let n=[...r,...i];e&&(n=n.filter(t=>(t.category||null)===e||"counsellor"===t.__src));const a=new Set,o=[];for(const e of n){const t="".concat(e.title||"","|").concat(e.url||"","|").concat(e.__src);a.has(t)||(a.add(t),o.push(e))}o.sort((e,t)=>{var n,r;const i=null!==(n=e.createdAt)&&void 0!==n&&n.toMillis?e.createdAt.toMillis():0;return(null!==(r=t.createdAt)&&void 0!==r&&r.toMillis?t.createdAt.toMillis():0)-i}),t(o)},o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.error,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=jx(Pv(jw,Vw),Ax(r));return e&&(i=jx(Pv(jw,Vw),Sx("category","==",e),Ax(r))),Yx(i,e=>{const n=[];e.forEach(e=>n.push(Re(Re({id:e.id},e.data()),{},{__src:"global"}))),n.sort((e,t)=>{var n,r;const i=null!==(n=e.createdAt)&&void 0!==n&&n.toMillis?e.createdAt.toMillis():0;return(null!==(r=t.createdAt)&&void 0!==r&&r.toMillis?t.createdAt.toMillis():0)-i}),t(n)},e=>n(e))}(e,e=>{r=e,a()},n),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.error,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return Yx(jx(Pv(jw,"resources_counsellors"),Ax(n)),t=>{const n=[];t.forEach(e=>n.push(Re(Re({id:e.id},e.data()),{},{__src:"counsellor"}))),n.sort((e,t)=>{var n,r;const i=null!==(n=e.createdAt)&&void 0!==n&&n.toMillis?e.createdAt.toMillis():0;return(null!==(r=t.createdAt)&&void 0!==r&&r.toMillis?t.createdAt.toMillis():0)-i}),e(n)},e=>t(e))}(e=>{i=e,a()},n);return()=>{o&&o(),s&&s()}},nj=async(e,t,n)=>{try{return await Rw("/api/counsellor/appointments/".concat(e,"/status"),"PATCH",{status:t,counsellorId:n}),{success:!0}}catch(r){return{success:!1,error:r.message}}},rj=async(e,t,n)=>{let{appointmentDate:r,appointmentTime:i}=t;try{return await Rw("/api/counsellor/appointments/".concat(e,"/reschedule"),"PATCH",{appointmentDate:r,appointmentTime:i,counsellorId:n}),{success:!0}}catch(a){return{success:!1,error:a.message}}},ij=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.error,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,i=[];null!==e&&void 0!==e&&e.counsellorId&&i.unshift(Sx("counsellorId","==",e.counsellorId)),null!==e&&void 0!==e&&e.studentId&&i.unshift(Sx("studentId","==",e.studentId));return Yx(jx(Pv(jw,Lw),...i,Ax(r)),e=>{const n=[];e.forEach(e=>n.push(Re({id:e.id},e.data()))),n.sort((e,t)=>{const n=String(e.appointmentDate||""),r=String(t.appointmentDate||"");if(n!==r)return n.localeCompare(r);const i=String(e.appointmentTime||""),a=String(t.appointmentTime||"");return i.localeCompare(a)}),t(n)},n)},aj=async(e,t)=>{try{return await Wx(Dv(jw,Fw,e),{active:!!t}),{success:!0}}catch(n){return{success:!1,error:n.message}}},oj=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{return await Rw("/api/counsellor/availability/slot","POST",{counsellorId:r||e,dateKey:t,time:n}),{success:!0}}catch(i){return{success:!1,error:i.message}}},sj=async(e,t,n)=>{try{return await Wx(Dv(jw,"".concat(Fw,"/").concat(e,"/availability/").concat(t,"/slots/").concat(n)),{booked:!1,bookedBy:null,sessionId:null,updatedAt:eb()}),{success:!0}}catch(r){return{success:!1,error:r.message}}},lj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.error,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return Yx(jx(Pv(jw,Fw),_x("createdAt","desc"),Ax(n)),t=>{const n=[];t.forEach(e=>n.push(Re({id:e.id},e.data()))),e(n)},e=>t(e))},cj=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.error;if(!e||!t)return()=>{};let i=!1,a=null,o=7e3;const s=async()=>{try{let r=(await Rw("/api/counsellor/availability?counsellorId=".concat(encodeURIComponent(e),"&dateKey=").concat(encodeURIComponent(t)),"GET")).slots||[];r=r.filter(e=>!1!==e.active&&!e.booked),r.sort((e,t)=>String(e.time||"").localeCompare(String(t.time||""))),i||n(r),o=Math.max(4e3,Math.floor(.9*o))}catch(Le){i||r(Le),o=Math.min(3e4,Math.floor(2*o))}finally{i||(a=setTimeout(s,o))}};return s(),()=>{i=!0,a&&clearTimeout(a)}},uj=async e=>{let{user:t,counsellorId:n,counsellorName:r,dateKey:i,time:a,sessionType:o,reason:s,urgency:l,previousCounseling:c,notes:u,slotOwnerId:d=null}=e;try{const e=d||n,h=(e=>{const t=e.split("-");if(3===t.length){if(4===t[0].length)return"".concat(t[2],"-").concat(t[1],"-").concat(t[0]);if(4===t[2].length)return"".concat(t[2],"-").concat(t[1],"-").concat(t[0])}return e})(i),f=Dv(jw,"".concat(Fw,"/").concat(e,"/availability/").concat(i,"/slots/").concat(a)),p=h!==i?Dv(jw,"".concat(Fw,"/").concat(e,"/availability/").concat(h,"/slots/").concat(a)):null,m=Dv(Pv(jw,Lw));return await function(e,t,n){e=Ev(e,Lv);const r=Object.assign(Object.assign({},$x),n);return function(e){if(e.maxAttempts<1)throw new Ld(Rd.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Fd;return e.asyncQueue.enqueueAndForget(async()=>{const i=await yv(e);new lv(e.asyncQueue,i,n,t,r).run()}),r.promise}(Fv(e),n=>t(new Zx(e,n)),r)}(jw,async e=>{let d=f,h=await e.get(f);if(!h.exists()&&p){const t=await e.get(p);t.exists()&&(h=t,d=p)}if(!h.exists())throw new Error("Slot not found");if(h.data().booked)throw new Error("Slot already booked");e.set(m,{studentId:t.uid,studentName:t.displayName||null,studentEmail:t.email||null,counsellorId:n,counsellorName:r||null,appointmentDate:i,appointmentTime:a,sessionType:o,duration:"50 minutes",status:"pending",reason:s,urgency:l,previousCounseling:c,notes:u||null,createdAt:eb()}),e.update(d,{booked:!0,bookedBy:t.uid,sessionId:m.id,updatedAt:eb()})}),{success:!0}}catch(h){return{success:!1,error:h.message}}},dj=async e=>{try{return{success:!0,id:(await Kx(Pv(jw,zw),Re(Re({},e),{},{createdAt:eb(),lastMessageAt:eb()}))).id}}catch(t){return{success:!1,error:t.message}}},hj=async e=>{try{const t=await Kx(Pv(jw,qw),Re(Re({},e),{},{createdAt:eb()}));return await Wx(Dv(jw,zw,e.sessionId),{lastMessageAt:eb()}),{success:!0,id:t.id}}catch(t){return{success:!1,error:t.message}}},fj=async(e,t,n,r)=>{try{return await Rw("/api/counsellor/availability/toggle","PATCH",{counsellorId:e,dateKey:t,time:n,active:!!r}),{success:!0}}catch(i){return{success:!1,error:i.message}}},pj=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.error;if(!e||!t)return()=>{};let i=!1,a=null,o=1e4;const s=async()=>{try{const r=(await Rw("/api/counsellor/appointments/".concat(e,"/notes/").concat(t),"GET")).note||null;i||n(r),o=Math.max(5e3,Math.floor(.9*o))}catch(Le){i||r(Le),o=Math.min(6e4,Math.floor(2*o))}finally{i||(a=setTimeout(s,o))}};return s(),()=>{i=!0,a&&clearTimeout(a)}},mj=async(e,t)=>{let{title:n,url:r,description:i="",type:a="link"}=t;try{return{success:!0,id:(await Kx(Pv(jw,"resources_counsellors"),{ownerId:e,title:n,url:r,description:i,type:a,createdAt:eb()})).id}}catch(o){return{success:!1,error:o.message}}},yj=async(e,t)=>{try{const r="resources_counsellors/".concat(e,"/").concat(Date.now(),"_").concat(t.name),i=(n=r,fw(kn(Nw),n));await function(e,t,n){return cw(e=kn(e),t,n)}(i,t);const a=await function(e){return uw(e=kn(e))}(i);return{success:!0,url:a}}catch(r){return{success:!1,error:r.message}}var n},gj=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{return await Hx(Dv(jw,Jw,e),{userId:e,isOnline:t,currentRoom:n,lastSeen:eb()}),{success:!0}}catch(r){return{success:!1,error:r.message}}},vj=async e=>{try{return{success:!0,id:(await Kx(Pv(jw,$w),Re(Re({},e),{},{isOnline:!1,isAvailable:!0,totalChats:0,rating:0,ratingCount:0,createdAt:eb()}))).id}}catch(t){return{success:!1,error:t.message}}},xj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.error;return Yx(jx(Pv(jw,$w),Sx("isAvailable","==",!0),_x("rating","desc")),t=>{const n=[];t.forEach(e=>{n.push(Re({id:e.id},e.data()))}),e(n)},t)},bj=(0,r.createContext)(),wj=()=>{const e=(0,r.useContext)(bj);if(!e)throw new Error("useUser must be used within a UserProvider");return e},jj=e=>{let{children:t}=e;const{user:n,userData:i}=Pw(),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{n&&"student"===(null===i||void 0===i?void 0:i.role)&&d()},[n,i]),(0,r.useEffect)(()=>{let e;if(n&&n.uid)try{e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.error,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return Yx(jx(Pv(jw,Bw),Sx("userId","==",e),_x("createdAt","desc"),Ax(r)),e=>{const n=[];e.forEach(e=>n.push(Re({id:e.id},e.data()))),t(n)},e=>n(e))}(n.uid,e=>{l(e)},e=>{console.error("UserContext journal subscription error",e)},300)}catch(Le){console.error("Failed to subscribe to journals",Le)}else l([]);return()=>{e&&e()}},[null===n||void 0===n?void 0:n.uid]);const d=async()=>{u(!0);try{const e=await(async e=>{try{const t=jx(Pv(jw,Hw),Sx("userId","==",e),_x("createdAt","desc")),n=await qx(t),r=[];return n.forEach(e=>{r.push(Re({id:e.id},e.data()))}),{success:!0,data:r}}catch(t){return{success:!1,error:t.message}}})(n.uid);e.success&&o(e.data)}catch(e){console.error("Error loading user data:",e)}finally{u(!1)}},h={assessments:a,journalEntries:s,loading:c,loadUserData:d,addAssessment:e=>{o(t=>[e,...t])},addJournalEntry:e=>{},updateJournalEntry:(e,t)=>{l(n=>n.map(n=>n.id===e?Re(Re({},n),t):n))},deleteJournalEntry:e=>{l(t=>t.filter(t=>t.id!==e))}};return(0,Cw.jsx)(bj.Provider,{value:h,children:t})};function Nj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Sj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kj=["color","size","strokeWidth","absoluteStrokeWidth","children"],Ej=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var _j=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{color:a="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:c}=n,u=Nj(n,kj);return(0,r.createElement)("svg",Re(Re({ref:i},Sj),{},{width:o,height:o,stroke:a,strokeWidth:l?24*Number(s)/Number(o):s,className:"lucide lucide-".concat(Ej(e))},u),[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...(Array.isArray(c)?c:[c])||[]])});return n.displayName="".concat(e),n};const Oj=_j("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Aj=_j("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Tj=_j("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Cj=_j("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ij=_j("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Pj=_j("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Dj=_j("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Mj=_j("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Rj=_j("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Lj=_j("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Fj=_j("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Uj=_j("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Bj=()=>{const{user:e,userData:t}=Pw(),n=Z(),i=$(),[a,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),c=e=>i.hash==="#".concat(e),u=[{name:"Dashboard",path:"/dashboard",icon:Oj},{name:"AI Chatbot",path:"/chatbot",icon:Aj},{name:"Chat",path:"/chat",icon:Aj},{name:"Book Session",path:"/booking",icon:Tj},{name:"Peer Forum",path:"/forum",icon:Cj},{name:"Resources",path:"/resources",icon:Ij},{name:"Journal",path:"/journal",icon:Pj}],d=[{name:"Dashboard",path:"/counsellor",icon:Dj},{name:"Bookings",path:"/counsellor/bookings",icon:Tj},{name:"Availability",path:"/counsellor/availability",icon:Mj},{name:"Resources",path:"/counsellor/resources",icon:Ij}],h=[{name:"Admin Panel",path:"/admin",icon:Rj},{name:"Approvals",path:"/admin/counsellors",icon:Cj}],f="student"===(null===t||void 0===t?void 0:t.role)?u:"counsellor"===(null===t||void 0===t?void 0:t.role)?d:"admin"===(null===t||void 0===t?void 0:t.role)?h:[];return(0,Cw.jsx)("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Cw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Cw.jsxs)("div",{className:"flex justify-between h-16",children:[(0,Cw.jsx)("div",{className:"flex items-center",children:(0,Cw.jsxs)(Oe,{to:"#/",className:"flex items-center space-x-2",children:[(0,Cw.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Cw.jsx)(Aj,{className:"w-5 h-5 text-white"})}),(0,Cw.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"MINDLY"})]})}),e&&(0,Cw.jsx)("div",{className:"hidden md:flex items-center space-x-1",children:f.map(e=>{const t=e.icon;return(0,Cw.jsxs)(Oe,{to:e.path,className:"flex items-center space-x-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat(c(e.path)?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Cw.jsx)(t,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:e.name})]},e.name)})}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-4",children:[e?(0,Cw.jsxs)("div",{className:"relative",children:[(0,Cw.jsxs)("button",{onClick:()=>l(!s),className:"flex items-center space-x-2 text-sm text-gray-700 hover:text-gray-900",children:[(0,Cw.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Cw.jsx)(Oj,{className:"w-4 h-4 text-primary-600"})}),(0,Cw.jsx)("span",{className:"hidden md:block",children:(null===t||void 0===t?void 0:t.displayName)||"User"})]}),s&&(0,Cw.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[(0,Cw.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100",children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null===t||void 0===t?void 0:t.displayName}),(0,Cw.jsx)("p",{className:"text-xs text-gray-500",children:null===t||void 0===t?void 0:t.email}),(0,Cw.jsx)("p",{className:"text-xs text-primary-600 capitalize",children:null===t||void 0===t?void 0:t.role})]}),(0,Cw.jsxs)("button",{onClick:async()=>{try{await(async()=>{try{return await qa(ww),{success:!0}}catch(e){return{success:!1,error:e.message}}})(),$t.success("Signed out successfully"),n("#/")}catch(e){$t.error("Error signing out")}},className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[(0,Cw.jsx)(Lj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Sign Out"})]})]})]}):(0,Cw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cw.jsx)(Oe,{to:"#/login",className:"text-sm text-gray-600 hover:text-gray-900",children:"Sign In"}),(0,Cw.jsx)(Oe,{to:"#/register",className:"btn-primary text-sm",children:"Sign Up"})]}),e&&(0,Cw.jsx)("button",{onClick:()=>o(!a),className:"md:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:a?(0,Cw.jsx)(Fj,{className:"w-5 h-5"}):(0,Cw.jsx)(Uj,{className:"w-5 h-5"})})]})]}),e&&a&&(0,Cw.jsx)("div",{className:"md:hidden border-t border-gray-200 py-4",children:(0,Cw.jsxs)("div",{className:"space-y-1",children:["student"===(null===t||void 0===t?void 0:t.role)&&(0,Cw.jsxs)(Cw.Fragment,{children:[(0,Cw.jsxs)(Oe,{to:"#/dashboard",onClick:()=>o(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ".concat(c("/dashboard")?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Cw.jsx)(Oj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Dashboard"})]}),(0,Cw.jsxs)(Oe,{to:"#/chatbot",onClick:()=>o(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ".concat(c("/chatbot")?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Cw.jsx)(Aj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"AI Chatbot"})]}),(0,Cw.jsxs)(Oe,{to:"#/chat",onClick:()=>o(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ".concat(c("/chat")?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Cw.jsx)(Aj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Chat"})]}),(0,Cw.jsxs)(Oe,{to:"#/booking",onClick:()=>o(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ".concat(c("/booking")?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Cw.jsx)(Tj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Book Session"})]}),(0,Cw.jsxs)(Oe,{to:"#/forum",onClick:()=>o(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ".concat(c("/forum")?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Cw.jsx)(Cj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Peer Forum"})]}),(0,Cw.jsxs)(Oe,{to:"#/resources",onClick:()=>o(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ".concat(c("/resources")?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Cw.jsx)(Ij,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Resources"})]}),(0,Cw.jsxs)(Oe,{to:"#/journal",onClick:()=>o(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ".concat(c("/journal")?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Cw.jsx)(Pj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Journal"})]})]}),"counsellor"===(null===t||void 0===t?void 0:t.role)&&(0,Cw.jsxs)(Cw.Fragment,{children:[(0,Cw.jsxs)(Oe,{to:"/counsellor",onClick:()=>o(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ".concat(c("/counsellor")?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Cw.jsx)(Dj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Counsellor Panel"})]}),(0,Cw.jsxs)(Oe,{to:"#/resources",onClick:()=>o(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ".concat(c("/resources")?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Cw.jsx)(Ij,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Resources"})]})]}),"admin"===(null===t||void 0===t?void 0:t.role)&&(0,Cw.jsxs)(Cw.Fragment,{children:[(0,Cw.jsxs)(Oe,{to:"/admin",onClick:()=>o(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ".concat(c("/admin")?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Cw.jsx)(Rj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Admin Panel"})]}),(0,Cw.jsxs)(Oe,{to:"/admin/counsellors",onClick:()=>o(!1),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium ".concat(c("/admin/counsellors")?"bg-primary-100 text-primary-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,Cw.jsx)(Cj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Approvals"})]})]})]})})]})})},Vj=_j("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),zj=_j("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),qj=_j("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Hj=()=>(0,Cw.jsx)("footer",{className:"bg-gray-900 text-white",children:(0,Cw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Cw.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Cw.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Cw.jsx)(Aj,{className:"w-5 h-5 text-white"})}),(0,Cw.jsx)("span",{className:"text-xl font-bold",children:"MINDLY"})]}),(0,Cw.jsx)("p",{className:"text-gray-300 mb-4 max-w-md",children:"Mental Health INsights & Digital support for Learning Youth. Providing AI-guided assistance, professional counselling, and peer support in a safe, confidential environment."}),(0,Cw.jsxs)("div",{className:"flex space-x-4",children:[(0,Cw.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[(0,Cw.jsx)("span",{className:"sr-only",children:"Facebook"}),(0,Cw.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Cw.jsx)("path",{fillRule:"evenodd",d:"M20 10C20 4.477 15.523 0 10 0S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z",clipRule:"evenodd"})})]}),(0,Cw.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[(0,Cw.jsx)("span",{className:"sr-only",children:"Twitter"}),(0,Cw.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Cw.jsx)("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})})]}),(0,Cw.jsxs)("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[(0,Cw.jsx)("span",{className:"sr-only",children:"LinkedIn"}),(0,Cw.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Cw.jsx)("path",{fillRule:"evenodd",d:"M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z",clipRule:"evenodd"})})]})]})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),(0,Cw.jsxs)("ul",{className:"space-y-2",children:[(0,Cw.jsx)("li",{children:(0,Cw.jsx)(Oe,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Home"})}),(0,Cw.jsx)("li",{children:(0,Cw.jsx)(Oe,{to:"/chatbot",className:"text-gray-300 hover:text-white transition-colors",children:"AI Chatbot"})}),(0,Cw.jsx)("li",{children:(0,Cw.jsx)(Oe,{to:"/booking",className:"text-gray-300 hover:text-white transition-colors",children:"Book Session"})}),(0,Cw.jsx)("li",{children:(0,Cw.jsx)(Oe,{to:"/forum",className:"text-gray-300 hover:text-white transition-colors",children:"Peer Forum"})}),(0,Cw.jsx)("li",{children:(0,Cw.jsx)(Oe,{to:"/resources",className:"text-gray-300 hover:text-white transition-colors",children:"Resources"})})]})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),(0,Cw.jsxs)("ul",{className:"space-y-3",children:[(0,Cw.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Cw.jsx)(Vj,{className:"w-4 h-4 text-primary-400"}),(0,Cw.jsx)("span",{className:"text-gray-300",children:"support@mindly.edu"})]}),(0,Cw.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Cw.jsx)(zj,{className:"w-4 h-4 text-primary-400"}),(0,Cw.jsx)("span",{className:"text-gray-300",children:"+91 987654321"})]}),(0,Cw.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Cw.jsx)(qj,{className:"w-4 h-4 text-primary-400"}),(0,Cw.jsx)("span",{className:"text-gray-300",children:"SRM University AP"})]})]})]})]}),(0,Cw.jsx)("div",{className:"border-t border-gray-800 mt-8 pt-8",children:(0,Cw.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,Cw.jsx)("p",{className:"text-gray-400 text-sm",children:"\xa9 2025 MINDLY. All rights reserved."}),(0,Cw.jsxs)("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[(0,Cw.jsx)(Oe,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),(0,Cw.jsx)(Oe,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),(0,Cw.jsx)(Oe,{to:"/crisis",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Crisis Resources"})]})]})})]})}),Wj=_j("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Gj=e=>{let{size:t="md",text:n="Loading..."}=e;return(0,Cw.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:(0,Cw.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Cw.jsx)(Wj,{className:"".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"}[t]," text-primary-600 animate-spin")}),n&&(0,Cw.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:n})]})})},Kj=_j("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Yj=()=>(0,Cw.jsx)("div",{className:"min-h-[50vh] flex items-center justify-center px-4",children:(0,Cw.jsxs)("div",{className:"text-center max-w-md",children:[(0,Cw.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-50 border border-red-100",children:(0,Cw.jsx)(Kj,{className:"w-8 h-8 text-red-500"})}),(0,Cw.jsx)("h1",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Access Denied"}),(0,Cw.jsx)("p",{className:"mt-2 text-gray-600",children:"You do not have permission to view this page. If you believe this is a mistake, please contact an administrator."})]})}),Qj=_j("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Xj=_j("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),$j=_j("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Jj=()=>{const e=[{icon:Aj,title:"AI-Guided First-Aid Chatbot",description:"Get immediate support and coping strategies for stress, anxiety, and sleep issues with our intelligent chatbot.",color:"text-blue-600"},{icon:Tj,title:"Confidential Booking System",description:"Book appointments with professional counsellors while maintaining complete anonymity and privacy.",color:"text-green-600"},{icon:Cj,title:"Peer Support Forum",description:"Connect with fellow students in a safe, moderated environment for mutual support and understanding.",color:"text-purple-600"},{icon:Ij,title:"Resource Hub",description:"Access videos, guides, and relaxation audios in multiple languages for comprehensive mental health support.",color:"text-orange-600"},{icon:Rj,title:"Privacy & Security",description:"Your data is protected with end-to-end encryption and strict confidentiality protocols.",color:"text-red-600"},{icon:Qj,title:"Personal Journal",description:"Maintain a private digital journal to track your mental health journey and progress.",color:"text-pink-600"}];return(0,Cw.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cw.jsx)("section",{className:"relative bg-gradient-to-br from-primary-50 to-secondary-50 py-20",children:(0,Cw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Cw.jsxs)("div",{className:"text-center",children:[(0,Cw.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:[(0,Cw.jsx)("span",{className:"bg-gradient-to-r from-primary-600 to-purple-600 bg-clip-text text-transparent animate-glow",children:"MINDLY"}),(0,Cw.jsxs)("div",{className:"text-2xl md:text-4xl font-semibold text-gray-700 mt-4 space-y-2",children:[(0,Cw.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-2",children:[(0,Cw.jsx)("span",{className:"inline-block animate-float bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent",children:"Mental Health"}),(0,Cw.jsx)("span",{className:"text-primary-600 font-bold animate-pulse",children:"INsights"})]}),(0,Cw.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-2",children:[(0,Cw.jsx)("span",{className:"inline-block animate-float-delay bg-gradient-to-r from-green-600 to-green-800 bg-clip-text text-transparent",children:"Digital support"}),(0,Cw.jsx)("span",{className:"text-primary-600 font-bold animate-pulse",children:"Learning Youth"})]})]})]}),(0,Cw.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto animate-fade-in",children:"Get immediate AI assistance, professional counselling, and peer support in a safe, confidential environment."}),(0,Cw.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-slide-up",children:[(0,Cw.jsxs)(Oe,{to:"#/register",className:"btn-primary text-lg px-8 py-3 inline-flex items-center justify-center hover:scale-105 transition-transform duration-200",children:["Get Started",(0,Cw.jsx)(Xj,{className:"ml-2 w-5 h-5"})]}),(0,Cw.jsx)(Oe,{to:"#/login",className:"btn-secondary text-lg px-8 py-3 hover:scale-105 transition-transform duration-200",children:"Sign In"})]})]})})}),(0,Cw.jsx)("section",{className:"py-16 bg-white",children:(0,Cw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Cw.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{number:"10,000+",label:"Students Helped"},{number:"500+",label:"Counsellors"},{number:"24/7",label:"AI Support"},{number:"99.9%",label:"Uptime"}].map((e,t)=>(0,Cw.jsxs)("div",{className:"text-center",children:[(0,Cw.jsx)("div",{className:"text-3xl md:text-4xl font-bold text-primary-600 mb-2",children:e.number}),(0,Cw.jsx)("div",{className:"text-gray-600 font-medium",children:e.label})]},t))})})}),(0,Cw.jsx)("section",{className:"py-20 bg-gray-50",children:(0,Cw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Cw.jsxs)("div",{className:"text-center mb-16",children:[(0,Cw.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Comprehensive Mental Health Support"}),(0,Cw.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our platform provides multiple layers of support to ensure you have access to the help you need, when you need it."})]}),(0,Cw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((e,t)=>{const n=e.icon;return(0,Cw.jsxs)("div",{className:"card hover:shadow-lg transition-shadow duration-300",children:[(0,Cw.jsx)("div",{className:"w-12 h-12 ".concat(e.color," mb-4"),children:(0,Cw.jsx)(n,{className:"w-12 h-12"})}),(0,Cw.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.title}),(0,Cw.jsx)("p",{className:"text-gray-600",children:e.description})]},t)})})]})}),(0,Cw.jsx)("section",{className:"py-20 bg-white",children:(0,Cw.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Cw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Why Choose Our Platform?"}),(0,Cw.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"We understand the unique challenges faced by college students and have designed our platform with your specific needs in mind."}),(0,Cw.jsx)("ul",{className:"space-y-4",children:["Complete anonymity and privacy protection","AI-powered immediate support and guidance","Professional counselling services","Peer support community","Multilingual resources and content","Mobile-responsive design for accessibility"].map((e,t)=>(0,Cw.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Cw.jsx)($j,{className:"w-6 h-6 text-green-500 mt-0.5 flex-shrink-0"}),(0,Cw.jsx)("span",{className:"text-gray-700",children:e})]},t))})]}),(0,Cw.jsx)("div",{className:"bg-gradient-to-br from-primary-100 to-secondary-100 rounded-2xl p-8",children:(0,Cw.jsxs)("div",{className:"text-center",children:[(0,Cw.jsx)("div",{className:"w-24 h-24 bg-primary-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Cw.jsx)(Qj,{className:"w-12 h-12 text-white"})}),(0,Cw.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your Mental Health Matters"}),(0,Cw.jsx)("p",{className:"text-gray-600 mb-6",children:"Take the first step towards better mental health. Our platform is designed to provide you with the support and resources you need to thrive in college and beyond."}),(0,Cw.jsxs)(Oe,{to:"#/register",className:"btn-primary inline-flex items-center",children:["Start Your Journey",(0,Cw.jsx)(Xj,{className:"ml-2 w-4 h-4"})]})]})})]})})}),(0,Cw.jsx)("section",{className:"py-20 bg-primary-600",children:(0,Cw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,Cw.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Get Started?"}),(0,Cw.jsx)("p",{className:"text-xl text-primary-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of students who have already found support and guidance through our platform."}),(0,Cw.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Cw.jsxs)(Oe,{to:"#/register",className:"bg-white text-primary-600 hover:bg-gray-100 font-medium py-3 px-8 rounded-lg transition-colors duration-200 inline-flex items-center justify-center",children:["Create Account",(0,Cw.jsx)(Xj,{className:"ml-2 w-5 h-5"})]}),(0,Cw.jsx)(Oe,{to:"#/login",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 font-medium py-3 px-8 rounded-lg transition-colors duration-200",children:"Sign In"})]})]})})]})},Zj=["_f"],eN=["name"],tN=["_f"],nN=["ref","message","type"],rN=["formControl"];var iN=e=>"checkbox"===e.type,aN=e=>e instanceof Date,oN=e=>null==e;const sN=e=>"object"===typeof e;var lN=e=>!oN(e)&&!Array.isArray(e)&&sN(e)&&!aN(e),cN=e=>lN(e)&&e.target?iN(e.target)?e.target.checked:e.target.value:e,uN=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),dN="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function hN(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(dN&&(e instanceof Blob||r)||!n&&!lN(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return lN(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=hN(e[n]));else t=e}return t}var fN=e=>/^\w*$/.test(e),pN=e=>void 0===e,mN=e=>Array.isArray(e)?e.filter(Boolean):[],yN=e=>mN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),gN=(e,t,n)=>{if(!t||!lN(e))return n;const r=(fN(t)?[t]:yN(t)).reduce((e,t)=>oN(e)?e:e[t],e);return pN(r)||r===e?pN(e[t])?n:e[t]:r},vN=e=>"boolean"===typeof e,xN=(e,t,n)=>{let r=-1;const i=fN(t)?[t]:yN(t),a=i.length,o=a-1;for(;++r<a;){const t=i[r];let a=n;if(r!==o){const n=e[t];a=lN(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=a,e=e[t]}};const bN="blur",wN="focusout",jN="onBlur",NN="onChange",SN="onSubmit",kN="onTouched",EN="all",_N="max",ON="min",AN="maxLength",TN="minLength",CN="pattern",IN="required",PN="validate",DN=r.createContext(null);DN.displayName="HookFormContext";var MN=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const i=a;return t._proxyFormState[i]!==EN&&(t._proxyFormState[i]=!r||EN),n&&(n[i]=!0),e[i]}});return i};const RN="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;var LN=e=>"string"===typeof e,FN=(e,t,n,r,i)=>LN(e)?(r&&t.watch.add(e),gN(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),gN(n,e))):(r&&(t.watchAll=!0),n),UN=e=>oN(e)||!sN(e);function BN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(UN(e)||UN(t))return e===t;if(aN(e)&&aN(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const r=e[a];if(!i.includes(a))return!1;if("ref"!==a){const e=t[a];if(aN(r)&&aN(e)||lN(r)&&lN(e)||Array.isArray(r)&&Array.isArray(e)?!BN(r,e,n):r!==e)return!1}}return!0}var VN=(e,t,n,r,i)=>t?Re(Re({},n[e]),{},{types:Re(Re({},n[e]&&n[e].types?n[e].types:{}),{},{[r]:i||!0})}):{},zN=e=>Array.isArray(e)?e:[e],qN=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function HN(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],a=t[r];if(i&&lN(i)&&a){const e=HN(i,a);lN(e)&&(n[r]=e)}else e[r]&&(n[r]=a)}return n}var WN=e=>lN(e)&&!Object.keys(e).length,GN=e=>"file"===e.type,KN=e=>"function"===typeof e,YN=e=>{if(!dN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},QN=e=>"select-multiple"===e.type,XN=e=>"radio"===e.type,$N=e=>YN(e)&&e.isConnected;function JN(e,t){const n=Array.isArray(t)?t:fN(t)?[t]:yN(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=pN(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(lN(r)&&WN(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!pN(e[t]))return!1;return!0}(r))&&JN(e,n.slice(0,-1)),e}function ZN(e){return Array.isArray(e)||lN(e)&&!(e=>{for(const t in e)if(KN(e[t]))return!0;return!1})(e)}function eS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n in e)ZN(e[n])?(t[n]=Array.isArray(e[n])?[]:{},eS(e[n],t[n])):oN(e[n])||(t[n]=!0);return t}function tS(e,t,n){n||(n=eS(t));for(const r in e)ZN(e[r])?pN(t)||UN(n[r])?n[r]=eS(e[r],Array.isArray(e[r])?[]:{}):tS(e[r],oN(t)?{}:t[r],n[r]):n[r]=!BN(e[r],t[r]);return n}const nS={value:!1,isValid:!1},rS={value:!0,isValid:!0};var iS=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!pN(e[0].attributes.value)?pN(e[0].value)||""===e[0].value?rS:{value:e[0].value,isValid:!0}:rS:nS}return nS},aS=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return pN(e)?e:n?""===e?NaN:e?+e:e:r&&LN(e)?new Date(e):i?i(e):e};const oS={isValid:!1,value:null};var sS=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,oS):oS;function lS(e){const t=e.ref;return GN(t)?t.files:XN(t)?sS(e.refs).value:QN(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):iN(t)?iS(e.refs).value:aS(pN(t.value)?e.ref.value:t.value,e)}var cS=e=>e instanceof RegExp,uS=e=>pN(e)?e:cS(e)?e.source:lN(e)?cS(e.value)?e.value.source:e.value:e,dS=e=>({isOnSubmit:!e||e===SN,isOnBlur:e===jN,isOnChange:e===NN,isOnAll:e===EN,isOnTouch:e===kN});const hS="AsyncFunction";var fS=e=>!!e&&!!e.validate&&!!(KN(e.validate)&&e.validate.constructor.name===hS||lN(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===hS)),pS=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const mS=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=gN(e,i);if(n){const{_f:e}=n,a=Nj(n,Zj);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(mS(a,t))break}else if(lN(a)&&mS(a,t))break}}};function yS(e,t,n){const r=gN(e,n);if(r||fN(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),a=gN(t,r),o=gN(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};if(o&&o.root&&o.root.type)return{name:"".concat(r,".root"),error:o.root};i.pop()}return{name:n}}var gS=(e,t,n)=>{const r=zN(gN(e,n));return xN(r,"root",t[n]),xN(e,n,r),e};function vS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(LN(e)||Array.isArray(e)&&e.every(LN)||vN(e)&&!e)return{type:n,message:LN(e)?e:"",ref:t}}var xS=e=>lN(e)&&!cS(e)?e:{value:e,message:""},bS=async(e,t,n,r,i,a)=>{const{ref:o,refs:s,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:p,name:m,valueAsNumber:y,mount:g}=e._f,v=gN(n,m);if(!g||t.has(m))return{};const x=s?s[0]:o,b=e=>{i&&x.reportValidity&&(x.setCustomValidity(vN(e)?"":e||""),x.reportValidity())},w={},j=XN(o),N=iN(o),S=j||N,k=(y||GN(o))&&pN(o.value)&&pN(v)||YN(o)&&""===o.value||""===v||Array.isArray(v)&&!v.length,E=VN.bind(null,m,r,w),_=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:AN,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:TN;const a=e?t:n;w[m]=Re({type:e?r:i,message:a,ref:o},E(e?r:i,a))};if(a?!Array.isArray(v)||!v.length:l&&(!S&&(k||oN(v))||vN(v)&&!v||N&&!iS(s).isValid||j&&!sS(s).isValid)){const{value:e,message:t}=LN(l)?{value:!!l,message:l}:xS(l);if(e&&(w[m]=Re({type:IN,message:t,ref:x},E(IN,t)),!r))return b(t),w}if(!k&&(!oN(d)||!oN(h))){let e,t;const n=xS(h),i=xS(d);if(oN(v)||isNaN(v)){const r=o.valueAsDate||new Date(v),a=e=>new Date((new Date).toDateString()+" "+e),s="time"==o.type,l="week"==o.type;LN(n.value)&&v&&(e=s?a(v)>a(n.value):l?v>n.value:r>new Date(n.value)),LN(i.value)&&v&&(t=s?a(v)<a(i.value):l?v<i.value:r<new Date(i.value))}else{const r=o.valueAsNumber||(v?+v:v);oN(n.value)||(e=r>n.value),oN(i.value)||(t=r<i.value)}if((e||t)&&(_(!!e,n.message,i.message,_N,ON),!r))return b(w[m].message),w}if((c||u)&&!k&&(LN(v)||a&&Array.isArray(v))){const e=xS(c),t=xS(u),n=!oN(e.value)&&v.length>+e.value,i=!oN(t.value)&&v.length<+t.value;if((n||i)&&(_(n,e.message,t.message),!r))return b(w[m].message),w}if(f&&!k&&LN(v)){const{value:e,message:t}=xS(f);if(cS(e)&&!v.match(e)&&(w[m]=Re({type:CN,message:t,ref:o},E(CN,t)),!r))return b(t),w}if(p)if(KN(p)){const e=vS(await p(v,n),x);if(e&&(w[m]=Re(Re({},e),E(PN,e.message)),!r))return b(e.message),w}else if(lN(p)){let e={};for(const t in p){if(!WN(e)&&!r)break;const i=vS(await p[t](v,n),x,t);i&&(e=Re(Re({},i),E(t,i.message)),b(i.message),r&&(w[m]=e))}if(!WN(e)&&(w[m]=Re({ref:x},e),!r))return w}return b(!0),w};const wS={mode:SN,reValidateMode:NN,shouldFocusError:!0};function jS(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Re(Re({},wS),t),r={submitCount:0,isDirty:!1,isReady:!1,isLoading:KN(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},a=(lN(n.defaultValues)||lN(n.values))&&hN(n.defaultValues||n.values)||{},o=n.shouldUnregister?{}:hN(a),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d=Re({},u);const h={array:qN(),state:qN()},f=n.criteriaMode===EN,p=async e=>{if(!n.disabled&&(u.isValid||d.isValid||e)){const e=n.resolver?WN((await x()).errors):await b(i,!0);e!==r.isValid&&h.state.next({isValid:e})}},m=(e,t)=>{!n.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?xN(r.validatingFields,e,t):JN(r.validatingFields,e))}),h.state.next({validatingFields:r.validatingFields,isValidating:!WN(r.validatingFields)}))},y=(e,t,n,r)=>{const l=gN(i,e);if(l){const i=gN(o,e,pN(n)?gN(a,e):n);pN(i)||r&&r.defaultChecked||t?xN(o,e,t?i:lS(l._f)):N(e,i),s.mount&&p()}},g=(e,t,i,o,s)=>{let l=!1,c=!1;const f={name:e};if(!n.disabled){if(!i||o){(u.isDirty||d.isDirty)&&(c=r.isDirty,r.isDirty=f.isDirty=w(),l=c!==f.isDirty);const n=BN(gN(a,e),t);c=!!gN(r.dirtyFields,e),n?JN(r.dirtyFields,e):xN(r.dirtyFields,e,!0),f.dirtyFields=r.dirtyFields,l=l||(u.dirtyFields||d.dirtyFields)&&c!==!n}if(i){const t=gN(r.touchedFields,e);t||(xN(r.touchedFields,e,i),f.touchedFields=r.touchedFields,l=l||(u.touchedFields||d.touchedFields)&&t!==i)}l&&s&&h.state.next(f)}return l?f:{}},v=(t,i,a,o)=>{const s=gN(r.errors,t),l=(u.isValid||d.isValid)&&vN(i)&&r.isValid!==i;if(n.delayError&&a?(e=(e=>t=>{clearTimeout(c),c=setTimeout(e,t)})(()=>((e,t)=>{xN(r.errors,e,t),h.state.next({errors:r.errors})})(t,a)),e(n.delayError)):(clearTimeout(c),e=null,a?xN(r.errors,t,a):JN(r.errors,t)),(a?!BN(s,a):s)||!WN(o)||l){const e=Re(Re(Re({},o),l&&vN(i)?{isValid:i}:{}),{},{errors:r.errors,name:t});r=Re(Re({},r),e),h.state.next(e)}},x=async e=>{m(e,!0);const t=await n.resolver(o,n.context,((e,t,n,r)=>{const i={};for(const a of e){const e=gN(t,a);e&&xN(i,a,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return m(e),t},b=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const a in e){const s=e[a];if(s){const{_f:e}=s,a=Nj(s,tN);if(e){const a=l.array.has(e.name),c=s._f&&fS(s._f);c&&u.validatingFields&&m([e.name],!0);const d=await bS(s,l.disabled,o,f,n.shouldUseNativeValidation&&!t,a);if(c&&u.validatingFields&&m([e.name]),d[e.name]&&(i.valid=!1,t))break;!t&&(gN(d,e.name)?a?gS(r.errors,d,e.name):xN(r.errors,e.name,d[e.name]):JN(r.errors,e.name))}!WN(a)&&await b(a,t,i)}}return i.valid},w=(e,t)=>!n.disabled&&(e&&t&&xN(o,e,t),!BN(A(),a)),j=(e,t,n)=>FN(e,l,Re({},s.mount?o:pN(t)?a:LN(e)?{[e]:t}:t),n,t),N=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=gN(i,e);let a=t;if(r){const n=r._f;n&&(!n.disabled&&xN(o,e,aS(t,n)),a=YN(n.ref)&&oN(t)?"":t,QN(n.ref)?[...n.ref.options].forEach(e=>e.selected=a.includes(e.value)):n.refs?iN(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(a)?e.checked=!!a.find(t=>t===e.value):e.checked=a===e.value||!!a)}):n.refs.forEach(e=>e.checked=e.value===a):GN(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||h.state.next({name:e,values:hN(o)})))}(n.shouldDirty||n.shouldTouch)&&g(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&O(e)},S=(e,t,n)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const a=t[r],o=e+"."+r,s=gN(i,o);(l.array.has(e)||lN(a)||s&&!s._f)&&!aN(a)?S(o,a,n):N(o,a,n)}},k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=gN(i,e),f=l.array.has(e),p=hN(t);xN(o,e,p),f?(h.array.next({name:e,values:hN(o)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&n.shouldDirty&&h.state.next({name:e,dirtyFields:tS(a,o),isDirty:w(e,p)})):!c||c._f||oN(p)?N(e,p,n):S(e,p,n),pS(e,l)&&h.state.next(Re(Re({},r),{},{name:e})),h.state.next({name:s.mount?e:void 0,values:hN(o)})},E=async t=>{s.mount=!0;const a=t.target;let c=a.name,y=!0;const w=gN(i,c),j=e=>{y=Number.isNaN(e)||aN(e)&&isNaN(e.getTime())||BN(e,gN(o,c,e))},N=dS(n.mode),S=dS(n.reValidateMode);if(w){let s,E;const _=a.type?lS(w._f):cN(t),A=t.type===bN||t.type===wN,T=!((k=w._f).mount&&(k.required||k.min||k.max||k.maxLength||k.minLength||k.pattern||k.validate))&&!n.resolver&&!gN(r.errors,c)&&!w._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(A,gN(r.touchedFields,c),r.isSubmitted,S,N),C=pS(c,l,A);xN(o,c,_),A?a&&a.readOnly||(w._f.onBlur&&w._f.onBlur(t),e&&e(0)):w._f.onChange&&w._f.onChange(t);const I=g(c,_,A),P=!WN(I)||C;if(!A&&h.state.next({name:c,type:t.type,values:hN(o)}),T)return(u.isValid||d.isValid)&&("onBlur"===n.mode?A&&p():A||p()),P&&h.state.next(Re({name:c},C?{}:I));if(!A&&C&&h.state.next(Re({},r)),n.resolver){const{errors:e}=await x([c]);if(j(_),y){const t=yS(r.errors,i,c),n=yS(e,i,t.name||c);s=n.error,c=n.name,E=WN(e)}}else m([c],!0),s=(await bS(w,l.disabled,o,f,n.shouldUseNativeValidation))[c],m([c]),j(_),y&&(s?E=!1:(u.isValid||d.isValid)&&(E=await b(i,!0)));y&&(w._f.deps&&(!Array.isArray(w._f.deps)||w._f.deps.length>0)&&O(w._f.deps),v(c,E,s,I))}var k},_=(e,t)=>{if(gN(r.errors,t)&&e.focus)return e.focus(),1},O=async function(e){let t,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=zN(e);if(n.resolver){const n=await(async e=>{const{errors:t}=await x(e);if(e)for(const n of e){const e=gN(t,n);e?xN(r.errors,n,e):JN(r.errors,n)}else r.errors=t;return t})(pN(e)?e:s);t=WN(n),a=e?!s.some(e=>gN(n,e)):t}else e?(a=(await Promise.all(s.map(async e=>{const t=gN(i,e);return await b(t&&t._f?{[e]:t}:t)}))).every(Boolean),(a||r.isValid)&&p()):a=t=await b(i);return h.state.next(Re(Re(Re({},!LN(e)||(u.isValid||d.isValid)&&t!==r.isValid?{}:{name:e}),n.resolver||!e?{isValid:t}:{}),{},{errors:r.errors})),o.shouldFocus&&!a&&mS(i,_,e?s:l.mount),a},A=(e,t)=>{let n=Re({},s.mount?o:a);return t&&(n=HN(t.dirtyFields?r.dirtyFields:r.touchedFields,n)),pN(e)?n:LN(e)?gN(n,e):e.map(e=>gN(n,e))},T=(e,t)=>({invalid:!!gN((t||r).errors,e),isDirty:!!gN((t||r).dirtyFields,e),error:gN((t||r).errors,e),isValidating:!!gN(r.validatingFields,e),isTouched:!!gN((t||r).touchedFields,e)}),C=(e,t,n)=>{const a=(gN(i,e,{_f:{}})._f||{}).ref,o=gN(r.errors,e)||{},{ref:s,message:l,type:c}=o,u=Nj(o,nN);xN(r.errors,e,Re(Re(Re({},u),t),{},{ref:a})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},I=e=>h.state.subscribe({next:t=>{var n,i,s;n=e.name,i=t.name,s=e.exact,n&&i&&n!==i&&!zN(n).some(e=>e&&(s?e===i:e.startsWith(i)||i.startsWith(e)))||!((e,t,n,r)=>{n(e);const{name:i}=e,a=Nj(e,eN);return WN(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(e=>t[e]===(!r||EN))})(t,e.formState||u,B,e.reRenderRoot)||e.callback(Re(Re(Re({values:Re({},o)},r),t),{},{defaultValues:a}))}}).unsubscribe,P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const s of e?zN(e):l.mount)l.mount.delete(s),l.array.delete(s),t.keepValue||(JN(i,s),JN(o,s)),!t.keepError&&JN(r.errors,s),!t.keepDirty&&JN(r.dirtyFields,s),!t.keepTouched&&JN(r.touchedFields,s),!t.keepIsValidating&&JN(r.validatingFields,s),!n.shouldUnregister&&!t.keepDefaultValue&&JN(a,s);h.state.next({values:hN(o)}),h.state.next(Re(Re({},r),t.keepDirty?{isDirty:w()}:{})),!t.keepIsValid&&p()},D=e=>{let{disabled:t,name:n}=e;(vN(t)&&s.mount||t||l.disabled.has(n))&&(t?l.disabled.add(n):l.disabled.delete(n))},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=gN(i,e);const o=vN(t.disabled)||vN(n.disabled);return xN(i,e,Re(Re({},r||{}),{},{_f:Re(Re({},r&&r._f?r._f:{ref:{name:e}}),{},{name:e,mount:!0},t)})),l.mount.add(e),r?D({disabled:vN(t.disabled)?t.disabled:n.disabled,name:e}):y(e,!0,t.value),Re(Re(Re({},o?{disabled:t.disabled||n.disabled}:{}),n.progressive?{required:!!t.required,min:uS(t.min),max:uS(t.max),minLength:uS(t.minLength),maxLength:uS(t.maxLength),pattern:uS(t.pattern)}:{}),{},{name:e,onChange:E,onBlur:E,ref:o=>{if(o){M(e,t),r=gN(i,e);const n=pN(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,s=(e=>XN(e)||iN(e))(n),l=r._f.refs||[];if(s?l.find(e=>e===n):n===r._f.ref)return;xN(i,e,{_f:Re(Re({},r._f),s?{refs:[...l.filter($N),n,...Array.isArray(gN(a,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n})}),y(e,!1,void 0,n)}else r=gN(i,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!uN(l.array,e)||!s.action)&&l.unMount.add(e)}})},R=()=>n.shouldFocusError&&mS(i,_,l.mount),L=(e,t)=>async a=>{let s;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=hN(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await x();r.errors=e,c=hN(t)}else await b(i);if(l.disabled.size)for(const e of l.disabled)JN(c,e);if(JN(r.errors,"root"),WN(r.errors)){h.state.next({errors:{}});try{await e(c,a)}catch(u){s=u}}else t&&await t(Re({},r.errors),a),R(),setTimeout(R);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:WN(r.errors)&&!s,submitCount:r.submitCount+1,errors:r.errors}),s)throw s},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?hN(e):a,d=hN(c),f=WN(e),p=f?a:d;if(t.keepDefaultValues||(a=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(tS(a,o))]);for(const t of Array.from(e))gN(r.dirtyFields,t)?xN(p,t,gN(o,t)):k(t,gN(p,t))}else{if(dN&&pN(e))for(const e of l.mount){const t=gN(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(YN(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)k(e,gN(p,e));else i={}}o=n.shouldUnregister?t.keepDefaultValues?hN(a):{}:hN(p),h.array.next({values:Re({},p)}),h.state.next({values:Re({},p)})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!u.isValid||!!t.keepIsValid||!!t.keepDirtyValues,s.watch=!!n.shouldUnregister,h.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!f&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||BN(e,a))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:f?{}:t.keepDirtyValues?t.keepDefaultValues&&o?tS(a,o):r.dirtyFields:t.keepDefaultValues&&e?tS(a,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:a})},U=(e,t)=>F(KN(e)?e(o):e,t),B=e=>{r=Re(Re({},r),e)},V={control:{register:M,unregister:P,getFieldState:T,handleSubmit:L,setError:C,_subscribe:I,_runSchema:x,_focusError:R,_getWatch:j,_getDirty:w,_setValid:p,_setFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&l&&!n.disabled){if(s.action=!0,p&&Array.isArray(gN(i,e))){const t=l(gN(i,e),c.argA,c.argB);f&&xN(i,e,t)}if(p&&Array.isArray(gN(r.errors,e))){const t=l(gN(r.errors,e),c.argA,c.argB);f&&xN(r.errors,e,t),((e,t)=>{!mN(gN(e,t)).length&&JN(e,t)})(r.errors,e)}if((u.touchedFields||d.touchedFields)&&p&&Array.isArray(gN(r.touchedFields,e))){const t=l(gN(r.touchedFields,e),c.argA,c.argB);f&&xN(r.touchedFields,e,t)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=tS(a,o)),h.state.next({name:e,isDirty:w(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xN(o,e,t)},_setDisabledField:D,_setErrors:e=>{r.errors=e,h.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>mN(gN(s.mount?o:a,e,n.shouldUnregister?gN(a,e,[]):[])),_reset:F,_resetDefaultValues:()=>KN(n.defaultValues)&&n.defaultValues().then(e=>{U(e,n.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=gN(i,e);t&&(t._f.refs?t._f.refs.every(e=>!$N(e)):!$N(t._f.ref))&&P(e)}l.unMount=new Set},_disableForm:e=>{vN(e)&&(h.state.next({disabled:e}),mS(i,(t,n)=>{const r=gN(i,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:h,_proxyFormState:u,get _fields(){return i},get _formValues(){return o},get _state(){return s},set _state(e){s=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return r},get _options(){return n},set _options(e){n=Re(Re({},n),e)}},subscribe:e=>(s.mount=!0,d=Re(Re({},d),e.formState),I(Re(Re({},e),{},{formState:d}))),trigger:O,register:M,handleSubmit:L,watch:(e,t)=>KN(e)?h.state.subscribe({next:n=>"values"in n&&e(j(void 0,t),n)}):j(e,t,!0),setValue:k,getValues:A,reset:U,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gN(i,e)&&(pN(t.defaultValue)?k(e,hN(gN(a,e))):(k(e,t.defaultValue),xN(a,e,hN(t.defaultValue))),t.keepTouched||JN(r.touchedFields,e),t.keepDirty||(JN(r.dirtyFields,e),r.isDirty=t.defaultValue?w(e,hN(gN(a,e))):w()),t.keepError||(JN(r.errors,e),u.isValid&&p()),h.state.next(Re({},r)))},clearErrors:e=>{e&&zN(e).forEach(e=>JN(r.errors,e)),h.state.next({errors:e?r.errors:{}})},unregister:P,setError:C,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=gN(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&KN(e.select)&&e.select())}},getFieldState:T};return Re(Re({},V),{},{formControl:V})}function NS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=r.useRef(void 0),n=r.useRef(void 0),[i,a]=r.useState({isDirty:!1,isValidating:!1,isLoading:KN(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:KN(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=Re(Re({},e.formControl),{},{formState:i}),e.defaultValues&&!KN(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const n=jS(e),{formControl:r}=n,a=Nj(n,rN);t.current=Re(Re({},a),{},{formState:i})}const o=t.current.control;return o._options=e,RN(()=>{const e=o._subscribe({formState:o._proxyFormState,callback:()=>a(Re({},o._formState)),reRenderRoot:!0});return a(e=>Re(Re({},e),{},{isReady:!0})),o._formState.isReady=!0,e},[o]),r.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),r.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),r.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),r.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),r.useEffect(()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==i.isDirty&&o._subjects.state.next({isDirty:e})}},[o,i.isDirty]),r.useEffect(()=>{e.values&&!BN(e.values,n.current)?(o._reset(e.values,Re({keepFieldsRef:!0},o._options.resetOptions)),n.current=e.values,a(e=>Re({},e))):o._resetDefaultValues()},[o,e.values]),r.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(Re({},o._formState))),o._removeUnmounted()}),t.current.formState=MN(i,o),t.current}const SS=_j("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),kS=_j("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ES=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),a=Z(),{register:o,handleSubmit:s,formState:{errors:l}}=NS();return(0,Cw.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Cw.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Cw.jsx)("div",{className:"flex justify-center",children:(0,Cw.jsx)("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Cw.jsx)(Vj,{className:"w-6 h-6 text-white"})})}),(0,Cw.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Sign in to your account"}),(0,Cw.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,Cw.jsx)(Oe,{to:"#/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),(0,Cw.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Cw.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,Cw.jsxs)("form",{className:"space-y-6",onSubmit:s(async e=>{i(!0);try{const t=await _w(e.email,e.password);t.success?($t.success("Welcome back!"),a("/dashboard")):$t.error(t.error)}catch(t){$t.error("An unexpected error occurred")}finally{i(!1)}}),children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,Cw.jsxs)("div",{className:"mt-1 relative",children:[(0,Cw.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Cw.jsx)(Vj,{className:"h-5 w-5 text-gray-400"})}),(0,Cw.jsx)("input",Re(Re({},o("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{type:"email",className:"input-field pl-10",placeholder:"Enter your email"}))]}),l.email&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l.email.message})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,Cw.jsxs)("div",{className:"mt-1 relative",children:[(0,Cw.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Cw.jsx)(Kj,{className:"h-5 w-5 text-gray-400"})}),(0,Cw.jsx)("input",Re(Re({},o("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})),{},{type:e?"text":"password",className:"input-field pl-10 pr-10",placeholder:"Enter your password"})),(0,Cw.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>t(!e),children:e?(0,Cw.jsx)(SS,{className:"h-5 w-5 text-gray-400"}):(0,Cw.jsx)(kS,{className:"h-5 w-5 text-gray-400"})})]}),l.password&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l.password.message})]}),(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{className:"flex items-center",children:[(0,Cw.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Cw.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,Cw.jsx)("div",{className:"text-sm",children:(0,Cw.jsx)(Oe,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),(0,Cw.jsx)("div",{children:(0,Cw.jsx)("button",{type:"submit",disabled:n,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Signing in...":"Sign in"})})]}),(0,Cw.jsxs)("div",{className:"mt-6",children:[(0,Cw.jsxs)("div",{className:"relative",children:[(0,Cw.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Cw.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Cw.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Cw.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),(0,Cw.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[(0,Cw.jsxs)("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,Cw.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,Cw.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Cw.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Cw.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Cw.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,Cw.jsx)("span",{className:"ml-2",children:"Google"})]}),(0,Cw.jsxs)("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,Cw.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Cw.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),(0,Cw.jsx)("span",{className:"ml-2",children:"Facebook"})]})]})]})]})})]})},_S=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),a=Z(),{register:o,handleSubmit:s,watch:l,formState:{errors:c}}=NS(),u=l("password"),d=l("role");return(0,Cw.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Cw.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Cw.jsx)("div",{className:"flex justify-center",children:(0,Cw.jsx)("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Cw.jsx)(Oj,{className:"w-6 h-6 text-white"})})}),(0,Cw.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Create your account"}),(0,Cw.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,Cw.jsx)(Oe,{to:"#/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"sign in to your existing account"})]})]}),(0,Cw.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Cw.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,Cw.jsxs)("form",{className:"space-y-6",onSubmit:s(async e=>{i(!0);try{const t={displayName:e.displayName,role:e.role,phone:e.phone};let n;n=e.role===kw?Re(Re({},t),{},{specialization:e.specialization,experience:e.experience||"",bio:e.bio||""}):Re(Re({},t),{},{collegeEmail:e.collegeEmail,collegeName:e.collegeName,year:e.year,age:e.age,gender:e.gender,interests:e.interests?e.interests.split(",").map(e=>e.trim()):[]});const r=e.role===kw?e.email:e.collegeEmail,i=await Ew(r,e.password,n);i.success?($t.success("Account created successfully! Please check your email for verification."),a("/login")):$t.error(i.error)}catch(t){$t.error("An unexpected error occurred")}finally{i(!1)}}),children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,Cw.jsxs)("div",{className:"mt-1 relative",children:[(0,Cw.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Cw.jsx)(Oj,{className:"h-5 w-5 text-gray-400"})}),(0,Cw.jsx)("input",Re(Re({},o("displayName",{required:"Full name is required",minLength:{value:2,message:"Name must be at least 2 characters"}})),{},{type:"text",className:"input-field pl-10",placeholder:"Enter your full name"}))]}),c.displayName&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.displayName.message})]}),d===kw&&(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,Cw.jsxs)("div",{className:"mt-1 relative",children:[(0,Cw.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Cw.jsx)(Vj,{className:"h-5 w-5 text-gray-400"})}),(0,Cw.jsx)("input",Re(Re({},o("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{type:"email",className:"input-field pl-10",placeholder:"Enter your email"}))]}),c.email&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.email.message})]}),d!==kw&&(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"collegeEmail",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,Cw.jsxs)("div",{className:"mt-1 relative",children:[(0,Cw.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Cw.jsx)(Vj,{className:"h-5 w-5 text-gray-400"})}),(0,Cw.jsx)("input",Re(Re({},o("collegeEmail",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"}})),{},{type:"email",className:"input-field pl-10",placeholder:"Enter your email address"}))]}),c.collegeEmail&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.collegeEmail.message})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,Cw.jsxs)("div",{className:"mt-1 relative",children:[(0,Cw.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Cw.jsx)(Kj,{className:"h-5 w-5 text-gray-400"})}),(0,Cw.jsx)("input",Re(Re({},o("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})),{},{type:e?"text":"password",className:"input-field pl-10 pr-10",placeholder:"Create a password"})),(0,Cw.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>t(!e),children:e?(0,Cw.jsx)(SS,{className:"h-5 w-5 text-gray-400"}):(0,Cw.jsx)(kS,{className:"h-5 w-5 text-gray-400"})})]}),c.password&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.password.message})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,Cw.jsxs)("div",{className:"mt-1 relative",children:[(0,Cw.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Cw.jsx)(Kj,{className:"h-5 w-5 text-gray-400"})}),(0,Cw.jsx)("input",Re(Re({},o("confirmPassword",{required:"Please confirm your password",validate:e=>e===u||"Passwords do not match"})),{},{type:"password",className:"input-field pl-10",placeholder:"Confirm your password"}))]}),c.confirmPassword&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.confirmPassword.message})]}),d!==kw&&(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"collegeName",className:"block text-sm font-medium text-gray-700",children:"School/College/University Name (optional)"}),(0,Cw.jsx)("input",Re(Re({},o("collegeName")),{},{type:"text",className:"input-field",placeholder:"Enter your educational institution name"})),c.collegeName&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.collegeName.message})]}),d!==kw&&(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700",children:"Academic Year (optional)"}),(0,Cw.jsxs)("select",Re(Re({},o("year")),{},{className:"input-field",children:[(0,Cw.jsx)("option",{value:"",children:"Select your year"}),(0,Cw.jsx)("option",{value:"High School",children:"High School"}),(0,Cw.jsx)("option",{value:"1st Year",children:"1st Year"}),(0,Cw.jsx)("option",{value:"2nd Year",children:"2nd Year"}),(0,Cw.jsx)("option",{value:"3rd Year",children:"3rd Year"}),(0,Cw.jsx)("option",{value:"4th Year",children:"4th Year"}),(0,Cw.jsx)("option",{value:"Graduate",children:"Graduate"}),(0,Cw.jsx)("option",{value:"Post Graduate",children:"Post Graduate"}),(0,Cw.jsx)("option",{value:"Working Professional",children:"Working Professional"}),(0,Cw.jsx)("option",{value:"Other",children:"Other"})]})),c.year&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.year.message})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,Cw.jsxs)("div",{className:"mt-1 relative",children:[(0,Cw.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Cw.jsx)(zj,{className:"h-5 w-5 text-gray-400"})}),(0,Cw.jsx)("input",Re(Re({},o("phone",{required:"Phone number is required",pattern:{value:/^[0-9]{10}$/,message:"Please enter a valid 10-digit phone number"}})),{},{type:"tel",className:"input-field pl-10",placeholder:"Enter your phone number"}))]}),c.phone&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.phone.message})]}),d!==kw&&(0,Cw.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700",children:"Age (optional)"}),(0,Cw.jsx)("input",Re(Re({},o("age",{min:{value:13,message:"Age must be at least 13"},max:{value:100,message:"Age must be less than 100"}})),{},{type:"number",className:"input-field",placeholder:"Age"})),c.age&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.age.message})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700",children:"Gender (optional)"}),(0,Cw.jsxs)("select",Re(Re({},o("gender")),{},{className:"input-field",children:[(0,Cw.jsx)("option",{value:"",children:"Select gender"}),(0,Cw.jsx)("option",{value:"Male",children:"Male"}),(0,Cw.jsx)("option",{value:"Female",children:"Female"}),(0,Cw.jsx)("option",{value:"Other",children:"Other"}),(0,Cw.jsx)("option",{value:"Prefer not to say",children:"Prefer not to say"})]})),c.gender&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.gender.message})]})]}),d!==kw&&(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"interests",className:"block text-sm font-medium text-gray-700",children:"Interests (comma-separated)"}),(0,Cw.jsx)("input",Re(Re({},o("interests")),{},{type:"text",className:"input-field",placeholder:"e.g., Music, Sports, Reading, Art"}))]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Account Type"}),(0,Cw.jsxs)("select",Re(Re({},o("role",{required:"Please select your account type"})),{},{className:"input-field",children:[(0,Cw.jsx)("option",{value:"",children:"Select account type"}),(0,Cw.jsx)("option",{value:Sw,children:"Student/Individual"}),(0,Cw.jsx)("option",{value:kw,children:"Counsellor"})]})),c.role&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.role.message})]}),(0,Cw.jsxs)("div",{className:"flex items-center",children:[(0,Cw.jsx)("input",Re(Re({},o("terms",{required:"You must accept the terms and conditions"})),{},{id:"terms",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})),(0,Cw.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",(0,Cw.jsx)("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Terms and Conditions"})," ","and"," ",(0,Cw.jsx)("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Privacy Policy"})]})]}),c.terms&&(0,Cw.jsx)("p",{className:"text-sm text-red-600",children:c.terms.message}),(0,Cw.jsx)("div",{children:(0,Cw.jsx)("button",{type:"submit",disabled:n,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating account...":"Create account"})}),d===kw&&(0,Cw.jsxs)("div",{className:"space-y-4 mt-6",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"specialization",className:"block text-sm font-medium text-gray-700",children:"Specialization"}),(0,Cw.jsxs)("select",Re(Re({},o("specialization",{required:"Specialization is required"})),{},{className:"input-field",children:[(0,Cw.jsx)("option",{value:"",children:"Select specialization"}),(0,Cw.jsx)("option",{value:"Anxiety",children:"Anxiety"}),(0,Cw.jsx)("option",{value:"Depression",children:"Depression"}),(0,Cw.jsx)("option",{value:"Academic Stress",children:"Academic Stress"}),(0,Cw.jsx)("option",{value:"Relationships",children:"Relationships"}),(0,Cw.jsx)("option",{value:"Sleep Issues",children:"Sleep Issues"}),(0,Cw.jsx)("option",{value:"Career Counseling",children:"Career Counseling"}),(0,Cw.jsx)("option",{value:"General Support",children:"General Support"})]})),c.specialization&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.specialization.message})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"experience",className:"block text-sm font-medium text-gray-700",children:"Years of Experience"}),(0,Cw.jsx)("input",Re(Re({},o("experience",{valueAsNumber:!0,min:{value:0,message:"Experience cannot be negative"}})),{},{type:"number",className:"input-field",placeholder:"e.g., 6"})),c.experience&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.experience.message})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Short Bio (optional)"}),(0,Cw.jsx)("textarea",Re(Re({},o("bio")),{},{rows:3,className:"input-field",placeholder:"Tell students about your approach, specialties, and languages"}))]})]})]})})})]})},OS=_j("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),AS=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),{register:a,handleSubmit:o,formState:{errors:s}}=NS();return n?(0,Cw.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Cw.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Cw.jsx)("div",{className:"flex justify-center",children:(0,Cw.jsx)("div",{className:"w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center",children:(0,Cw.jsx)($j,{className:"w-6 h-6 text-white"})})}),(0,Cw.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Check your email"}),(0,Cw.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"We've sent a password reset link to your email address."})]}),(0,Cw.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Cw.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,Cw.jsxs)("div",{className:"text-center",children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Didn't receive the email? Check your spam folder or try again."}),(0,Cw.jsx)("button",{onClick:()=>i(!1),className:"text-primary-600 hover:text-primary-500 font-medium text-sm",children:"Try again"})]}),(0,Cw.jsx)("div",{className:"mt-6",children:(0,Cw.jsxs)(Oe,{to:"#/login",className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Cw.jsx)(OS,{className:"w-4 h-4 mr-2"}),"Back to sign in"]})})]})})]}):(0,Cw.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Cw.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Cw.jsx)("div",{className:"flex justify-center",children:(0,Cw.jsx)("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Cw.jsx)(Vj,{className:"w-6 h-6 text-white"})})}),(0,Cw.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Reset your password"}),(0,Cw.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),(0,Cw.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Cw.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,Cw.jsxs)("form",{className:"space-y-6",onSubmit:o(async e=>{t(!0);try{console.log("Attempting to reset password for:",e.email);const t=await Aw(e.email);console.log("Reset password result:",t),t.success?(i(!0),$t.success(t.message)):(console.error("Reset password error:",t.error),$t.error(t.error))}catch(n){console.error("Unexpected error:",n),$t.error("An unexpected error occurred: "+n.message)}finally{t(!1)}}),children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,Cw.jsxs)("div",{className:"mt-1 relative",children:[(0,Cw.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Cw.jsx)(Vj,{className:"h-5 w-5 text-gray-400"})}),(0,Cw.jsx)("input",Re(Re({},a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{type:"email",className:"input-field pl-10",placeholder:"Enter your email"}))]}),s.email&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.email.message})]}),(0,Cw.jsx)("div",{children:(0,Cw.jsx)("button",{type:"submit",disabled:e,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Sending...":"Send reset link"})})]}),(0,Cw.jsx)("div",{className:"mt-6",children:(0,Cw.jsxs)(Oe,{to:"#/login",className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Cw.jsx)(OS,{className:"w-4 h-4 mr-2"}),"Back to sign in"]})})]})})]})},TS=()=>{const{user:e,userData:t,refreshUser:n,emailVerified:i,loading:a}=Pw(),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1);return a?(0,Cw.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-16",children:(0,Cw.jsx)("div",{className:"card text-center",children:"Loading..."})}):i&&"student"===(null===t||void 0===t?void 0:t.role)?(0,Cw.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-16",children:(0,Cw.jsxs)("div",{className:"card text-center",children:[(0,Cw.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Email Verified"}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Your email is verified. You can now access all features."})]})}):(0,Cw.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-16",children:(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verify Your Email"}),(0,Cw.jsxs)("p",{className:"text-gray-700 mb-4",children:["Hi ",(null===e||void 0===e?void 0:e.displayName)||"there",", we sent a verification link to ",(0,Cw.jsx)("span",{className:"font-medium",children:null===e||void 0===e?void 0:e.email}),". Please verify your email to continue."]}),(0,Cw.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Cw.jsx)("button",{onClick:async()=>{if(ww.currentUser)try{s(!0),await Va(ww.currentUser),$t.success("Verification email sent. Please check your inbox.")}catch(Le){$t.error((null===Le||void 0===Le?void 0:Le.message)||"Failed to send verification email")}finally{s(!1)}},disabled:o,className:"btn-primary disabled:opacity-50",children:o?"Sending...":"Resend Verification Email"}),(0,Cw.jsx)("button",{onClick:async()=>{try{c(!0),await n()}catch(Le){}finally{c(!1)}},disabled:l,className:"btn-secondary disabled:opacity-50",children:l?"Refreshing...":"I Verified \u2014 Refresh Status"}),(0,Cw.jsx)("button",{onClick:async()=>{try{await qa(ww)}catch(e){}},className:"btn-secondary",children:"Sign out"})]}),(0,Cw.jsx)("div",{className:"mt-4 text-sm text-gray-600",children:"Didn\u2019t get the email? Check your spam folder or try resending."})]})})},CS=_j("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);function IS(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=IS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const PS=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=IS(e))&&(r&&(r+=" "),r+=t);return r};var DS=n(9889),MS=n.n(DS),RS=n(620),LS=n.n(RS),FS=n(5268),US=n.n(FS),BS=n(3097),VS=n.n(BS),zS=n(9160),qS=n.n(zS),HS=n(9686),WS=n.n(HS),GS=function(e){return 0===e?0:e>0?1:-1},KS=function(e){return LS()(e)&&e.indexOf("%")===e.length-1},YS=function(e){return qS()(e)&&!US()(e)},QS=function(e){return YS(e)||LS()(e)},XS=0,$S=function(e){var t=++XS;return"".concat(e||"").concat(t)},JS=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!YS(e)&&!LS()(e))return r;if(KS(e)){var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return US()(n)&&(n=r),i&&n>t&&(n=t),n},ZS=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},ek=function(e,t){return YS(e)&&YS(t)?function(n){return e+n*(t-e)}:function(){return t}};function tk(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):VS()(e,t))===n}):null}var nk=function(e,t){return YS(e)&&YS(t)?e-t:LS()(e)&&LS()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},rk=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},ik=n(1629),ak=n.n(ik),ok=n(6686),sk=n.n(ok),lk=n(9062);function ck(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function uk(e){return uk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uk(e)}var dk=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hk=["points","pathLength"],fk={svg:["viewBox","children"],polygon:hk,polyline:hk},pk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],mk=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),!sk()(n))return null;var i={};return Object.keys(n).forEach(function(e){pk.includes(e)&&(i[e]=t||function(t){return n[e](n,t)})}),i},yk=function(e,t,n){if(!sk()(e)||"object"!==uk(e))return null;var r=null;return Object.keys(e).forEach(function(i){var a=e[i];pk.includes(i)&&"function"===typeof a&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(a,t,n))}),r},gk=["children"],vk=["children"];function xk(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bk(e){return bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bk(e)}var wk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},jk=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Nk=null,Sk=null,kk=function e(t){if(t===Nk&&Array.isArray(Sk))return Sk;var n=[];return r.Children.forEach(t,function(t){WS()(t)||((0,lk.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))}),Sk=n,Nk=t,n};function Ek(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return jk(e)}):[jk(t)],kk(e).forEach(function(e){var t=VS()(e,"type.displayName")||VS()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function _k(e,t){var n=Ek(e,t);return n&&n[0]}var Ok=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!YS(n)||n<=0||!YS(r)||r<=0)},Ak=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Tk=function(e){return e&&e.type&&LS()(e.type)&&Ak.indexOf(e.type)>=0},Ck=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,r.isValidElement)(e)&&(i=e.props),!sk()(i))return null;var a={};return Object.keys(i).forEach(function(e){var r;(function(e,t,n,r){var i,a=null!==(i=null===fk||void 0===fk?void 0:fk[r])&&void 0!==i?i:[];return t.startsWith("data-")||!ak()(e)&&(r&&a.includes(t)||dk.includes(t))||n&&pk.includes(t)})(null===(r=i)||void 0===r?void 0:r[e],e,t,n)&&(a[e]=i[e])}),a},Ik=function e(t,n){if(t===n)return!0;var i=r.Children.count(t);if(i!==r.Children.count(n))return!1;if(0===i)return!0;if(1===i)return Pk(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<i;a++){var o=t[a],s=n[a];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!Pk(o,s))return!1}return!0},Pk=function(e,t){if(WS()(e)&&WS()(t))return!0;if(!WS()(e)&&!WS()(t)){var n=e.props||{},r=n.children,i=xk(n,gk),a=t.props||{},o=a.children,s=xk(a,vk);return r&&o?ck(i,s)&&Ik(r,o):!r&&!o&&ck(i,s)}return!1},Dk=function(e,t){var n=[],r={};return kk(e).forEach(function(e,i){if(Tk(e))n.push(e);else if(e){var a=jk(e.type),o=t[a]||{},s=o.handler,l=o.once;if(s&&(!l||!r[a])){var c=s(e,a,i);n.push(c),r[a]=!0}}}),n},Mk=function(e,t){return kk(t).indexOf(e)};function Rk(e){return Rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rk(e)}function Lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lk(Object(n),!0).forEach(function(t){Uk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Uk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Rk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Vk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zk=(0,r.forwardRef)(function(e,t){var n=e.aspect,i=e.initialDimension,a=void 0===i?{width:-1,height:-1}:i,o=e.width,s=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,y=void 0===m?0:m,g=e.id,v=e.className,x=e.onResize,b=e.style,w=void 0===b?{}:b,j=(0,r.useRef)(null),N=(0,r.useRef)();N.current=x,(0,r.useImperativeHandle)(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=Bk((0,r.useState)({containerWidth:a.width,containerHeight:a.height}),2),k=S[0],E=S[1],_=(0,r.useCallback)(function(e,t){E(function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,r.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;_(r,i),null===(t=N.current)||void 0===t||t.call(N,r,i)};y>0&&(e=MS()(e,y,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),r=n.width,i=n.height;return _(r,i),t.observe(j.current),function(){t.disconnect()}},[_,y]);var O=(0,r.useMemo)(function(){var e=k.containerWidth,t=k.containerHeight;if(e<0||t<0)return null;rk(KS(s)||KS(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),rk(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=KS(s)?e:s,a=KS(c)?t:c;n&&n>0&&(i?a=i/n:a&&(i=a*n),f&&a>f&&(a=f)),rk(i>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,a,s,c,d,h,n);var o=!Array.isArray(p)&&jk(p.type).endsWith("Chart");return r.Children.map(p,function(e){return r.isValidElement(e)?(0,r.cloneElement)(e,Fk({width:i,height:a},o?{style:Fk({height:"100%",width:"100%",maxHeight:a,maxWidth:i},e.props.style)}:{})):e})},[n,p,c,f,h,d,k,s]);return r.createElement("div",{id:g?"".concat(g):void 0,className:PS("recharts-responsive-container",v),style:Fk(Fk({},w),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:j},O)}),qk=n(6604),Hk=n.n(qk),Wk=n(7424),Gk=n.n(Wk),Kk="Invariant failed";function Yk(e,t){if(!e)throw new Error(Kk)}var Qk=["children","width","height","viewBox","className","style","title","desc"];function Xk(){return Xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xk.apply(this,arguments)}function $k(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jk(e){var t=e.children,n=e.width,i=e.height,a=e.viewBox,o=e.className,s=e.style,l=e.title,c=e.desc,u=$k(e,Qk),d=a||{width:n,height:i,x:0,y:0},h=PS("recharts-surface",o);return r.createElement("svg",Xk({},Ck(u,!0,"svg"),{className:h,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),r.createElement("title",null,l),r.createElement("desc",null,c),t)}var Zk=["children","className"];function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eE.apply(this,arguments)}function tE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var nE=r.forwardRef(function(e,t){var n=e.children,i=e.className,a=tE(e,Zk),o=PS("recharts-layer",i);return r.createElement("g",eE({className:o},Ck(a,!0),{ref:t}),n)});function rE(e){return rE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rE(e)}function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iE.apply(this,arguments)}function aE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return oE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sE(Object(n),!0).forEach(function(t){cE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uE(e){return Array.isArray(e)&&QS(e[0])&&QS(e[1])?e.join(" ~ "):e}var dE=function(e){var t=e.separator,n=void 0===t?" : ":t,i=e.contentStyle,a=void 0===i?{}:i,o=e.itemStyle,s=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,y=e.labelFormatter,g=e.accessibilityLayer,v=void 0!==g&&g,x=lE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),b=lE({margin:0},c),w=!WS()(m),j=w?m:"",N=PS("recharts-default-tooltip",f),S=PS("recharts-tooltip-label",p);w&&y&&void 0!==u&&null!==u&&(j=y(m,u));var k=v?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",iE({className:N,style:x},k),r.createElement("p",{className:S,style:b},r.isValidElement(j)?j:"".concat(j)),function(){if(u&&u.length){var e=(h?Gk()(u,h):u).map(function(e,t){if("none"===e.type)return null;var i=lE({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),a=e.formatter||d||uE,o=e.value,l=e.name,c=o,h=l;if(a&&null!=c&&null!=h){var f=a(o,l,e,t,u);if(Array.isArray(f)){var p=aE(f,2);c=p[0],h=p[1]}else c=f}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:i},QS(h)?r.createElement("span",{className:"recharts-tooltip-item-name"},h):null,QS(h)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},c),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function hE(e){return hE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hE(e)}function fE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=hE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pE="recharts-tooltip-wrapper",mE={visibility:"hidden"};function yE(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return PS(pE,fE(fE(fE(fE({},"".concat(pE,"-right"),YS(n)&&t&&YS(t.x)&&n>=t.x),"".concat(pE,"-left"),YS(n)&&t&&YS(t.x)&&n<t.x),"".concat(pE,"-bottom"),YS(r)&&t&&YS(t.y)&&r>=t.y),"".concat(pE,"-top"),YS(r)&&t&&YS(t.y)&&r<t.y))}function gE(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&YS(a[r]))return a[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?o[r]?u:d:o[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function vE(e){return vE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vE(e)}function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(t){EE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_E(r.key),r)}}function jE(e,t,n){return t=SE(t),function(e,t){if(t&&("object"===vE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NE()?Reflect.construct(t,n||[],SE(e).constructor):t.apply(e,n))}function NE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(NE=function(){return!!e})()}function SE(e){return SE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SE(e)}function kE(e,t){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kE(e,t)}function EE(e,t,n){return(t=_E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _E(e){var t=function(e,t){if("object"!=vE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vE(t)?t:t+""}var OE=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return EE(e=jE(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),EE(e,"handleKeyDown",function(t){var n,r,i,a;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(a=e.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==i?i:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kE(e,t)}(t,e),n=t,(i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,a=t.animationDuration,o=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,y=t.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,a=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=gE({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:a,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=gE({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:a,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):mE,cssClasses:yE({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=g.cssClasses,x=g.cssProperties,b=bE(bE({transition:u&&n?"transform ".concat(a,"ms ").concat(o):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},y);return r.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(t){e.wrapperNode=t}},s)}}])&&wE(n.prototype,i),a&&wE(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent),AE={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return AE[e]},set:function(e,t){if("string"===typeof e)AE[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){AE[t]=e[t]})}}},TE=n(977),CE=n.n(TE);function IE(e,t,n){return!0===t?CE()(e,n):ak()(t)?CE()(e,t):e}function PE(e){return PE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PE(e)}function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ME(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DE(Object(n),!0).forEach(function(t){VE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zE(r.key),r)}}function LE(e,t,n){return t=UE(t),function(e,t){if(t&&("object"===PE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,FE()?Reflect.construct(t,n||[],UE(e).constructor):t.apply(e,n))}function FE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(FE=function(){return!!e})()}function UE(e){return UE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},UE(e)}function BE(e,t){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BE(e,t)}function VE(e,t,n){return(t=zE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zE(e){var t=function(e,t){if("object"!=PE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=PE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PE(t)?t:t+""}function qE(e){return e.dataKey}var HE=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),LE(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BE(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,a=t.animationDuration,o=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,h=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,y=t.useTranslate3d,g=t.viewBox,v=t.wrapperStyle,x=null!==h&&void 0!==h?h:[];c&&x.length&&(x=IE(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,qE));var b=x.length>0;return r.createElement(OE,{allowEscapeViewBox:i,animationDuration:a,animationEasing:o,isAnimationActive:u,active:n,coordinate:l,hasPayload:b,offset:d,position:p,reverseDirection:m,useTranslate3d:y,viewBox:g,wrapperStyle:v},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(dE,t)}(s,ME(ME({},this.props),{},{payload:x})))}}])&&RE(n.prototype,i),a&&RE(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);VE(HE,"displayName","Tooltip"),VE(HE,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!AE.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var WE=n(643),GE=n.n(WE);Math.abs,Math.atan2;const KE=Math.cos,YE=(Math.max,Math.min,Math.sin),QE=Math.sqrt,XE=Math.PI,$E=2*XE;const JE={draw(e,t){const n=QE(t/XE);e.moveTo(n,0),e.arc(0,0,n,0,$E)}},ZE={draw(e,t){const n=QE(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},e_=QE(1/3),t_=2*e_,n_={draw(e,t){const n=QE(t/t_),r=n*e_;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},r_={draw(e,t){const n=QE(t),r=-n/2;e.rect(r,r,n,n)}},i_=YE(XE/10)/YE(7*XE/10),a_=YE($E/10)*i_,o_=-KE($E/10)*i_,s_={draw(e,t){const n=QE(.8908130915292852*t),r=a_*n,i=o_*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=$E*a/5,o=KE(t),s=YE(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*i,s*r+o*i)}e.closePath()}},l_=QE(3),c_={draw(e,t){const n=-QE(t/(3*l_));e.moveTo(0,2*n),e.lineTo(-l_*n,-n),e.lineTo(l_*n,-n),e.closePath()}},u_=-.5,d_=QE(3)/2,h_=1/QE(12),f_=3*(h_/2+1),p_={draw(e,t){const n=QE(t/f_),r=n/2,i=n*h_,a=r,o=n*h_+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(u_*r-d_*i,d_*r+u_*i),e.lineTo(u_*a-d_*o,d_*a+u_*o),e.lineTo(u_*s-d_*l,d_*s+u_*l),e.lineTo(u_*r+d_*i,u_*i-d_*r),e.lineTo(u_*a+d_*o,u_*o-d_*a),e.lineTo(u_*s+d_*l,u_*l-d_*s),e.closePath()}};function m_(e){return function(){return e}}var y_,g_,v_,x_,b_,w_,j_,N_,S_,k_,E_,__,O_,A_;const T_=Math.PI,C_=2*T_,I_=1e-6,P_=C_-I_;function D_(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class M_{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?D_:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return D_;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(y_||(y_=Ce(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(g_||(g_=Ce(["Z"]))))}lineTo(e,t){this._append(v_||(v_=Ce(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(x_||(x_=Ce(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,a){this._append(b_||(b_=Ce(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+a)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,o=this._y1,s=n-e,l=r-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append(w_||(w_=Ce(["M",",",""])),this._x1=e,this._y1=t);else if(d>I_)if(Math.abs(u*s-l*c)>I_&&i){let h=n-a,f=r-o,p=s*s+l*l,m=h*h+f*f,y=Math.sqrt(p),g=Math.sqrt(d),v=i*Math.tan((T_-Math.acos((p+d-m)/(2*y*g)))/2),x=v/g,b=v/y;Math.abs(x-1)>I_&&this._append(N_||(N_=Ce(["L",",",""])),e+x*c,t+x*u),this._append(S_||(S_=Ce(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+b*s,this._y1=t+b*l)}else this._append(j_||(j_=Ce(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error("negative radius: ".concat(n));let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^a,d=a?r-i:i-r;null===this._x1?this._append(k_||(k_=Ce(["M",",",""])),l,c):(Math.abs(this._x1-l)>I_||Math.abs(this._y1-c)>I_)&&this._append(E_||(E_=Ce(["L",",",""])),l,c),n&&(d<0&&(d=d%C_+C_),d>P_?this._append(__||(__=Ce(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-o,t-s,n,n,u,this._x1=l,this._y1=c):d>I_&&this._append(O_||(O_=Ce(["A",",",",0,",",",",",",",""])),n,n,+(d>=T_),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(A_||(A_=Ce(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function R_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new M_(t)}QE(3),QE(3);function L_(e){return L_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L_(e)}var F_=["type","size","sizeType"];function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U_.apply(this,arguments)}function B_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B_(Object(n),!0).forEach(function(t){z_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=L_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=L_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var H_={symbolCircle:JE,symbolCross:ZE,symbolDiamond:n_,symbolSquare:r_,symbolStar:s_,symbolTriangle:c_,symbolWye:p_},W_=Math.PI/180,G_=function(e){var t=e.type,n=void 0===t?"circle":t,i=e.size,a=void 0===i?64:i,o=e.sizeType,s=void 0===o?"area":o,l=V_(V_({},q_(e,F_)),{},{type:n,size:a,sizeType:s}),c=l.className,u=l.cx,d=l.cy,h=Ck(l,!0);return u===+u&&d===+d&&a===+a?r.createElement("path",U_({},h,{className:PS("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(GE()(e));return H_[t]||JE}(n),t=function(e,t){let n=null,r=R_(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:m_(e||JE),t="function"===typeof t?t:m_(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:m_(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:m_(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*W_;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,s,n));return t()}()})):null};function K_(e){return K_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K_(e)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y_.apply(this,arguments)}function Q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nO(r.key),r)}}function $_(e,t,n){return t=Z_(t),function(e,t){if(t&&("object"===K_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,J_()?Reflect.construct(t,n||[],Z_(e).constructor):t.apply(e,n))}function J_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(J_=function(){return!!e})()}function Z_(e){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z_(e)}function eO(e,t){return eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eO(e,t)}function tO(e,t,n){return(t=nO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nO(e){var t=function(e,t){if("object"!=K_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=K_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==K_(t)?t:t+""}G_.registerSymbol=function(e,t){H_["symbol".concat(GE()(e))]=t};var rO=32,iO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$_(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eO(e,t)}(t,e),n=t,i=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,i=rO/6,a=rO/3,o=e.inactive?t:e.color;if("plainline"===e.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:rO,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(a,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*a,",").concat(n,"\n            H").concat(rO,"M").concat(2*a,",").concat(n,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(a,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return r.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(rO,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q_(Object(n),!0).forEach(function(t){tO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,r.cloneElement(e.legendIcon,s)}return r.createElement(G_,{fill:o,cx:n,cy:n,size:rO,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,i=t.iconSize,a=t.layout,o=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:rO,height:rO},c={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var a=t.formatter||o,d=PS(tO(tO({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=ak()(t.value)?null:t.value;rk(!ak()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?s:t.color;return r.createElement("li",Y_({className:d,style:c,key:"legend-item-".concat(n)},yk(e.props,t,n)),r.createElement(Jk,{width:i,height:i,viewBox:l,style:u},e.renderIcon(t)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},a?a(h,t,n):h))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,i=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?i:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}],i&&X_(n.prototype,i),a&&X_(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function aO(e){return aO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aO(e)}tO(iO,"displayName","Legend"),tO(iO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oO=["ref"];function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(t){pO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mO(r.key),r)}}function uO(e,t,n){return t=hO(t),function(e,t){if(t&&("object"===aO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dO()?Reflect.construct(t,n||[],hO(e).constructor):t.apply(e,n))}function dO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(dO=function(){return!!e})()}function hO(e){return hO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hO(e)}function fO(e,t){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fO(e,t)}function pO(e,t,n){return(t=mO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mO(e){var t=function(e,t){if("object"!=aO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aO(t)?t:t+""}function yO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gO(e){return e.value}var vO=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return pO(e=uO(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fO(e,t)}(t,e),n=t,a=[{key:"getWithHeight",value:function(e,t){var n=lO(lO({},this.defaultProps),e.props).layout;return"vertical"===n&&YS(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?lO({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,a=r.align,o=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===a&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===a?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),lO(lO({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,i=t.width,a=t.height,o=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=lO(lO({position:"absolute",width:i||"auto",height:a||"auto"},this.getDefaultPosition(o)),o);return r.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return r.createElement(e,t);t.ref;var n=yO(t,oO);return r.createElement(iO,n)}(n,lO(lO({},this.props),{},{payload:IE(l,s,gO)})))}}])&&cO(n.prototype,i),a&&cO(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function xO(){return xO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xO.apply(this,arguments)}pO(vO,"displayName","Legend"),pO(vO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var bO=function(e){var t=e.cx,n=e.cy,i=e.r,a=e.className,o=PS("recharts-dot",a);return t===+t&&n===+n&&i===+i?r.createElement("circle",xO({},Ck(e,!1),mk(e),{className:o,cx:t,cy:n,r:i})):null},wO=n(5173),jO=n.n(wO),NO=Object.getOwnPropertyNames,SO=Object.getOwnPropertySymbols,kO=Object.prototype.hasOwnProperty;function EO(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function _O(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,a=i.get(t),o=i.get(n);if(a&&o)return a===n&&o===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function OO(e){return NO(e).concat(SO(e))}var AO=Object.hasOwn||function(e,t){return kO.call(e,t)};function TO(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var CO=Object.getOwnPropertyDescriptor,IO=Object.keys;function PO(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function DO(e,t){return TO(e.getTime(),t.getTime())}function MO(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function RO(e,t){return e===t}function LO(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,a,o=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(a=c.next())&&!a.done;)if(o[d])d++;else{var h=i.value,f=a.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var FO=TO;function UO(e,t,n){var r=IO(e),i=r.length;if(IO(t).length!==i)return!1;for(;i-- >0;)if(!GO(e,t,n,r[i]))return!1;return!0}function BO(e,t,n){var r,i,a,o=OO(e),s=o.length;if(OO(t).length!==s)return!1;for(;s-- >0;){if(!GO(e,t,n,r=o[s]))return!1;if(i=CO(e,r),a=CO(t,r),(i||a)&&(!i||!a||i.configurable!==a.configurable||i.enumerable!==a.enumerable||i.writable!==a.writable))return!1}return!0}function VO(e,t){return TO(e.valueOf(),t.valueOf())}function zO(e,t){return e.source===t.source&&e.flags===t.flags}function qO(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,a,o=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(a=l.next())&&!a.done;){if(!o[u]&&n.equals(i.value,a.value,i.value,a.value,e,t,n)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function HO(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function WO(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function GO(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||AO(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var KO=Array.isArray,YO="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,QO=Object.assign,XO=Object.prototype.toString.call.bind(Object.prototype.toString);var $O=JO();JO({strict:!0}),JO({circular:!0}),JO({circular:!0,strict:!0}),JO({createInternalComparator:function(){return TO}}),JO({strict:!0,createInternalComparator:function(){return TO}}),JO({circular:!0,createInternalComparator:function(){return TO}}),JO({circular:!0,createInternalComparator:function(){return TO},strict:!0});function JO(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,a=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?BO:PO,areDatesEqual:DO,areErrorsEqual:MO,areFunctionsEqual:RO,areMapsEqual:r?EO(LO,BO):LO,areNumbersEqual:FO,areObjectsEqual:r?BO:UO,arePrimitiveWrappersEqual:VO,areRegExpsEqual:zO,areSetsEqual:r?EO(qO,BO):qO,areTypedArraysEqual:r?BO:HO,areUrlsEqual:WO};if(n&&(i=QO({},i,n(i))),t){var a=_O(i.areArraysEqual),o=_O(i.areMapsEqual),s=_O(i.areObjectsEqual),l=_O(i.areSetsEqual);i=QO({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?o(e,f,p):"function"===m&&i(e,f,p);var y=e.constructor;if(y!==f.constructor)return!1;if(y===Object)return s(e,f,p);if(KO(e))return t(e,f,p);if(null!=YO&&YO(e))return d(e,f,p);if(y===Date)return n(e,f,p);if(y===RegExp)return c(e,f,p);if(y===Map)return a(e,f,p);if(y===Set)return u(e,f,p);var g=XO(e);return"[object Date]"===g?n(e,f,p):"[object RegExp]"===g?c(e,f,p):"[object Map]"===g?a(e,f,p):"[object Set]"===g?u(e,f,p):"[object Object]"===g?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===g?h(e,f,p):"[object Error]"===g?r(e,f,p):"[object Arguments]"===g?s(e,f,p):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&l(e,f,p)}}(l),u=i?i(c):(t=c,function(e,n,r,i,a,o,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(e,o){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,o,{cache:c,equals:i,meta:u,strict:a})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(e,t){return n(e,t,o)}}({circular:r,comparator:c,createState:a,equals:u,strict:s})}function ZO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function eA(e){return eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eA(e)}function tA(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return nA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rA(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=tA(r),a=i[0],o=i.slice(1);return"number"===typeof a?void ZO(n.bind(null,o),a):(n(a),void ZO(n.bind(null,o)))}"object"===eA(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function iA(e){return iA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iA(e)}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(t){sA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==iA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==iA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===iA(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lA=function(e){return e},cA=function(e,t){return Object.keys(t).reduce(function(n,r){return oA(oA({},n),{},sA({},r,e(r,t[r])))},{})},uA=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function dA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||fA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hA(e){return function(e){if(Array.isArray(e))return pA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fA(e,t){if(e){if("string"===typeof e)return pA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pA(e,t):void 0}}function pA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mA=1e-4,yA=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},gA=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},vA=function(e,t){return function(n){var r=yA(e,t);return gA(r,n)}},xA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,a=1,o=1;break;case"ease":r=.25,i=.1,a=.25,o=1;break;case"ease-in":r=.42,i=0,a=1,o=1;break;case"ease-out":r=.42,i=0,a=.58,o=1;break;case"ease-in-out":r=0,i=0,a=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),c=dA(l,4);r=c[0],i=c[1],a=c[2],o=c[3]}}[r,a,i,o].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var u,d,h=vA(r,a),f=vA(i,o),p=(u=r,d=a,function(e){var t=yA(u,d),n=[].concat(hA(t.map(function(e,t){return e*t}).slice(1)),[0]);return gA(n,e)}),m=function(e){return e>1?1:e<0?0:e},y=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=h(n)-t,a=p(n);if(Math.abs(i-t)<mA||a<mA)return f(n);n=m(n-i/a)}return f(n)};return y.isStepper=!1,y},bA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xA(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,a=e.dt,o=void 0===a?17:a,s=function(e,t,r){var a=r+(-(e-t)*n-r*i)*o/1e3,s=r*o/1e3+e;return Math.abs(s-t)<mA&&Math.abs(a)<mA?[t,0]:[s,a]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===r.split("(")[0])return xA(r)}return"function"===typeof r?r:null};function wA(e){return wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wA(e)}function jA(e){return function(e){if(Array.isArray(e))return OA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function SA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NA(Object(n),!0).forEach(function(t){kA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==wA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wA(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||_A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _A(e,t){if(e){if("string"===typeof e)return OA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OA(e,t):void 0}}function OA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var AA=function(e,t,n){return e+(t-e)*n},TA=function(e){return e.from!==e.to},CA=function e(t,n,r){var i=cA(function(e,n){if(TA(n)){var r=EA(t(n.from,n.to,n.velocity),2),i=r[0],a=r[1];return SA(SA({},n),{},{from:i,velocity:a})}return n},n);return r<1?cA(function(e,t){return TA(t)?SA(SA({},t),{},{velocity:AA(t.velocity,i[e].velocity,r),from:AA(t.from,i[e].from,r)}):t},n):e(t,i,r-1)};const IA=function(e,t,n,r,i){var a,o,s,l,c=(a=e,o=t,[Object.keys(a),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return SA(SA({},n),{},kA({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return SA(SA({},n),{},kA({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var a=(r-s)/n.dt;d=CA(n,d,a),i(SA(SA(SA({},e),t),cA(function(e,t){return t.from},d))),s=r,Object.values(d).filter(TA).length&&(h=requestAnimationFrame(f))}:function(a){l||(l=a);var o=(a-l)/r,s=cA(function(e,t){return AA.apply(void 0,jA(t).concat([n(o)]))},u);if(i(SA(SA(SA({},e),t),s)),o<1)h=requestAnimationFrame(f);else{var c=cA(function(e,t){return AA.apply(void 0,jA(t).concat([n(1)]))},u);i(SA(SA(SA({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function PA(e){return PA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PA(e)}var DA=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function MA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RA(e){return function(e){if(Array.isArray(e))return LA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return LA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(t){BA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BA(e,t,n){return(t=zA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zA(r.key),r)}}function zA(e){var t=function(e,t){if("object"!==PA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==PA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===PA(t)?t:String(t)}function qA(e,t){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qA(e,t)}function HA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Le){return!1}}();return function(){var n,r=KA(e);if(t){var i=KA(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return WA(this,n)}}function WA(e,t){if(t&&("object"===PA(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return GA(e)}function GA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KA(e){return KA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},KA(e)}var YA=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qA(e,t)}(o,e);var t,n,i,a=HA(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=(n=a.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(GA(n)),n.changeStyle=n.changeStyle.bind(GA(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),WA(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},WA(n);n.state={style:s?BA({},s,l):l}}else n.state={style:{}};return n}return t=o,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,a=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!($O(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||a?s:e.to;if(this.state&&l){var d={style:i?BA({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(UA(UA({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?BA({},i,o):o};this.state&&l&&(i&&l[i]!==o||!i&&l!==o)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,a=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=IA(n,r,bA(a),i,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,a=n[0],o=a.style,s=a.duration,l=void 0===s?0:s;return this.manager.start([i].concat(RA(n.reduce(function(e,r,i){if(0===i)return e;var a=r.duration,o=r.easing,s=void 0===o?"ease":o,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(RA(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:a,easing:s}),a]);var f=uA(h,a,s),p=UA(UA(UA({},d.style),l),{},{transition:f});return[].concat(RA(e),[p,a,u]).filter(lA)},[o,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=rA());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,a=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof c&&"spring"!==a)if(l.length>1)this.runStepAnimation(e);else{var d=r?BA({},r,i):i,h=uA(Object.keys(d),n,a);u.start([o,t,UA(UA({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),i=(e.attributeName,e.easing,e.isActive),a=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,MA(e,DA)),o=r.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!i||0===o||n<=0)return t;var l=function(e){var t=e.props,n=t.style,i=void 0===n?{}:n,o=t.className;return(0,r.cloneElement)(e,UA(UA({},a),{},{style:UA(UA({},i),s),className:o}))};return 1===o?l(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,function(e){return l(e)}))}}],n&&VA(t.prototype,n),i&&VA(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.PureComponent);YA.displayName="Animate",YA.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},YA.propTypes={from:jO().oneOfType([jO().object,jO().string]),to:jO().oneOfType([jO().object,jO().string]),attributeName:jO().string,duration:jO().number,begin:jO().number,easing:jO().oneOfType([jO().string,jO().func]),steps:jO().arrayOf(jO().shape({duration:jO().number.isRequired,style:jO().object.isRequired,easing:jO().oneOfType([jO().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jO().func]),properties:jO().arrayOf("string"),onAnimationEnd:jO().func})),children:jO().oneOfType([jO().node,jO().func]),isActive:jO().bool,canBegin:jO().bool,onAnimationEnd:jO().func,shouldReAnimate:jO().bool,onAnimationStart:jO().func,onAnimationReStart:jO().func};const QA=YA;function XA(e){return XA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XA(e)}function $A(){return $A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$A.apply(this,arguments)}function JA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ZA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(t){nT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nT(e,t,n){return t=function(e){var t=function(e,t){if("object"!=XA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XA(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rT=function(e,t,n,r,i){var a,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>o?o:i[d];a="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),a+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var h=Math.min(o,i);a="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},iT=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,a=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(i,i+o),c=Math.max(i,i+o),u=Math.min(a,a+s),d=Math.max(a,a+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},aT={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oT=function(e){var t=tT(tT({},aT),e),n=(0,r.useRef)(),i=JA((0,r.useState)(-1),2),a=i[0],o=i[1];(0,r.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var s=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,y=t.isAnimationActive,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=PS("recharts-rectangle",h);return g?r.createElement(QA,{canBegin:a>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:f,isActive:g},function(e){var i=e.width,o=e.height,s=e.x,l=e.y;return r.createElement(QA,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:y,easing:f},r.createElement("path",$A({},Ck(t,!0),{className:v,d:rT(s,l,i,o,d),ref:n})))}):r.createElement("path",$A({},Ck(t,!0),{className:v,d:rT(s,l,c,u,d)}))};function sT(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function lT(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class cT extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fT;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(uT(this,e))}has(e){return super.has(uT(this,e))}set(e,t){return super.set(dT(this,e),t)}delete(e){return super.delete(hT(this,e))}}Set;function uT(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function dT(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function hT(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function fT(e){return null!==e&&"object"===typeof e?e.valueOf():e}const pT=Symbol("implicit");function mT(){var e=new cT,t=[],n=[],r=pT;function i(i){let a=e.get(i);if(void 0===a){if(r!==pT)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new cT;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return mT(t,n).unknown(r)},sT.apply(i,arguments),i}function yT(){var e,t,n=mT().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<a,h=d?o:a,f=d?a:o;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return yT(r(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},sT.apply(d(),arguments)}function gT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gT(t())},e}function vT(){return gT(yT.apply(null,arguments).paddingInner(1))}function xT(e){return xT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xT(e)}function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(t){jT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jT(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xT(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var NT={widthCache:{},cacheCount:0},ST={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kT="recharts_measurement_span";var ET=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||AE.isSsr)return{width:0,height:0};var n=function(e){var t=wT({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(NT.widthCache[r])return NT.widthCache[r];try{var i=document.getElementById(kT);i||((i=document.createElement("span")).setAttribute("id",kT),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var a=wT(wT({},ST),n);Object.assign(i.style,a),i.textContent="".concat(e);var o=i.getBoundingClientRect(),s={width:o.width,height:o.height};return NT.widthCache[r]=s,++NT.cacheCount>2e3&&(NT.cacheCount=0,NT.widthCache={}),s}catch(Le){return{width:0,height:0}}};function _T(e){return _T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_T(e)}function OT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return AT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CT(r.key),r)}}function CT(e){var t=function(e,t){if("object"!=_T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_T(t)?t:t+""}var IT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DT=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,MT=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},LT=Object.keys(RT),FT="NaN";var UT=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||DT.test(n)||(this.num=NaN,this.unit=""),LT.includes(n)&&(this.num=function(e,t){return e*RT[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=OT(null!==(n=MT.exec(t))&&void 0!==n?n:[],3),i=r[1],a=r[2];return new e(parseFloat(i),null!==a&&void 0!==a?a:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&TT(t.prototype,n),r&&TT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function BT(e){if(e.includes(FT))return FT;for(var t=e;t.includes("*")||t.includes("/");){var n,r=OT(null!==(n=IT.exec(t))&&void 0!==n?n:[],4),i=r[1],a=r[2],o=r[3],s=UT.parse(null!==i&&void 0!==i?i:""),l=UT.parse(null!==o&&void 0!==o?o:""),c="*"===a?s.multiply(l):s.divide(l);if(c.isNaN())return FT;t=t.replace(IT,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=OT(null!==(u=PT.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=UT.parse(null!==h&&void 0!==h?h:""),y=UT.parse(null!==p&&void 0!==p?p:""),g="+"===f?m.add(y):m.subtract(y);if(g.isNaN())return FT;t=t.replace(PT,g.toString())}return t}var VT=/\(([^()]*)\)/;function zT(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=OT(VT.exec(t),2)[1];t=t.replace(VT,BT(n))}return t}(t),t=BT(t)}function qT(e){var t=function(e){try{return zT(e)}catch(Le){return FT}}(e.slice(5,-1));return t===FT?"":t}var HT=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WT=["dx","dy","angle","className","breakAll"];function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GT.apply(this,arguments)}function KT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return QT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var XT=/[ \f\n\r\t\v\u2028\u2029]+/,$T=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return WS()(t)||(i=n?t.toString().split(""):t.toString().split(XT)),{wordsWithComputedWidth:i.map(function(e){return{word:e,width:ET(e,r).width}}),spaceWidth:n?0:ET("\xa0",r).width}}catch(Le){return null}},JT=function(e){return[{words:WS()(e)?[]:e.toString().split(XT)}]},ZT=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,a=e.breakAll,o=e.maxLines;if((t||n)&&!AE.isSsr){var s=$T({breakAll:a,children:r,style:i});return s?function(e,t,n,r,i){var a=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=YS(a),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var a=t.word,o=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+o+n<Number(r)))s.words.push(a),s.width+=o+n;else{var l={words:[a],width:o};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=$T({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),o=i.length>a||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(i).width>Number(r);return[o,i]},m=0,y=u.length-1,g=0;m<=y&&g<=u.length-1;){var v=Math.floor((m+y)/2),x=YT(p(v-1),2),b=x[0],w=x[1],j=YT(p(v),1)[0];if(b||j||(m=v+1),b&&j&&(y=v-1),!b&&j){f=w;break}g++}return f||h}({breakAll:a,children:r,maxLines:o,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):JT(r)}return JT(r)},eC="#808080",tC=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,a=void 0===i?0:i,o=e.lineHeight,s=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,y=e.fill,g=void 0===y?eC:y,v=KT(e,HT),x=(0,r.useMemo)(function(){return ZT({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),b=v.dx,w=v.dy,j=v.angle,N=v.className,S=v.breakAll,k=KT(v,WT);if(!QS(n)||!QS(a))return null;var E,_=n+(YS(b)?b:0),O=a+(YS(w)?w:0);switch(m){case"start":E=qT("calc(".concat(c,")"));break;case"middle":E=qT("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:E=qT("calc(".concat(x.length-1," * -").concat(s,")"))}var A=[];if(d){var T=x[0].width,C=v.width;A.push("scale(".concat((YS(C)?C/T:1)/T,")"))}return j&&A.push("rotate(".concat(j,", ").concat(_,", ").concat(O,")")),A.length&&(k.transform=A.join(" ")),r.createElement("text",GT({},Ck(k,!0),{x:_,y:O,className:PS("recharts-text",N),textAnchor:f,fill:g.includes("url")?eC:g}),x.map(function(e,t){var n=e.words.join(S?"":" ");return r.createElement("tspan",{x:_,dy:0===t?E:s,key:"".concat(n,"-").concat(t)},n)}))};const nC=Math.sqrt(50),rC=Math.sqrt(10),iC=Math.sqrt(2);function aC(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=nC?10:a>=rC?5:a>=iC?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?aC(e,t,2*n):[s,l,c]}function oC(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,o]=r?aC(t,e,n):aC(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function sC(e,t,n){return aC(e=+e,t=+t,n=+n)[2]}function lC(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?sC(t,e,n):sC(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function cC(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uC(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dC(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=cC,n=(t,n)=>cC(e(t),n),r=(t,n)=>e(t)-n):(t=e===cC||e===uC?e:hC,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function hC(){return 0}function fC(e){return null===e?NaN:+e}const pC=dC(cC),mC=pC.right,yC=(pC.left,dC(fC).center,mC);function gC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function vC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function xC(){}var bC=.7,wC=1/bC,jC="\\s*([+-]?\\d+)\\s*",NC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",SC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kC=/^#([0-9a-f]{3,8})$/,EC=new RegExp("^rgb\\(".concat(jC,",").concat(jC,",").concat(jC,"\\)$")),_C=new RegExp("^rgb\\(".concat(SC,",").concat(SC,",").concat(SC,"\\)$")),OC=new RegExp("^rgba\\(".concat(jC,",").concat(jC,",").concat(jC,",").concat(NC,"\\)$")),AC=new RegExp("^rgba\\(".concat(SC,",").concat(SC,",").concat(SC,",").concat(NC,"\\)$")),TC=new RegExp("^hsl\\(".concat(NC,",").concat(SC,",").concat(SC,"\\)$")),CC=new RegExp("^hsla\\(".concat(NC,",").concat(SC,",").concat(SC,",").concat(NC,"\\)$")),IC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function PC(){return this.rgb().formatHex()}function DC(){return this.rgb().formatRgb()}function MC(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=kC.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?RC(t):3===n?new UC(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?LC(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?LC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=EC.exec(e))?new UC(t[1],t[2],t[3],1):(t=_C.exec(e))?new UC(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=OC.exec(e))?LC(t[1],t[2],t[3],t[4]):(t=AC.exec(e))?LC(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=TC.exec(e))?WC(t[1],t[2]/100,t[3]/100,1):(t=CC.exec(e))?WC(t[1],t[2]/100,t[3]/100,t[4]):IC.hasOwnProperty(e)?RC(IC[e]):"transparent"===e?new UC(NaN,NaN,NaN,0):null}function RC(e){return new UC(e>>16&255,e>>8&255,255&e,1)}function LC(e,t,n,r){return r<=0&&(e=t=n=NaN),new UC(e,t,n,r)}function FC(e,t,n,r){return 1===arguments.length?function(e){return e instanceof xC||(e=MC(e)),e?new UC((e=e.rgb()).r,e.g,e.b,e.opacity):new UC}(e):new UC(e,t,n,null==r?1:r)}function UC(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function BC(){return"#".concat(HC(this.r)).concat(HC(this.g)).concat(HC(this.b))}function VC(){const e=zC(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(qC(this.r),", ").concat(qC(this.g),", ").concat(qC(this.b)).concat(1===e?")":", ".concat(e,")"))}function zC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qC(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function HC(e){return((e=qC(e))<16?"0":"")+e.toString(16)}function WC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new KC(e,t,n,r)}function GC(e){if(e instanceof KC)return new KC(e.h,e.s,e.l,e.opacity);if(e instanceof xC||(e=MC(e)),!e)return new KC;if(e instanceof KC)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new KC(o,s,l,e.opacity)}function KC(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function YC(e){return(e=(e||0)%360)<0?e+360:e}function QC(e){return Math.max(0,Math.min(1,e||0))}function XC(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function $C(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}gC(xC,MC,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PC,formatHex:PC,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return GC(this).formatHsl()},formatRgb:DC,toString:DC}),gC(UC,FC,vC(xC,{brighter(e){return e=null==e?wC:Math.pow(wC,e),new UC(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?bC:Math.pow(bC,e),new UC(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new UC(qC(this.r),qC(this.g),qC(this.b),zC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BC,formatHex:BC,formatHex8:function(){return"#".concat(HC(this.r)).concat(HC(this.g)).concat(HC(this.b)).concat(HC(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:VC,toString:VC})),gC(KC,function(e,t,n,r){return 1===arguments.length?GC(e):new KC(e,t,n,null==r?1:r)},vC(xC,{brighter(e){return e=null==e?wC:Math.pow(wC,e),new KC(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?bC:Math.pow(bC,e),new KC(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new UC(XC(e>=240?e-240:e+120,i,r),XC(e,i,r),XC(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new KC(YC(this.h),QC(this.s),QC(this.l),zC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zC(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(YC(this.h),", ").concat(100*QC(this.s),"%, ").concat(100*QC(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const JC=e=>()=>e;function ZC(e,t){return function(n){return e+n*t}}function eI(e){return 1===(e=+e)?tI:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):JC(isNaN(t)?n:t)}}function tI(e,t){var n=t-e;return n?ZC(e,n):JC(isNaN(e)?t:e)}const nI=function e(t){var n=eI(t);function r(e,t){var r=n((e=FC(e)).r,(t=FC(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=tI(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function rI(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=FC(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}rI(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return $C((n-r/t)*t,o,i,a,s)}}),rI(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return $C((n-r/t)*t,i,a,o,s)}});function iI(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=hI(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function aI(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function oI(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sI(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=hI(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var lI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cI=new RegExp(lI.source,"g");function uI(e,t){var n,r,i,a=lI.lastIndex=cI.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=lI.exec(e))&&(r=cI.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:oI(n,r)})),a=cI.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function dI(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function hI(e,t){var n,r=typeof t;return null==t||"boolean"===r?JC(t):("number"===r?oI:"string"===r?(n=MC(t))?(t=n,nI):uI:t instanceof MC?nI:t instanceof Date?aI:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?dI:Array.isArray(t)?iI:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?sI:oI)(e,t)}function fI(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function pI(e){return+e}var mI=[0,1];function yI(e){return e}function gI(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function vI(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=gI(i,r),a=n(o,a)):(r=gI(r,i),a=n(a,o)),function(e){return a(r(e))}}function xI(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=gI(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=yC(e,t,1,r)-1;return a[n](i[n](t))}}function bI(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wI(){var e,t,n,r,i,a,o=mI,s=mI,l=hI,c=yI;function u(){var e=Math.min(o.length,s.length);return c!==yI&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?xI:vI,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(s,o.map(e),oI)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,pI),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=fI,u()},d.clamp=function(e){return arguments.length?(c=!!e||yI,u()):c!==yI},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function jI(){return wI()(yI,yI)}var NI,SI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kI(e){if(!(t=SI.exec(e)))throw new Error("invalid format: "+e);var t;return new EI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function EI(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function _I(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function OI(e){return(e=_I(Math.abs(e)))?e[1]:NaN}function AI(e,t){var n=_I(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}kI.prototype=EI.prototype,EI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const TI={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>AI(100*e,t),r:AI,s:function(e,t){var n=_I(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(NI=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+_I(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function CI(e){return e}var II,PI,DI,MI=Array.prototype.map,RI=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function LI(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?CI:(t=MI.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?CI:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(MI.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=kI(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,y=e.precision,g=e.trim,v=e.type;"n"===v?(m=!0,v="g"):TI[v]||(void 0===y&&(y=12),g=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var x="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===h?a:/[%p]/.test(v)?l:"",w=TI[v],j=/[defgprs%]/.test(v);function N(e){var i,a,l,h=x,N=b;if("c"===v)N=w(e)+N,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),y),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),h=(S?"("===d?d:c:"-"===d||"("===d?"":d)+h,N=("s"===v?RI[8+NI/3]:"")+N+(S&&"("===d?")":""),j)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){N=(46===l?o+e.slice(i+1):e.slice(i))+N,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var k=h.length+e.length+N.length,E=k<p?new Array(p-k+1).join(t):"";switch(m&&f&&(e=r(E+e,E.length?p-N.length:1/0),E=""),n){case"<":e=h+e+N+E;break;case"=":e=h+E+e+N;break;case"^":e=E.slice(0,k=E.length>>1)+h+e+N+E.slice(k);break;default:e=E+h+e+N}return s(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var n=d(((e=kI(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(OI(t)/3))),i=Math.pow(10,-r),a=RI[8+r/3];return function(e){return n(i*e)+a}}}}function FI(e,t,n,r){var i,a=lC(e,t,n);switch((r=kI(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(OI(t)/3)))-OI(Math.abs(e)))}(a,o))||(r.precision=i),DI(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,OI(t)-OI(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-OI(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return PI(r)}function UI(e){var t=e.domain;return e.ticks=function(e){var n=t();return oC(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return FI(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=sC(l,c,n))===r)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function BI(){var e=jI();return e.copy=function(){return bI(e,BI())},sT.apply(e,arguments),UI(e)}function VI(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,pI),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return VI(e).unknown(t)},e=arguments.length?Array.from(e,pI):[0,1],UI(n)}function zI(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function qI(e){return Math.log(e)}function HI(e){return Math.exp(e)}function WI(e){return-Math.log(-e)}function GI(e){return-Math.exp(-e)}function KI(e){return isFinite(e)?+("1e"+e):e<0?0:e}function YI(e){return(t,n)=>-e(-t,n)}function QI(e){const t=e(qI,HI),n=t.domain;let r,i,a=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?KI:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=YI(r),i=YI(i),e(WI,GI)):e(qI,HI),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=oC(o,s,f))}else p=oC(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=kI(n)).precision||(n.trim=!0),n=PI(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(zI(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function XI(){const e=QI(wI()).domain([1,10]);return e.copy=()=>bI(e,XI()).base(e.base()),sT.apply(e,arguments),e}function $I(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ZI(e){var t=1,n=e($I(t),JI(t));return n.constant=function(n){return arguments.length?e($I(t=+n),JI(t)):t},UI(n)}function eP(){var e=ZI(wI());return e.copy=function(){return bI(e,eP()).constant(e.constant())},sT.apply(e,arguments)}function tP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nP(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rP(e){return e<0?-e*e:e*e}function iP(e){var t=e(yI,yI),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(yI,yI):.5===n?e(nP,rP):e(tP(n),tP(1/n)):n},UI(t)}function aP(){var e=iP(wI());return e.copy=function(){return bI(e,aP()).exponent(e.exponent())},sT.apply(e,arguments),e}function oP(){return aP.apply(null,arguments).exponent(.5)}function sP(e){return Math.sign(e)*e*e}function lP(){var e,t=jI(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(sP(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,pI)).map(sP)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return lP(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},sT.apply(i,arguments),UI(i)}function cP(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function uP(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function dP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cC;if(e===cC)return hP;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function hP(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function fP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?hP:dP(i);r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);fP(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(r,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=n,s=r;for(pP(e,n,t),i(e[r],a)>0&&pP(e,n,r);o<s;){for(pP(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[n],a)?pP(e,n,s):(++s,pP(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function pP(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function mP(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return uP(e);if(t>=1)return cP(e);var r,i=(r-1)*t,a=Math.floor(i),o=cP(fP(e,a).subarray(0,a+1));return o+(uP(e.subarray(a+1))-o)*(i-a)}}function yP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fC;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function gP(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=yP(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[yC(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(cC),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return gP().domain(t).range(n).unknown(e)},sT.apply(a,arguments)}function vP(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[yC(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return vP().domain([t,n]).range(a).unknown(e)},sT.apply(UI(o),arguments)}function xP(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[yC(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return xP().domain(t).range(n).unknown(e)},sT.apply(i,arguments)}II=LI({thousands:",",grouping:[3],currency:["$",""]}),PI=II.format,DI=II.formatPrefix;const bP=1e3,wP=6e4,jP=36e5,NP=864e5,SP=6048e5,kP=2592e6,EP=31536e6,_P=new Date,OP=new Date;function AP(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;let s;do{o.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<r);return o},i.filter=n=>AP(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(_P.setTime(+t),OP.setTime(+r),e(_P),e(OP),Math.floor(n(_P,OP))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const TP=AP(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);TP.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?AP(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):TP:null);TP.range;const CP=AP(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bP)},(e,t)=>(t-e)/bP,e=>e.getUTCSeconds()),IP=(CP.range,AP(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bP)},(e,t)=>{e.setTime(+e+t*wP)},(e,t)=>(t-e)/wP,e=>e.getMinutes())),PP=(IP.range,AP(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*wP)},(e,t)=>(t-e)/wP,e=>e.getUTCMinutes())),DP=(PP.range,AP(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bP-e.getMinutes()*wP)},(e,t)=>{e.setTime(+e+t*jP)},(e,t)=>(t-e)/jP,e=>e.getHours())),MP=(DP.range,AP(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jP)},(e,t)=>(t-e)/jP,e=>e.getUTCHours())),RP=(MP.range,AP(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wP)/NP,e=>e.getDate()-1)),LP=(RP.range,AP(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/NP,e=>e.getUTCDate()-1)),FP=(LP.range,AP(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/NP,e=>Math.floor(e/NP)));FP.range;function UP(e){return AP(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wP)/SP)}const BP=UP(0),VP=UP(1),zP=UP(2),qP=UP(3),HP=UP(4),WP=UP(5),GP=UP(6);BP.range,VP.range,zP.range,qP.range,HP.range,WP.range,GP.range;function KP(e){return AP(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/SP)}const YP=KP(0),QP=KP(1),XP=KP(2),$P=KP(3),JP=KP(4),ZP=KP(5),eD=KP(6),tD=(YP.range,QP.range,XP.range,$P.range,JP.range,ZP.range,eD.range,AP(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),nD=(tD.range,AP(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),rD=(nD.range,AP(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));rD.every=e=>isFinite(e=Math.floor(e))&&e>0?AP(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;rD.range;const iD=AP(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());iD.every=e=>isFinite(e=Math.floor(e))&&e>0?AP(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;iD.range;function aD(e,t,n,r,i,a){const o=[[CP,1,bP],[CP,5,5e3],[CP,15,15e3],[CP,30,3e4],[a,1,wP],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,jP],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,NP],[r,2,1728e5],[n,1,SP],[t,1,kP],[t,3,7776e6],[e,1,EP]];function s(t,n,r){const i=Math.abs(n-t)/r,a=dC(e=>{let[,,t]=e;return t}).right(o,i);if(a===o.length)return e.every(lC(t/EP,n/EP,r));if(0===a)return TP.every(Math.max(lC(t,n,r),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},s]}const[oD,sD]=aD(iD,nD,YP,FP,MP,PP),[lD,cD]=aD(rD,tD,BP,RP,DP,IP);function uD(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dD(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hD(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var fD,pD,mD,yD={"-":"",_:" ",0:"0"},gD=/^\s*\d+/,vD=/^%/,xD=/[\\^$*+?|[\]().{}]/g;function bD(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function wD(e){return e.replace(xD,"\\$&")}function jD(e){return new RegExp("^(?:"+e.map(wD).join("|")+")","i")}function ND(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function SD(e,t,n){var r=gD.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function kD(e,t,n){var r=gD.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ED(e,t,n){var r=gD.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _D(e,t,n){var r=gD.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function OD(e,t,n){var r=gD.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function AD(e,t,n){var r=gD.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function TD(e,t,n){var r=gD.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function CD(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ID(e,t,n){var r=gD.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function PD(e,t,n){var r=gD.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function DD(e,t,n){var r=gD.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function MD(e,t,n){var r=gD.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function RD(e,t,n){var r=gD.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function LD(e,t,n){var r=gD.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function FD(e,t,n){var r=gD.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function UD(e,t,n){var r=gD.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function BD(e,t,n){var r=gD.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function VD(e,t,n){var r=vD.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function zD(e,t,n){var r=gD.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function qD(e,t,n){var r=gD.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function HD(e,t){return bD(e.getDate(),t,2)}function WD(e,t){return bD(e.getHours(),t,2)}function GD(e,t){return bD(e.getHours()%12||12,t,2)}function KD(e,t){return bD(1+RP.count(rD(e),e),t,3)}function YD(e,t){return bD(e.getMilliseconds(),t,3)}function QD(e,t){return YD(e,t)+"000"}function XD(e,t){return bD(e.getMonth()+1,t,2)}function $D(e,t){return bD(e.getMinutes(),t,2)}function JD(e,t){return bD(e.getSeconds(),t,2)}function ZD(e){var t=e.getDay();return 0===t?7:t}function eM(e,t){return bD(BP.count(rD(e)-1,e),t,2)}function tM(e){var t=e.getDay();return t>=4||0===t?HP(e):HP.ceil(e)}function nM(e,t){return e=tM(e),bD(HP.count(rD(e),e)+(4===rD(e).getDay()),t,2)}function rM(e){return e.getDay()}function iM(e,t){return bD(VP.count(rD(e)-1,e),t,2)}function aM(e,t){return bD(e.getFullYear()%100,t,2)}function oM(e,t){return bD((e=tM(e)).getFullYear()%100,t,2)}function sM(e,t){return bD(e.getFullYear()%1e4,t,4)}function lM(e,t){var n=e.getDay();return bD((e=n>=4||0===n?HP(e):HP.ceil(e)).getFullYear()%1e4,t,4)}function cM(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bD(t/60|0,"0",2)+bD(t%60,"0",2)}function uM(e,t){return bD(e.getUTCDate(),t,2)}function dM(e,t){return bD(e.getUTCHours(),t,2)}function hM(e,t){return bD(e.getUTCHours()%12||12,t,2)}function fM(e,t){return bD(1+LP.count(iD(e),e),t,3)}function pM(e,t){return bD(e.getUTCMilliseconds(),t,3)}function mM(e,t){return pM(e,t)+"000"}function yM(e,t){return bD(e.getUTCMonth()+1,t,2)}function gM(e,t){return bD(e.getUTCMinutes(),t,2)}function vM(e,t){return bD(e.getUTCSeconds(),t,2)}function xM(e){var t=e.getUTCDay();return 0===t?7:t}function bM(e,t){return bD(YP.count(iD(e)-1,e),t,2)}function wM(e){var t=e.getUTCDay();return t>=4||0===t?JP(e):JP.ceil(e)}function jM(e,t){return e=wM(e),bD(JP.count(iD(e),e)+(4===iD(e).getUTCDay()),t,2)}function NM(e){return e.getUTCDay()}function SM(e,t){return bD(QP.count(iD(e)-1,e),t,2)}function kM(e,t){return bD(e.getUTCFullYear()%100,t,2)}function EM(e,t){return bD((e=wM(e)).getUTCFullYear()%100,t,2)}function _M(e,t){return bD(e.getUTCFullYear()%1e4,t,4)}function OM(e,t){var n=e.getUTCDay();return bD((e=n>=4||0===n?JP(e):JP.ceil(e)).getUTCFullYear()%1e4,t,4)}function AM(){return"+0000"}function TM(){return"%"}function CM(e){return+e}function IM(e){return Math.floor(+e/1e3)}function PM(e){return new Date(e)}function DM(e){return e instanceof Date?+e:+new Date(+e)}function MM(e,t,n,r,i,a,o,s,l,c){var u=jI(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),v=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:a(e)<e?y:r(e)<e?i(e)<e?g:v:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,DM)):h().map(PM)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(zI(n,e)):u},u.copy=function(){return bI(u,MM(e,t,n,r,i,a,o,s,l,c))},u}function RM(){return sT.apply(MM(lD,cD,rD,tD,BP,RP,DP,IP,CP,pD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LM(){return sT.apply(MM(oD,sD,iD,nD,YP,LP,MP,PP,CP,mD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function FM(){var e,t,n,r,i,a=0,o=1,s=yI,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(hI),c.rangeRound=u(fI),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function UM(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BM(){var e=UI(FM()(yI));return e.copy=function(){return UM(e,BM())},lT.apply(e,arguments)}function VM(){var e=QI(FM()).domain([1,10]);return e.copy=function(){return UM(e,VM()).base(e.base())},lT.apply(e,arguments)}function zM(){var e=ZI(FM());return e.copy=function(){return UM(e,zM()).constant(e.constant())},lT.apply(e,arguments)}function qM(){var e=iP(FM());return e.copy=function(){return UM(e,qM()).exponent(e.exponent())},lT.apply(e,arguments)}function HM(){return qM.apply(null,arguments).exponent(.5)}function WM(){var e=[],t=yI;function n(n){if(null!=n&&!isNaN(n=+n))return t((yC(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(cC),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>mP(e,r/t))},n.copy=function(){return WM(t).domain(e)},lT.apply(n,arguments)}function GM(){var e,t,n,r,i,a,o,s=0,l=.5,c=1,u=1,d=yI,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=hI);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(hI),f.rangeRound=p(fI),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return a=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function KM(){var e=UI(GM()(yI));return e.copy=function(){return UM(e,KM())},lT.apply(e,arguments)}function YM(){var e=QI(GM()).domain([.1,1,10]);return e.copy=function(){return UM(e,YM()).base(e.base())},lT.apply(e,arguments)}function QM(){var e=ZI(GM());return e.copy=function(){return UM(e,QM()).constant(e.constant())},lT.apply(e,arguments)}function XM(){var e=iP(GM());return e.copy=function(){return UM(e,XM()).exponent(e.exponent())},lT.apply(e,arguments)}function $M(){return XM.apply(null,arguments).exponent(.5)}function JM(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){fD=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=jD(i),u=ND(i),d=jD(a),h=ND(a),f=jD(o),p=ND(o),m=jD(s),y=ND(s),g=jD(l),v=ND(l),x={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:HD,e:HD,f:QD,g:oM,G:lM,H:WD,I:GD,j:KD,L:YD,m:XD,M:$D,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:CM,s:IM,S:JD,u:ZD,U:eM,V:nM,w:rM,W:iM,x:null,X:null,y:aM,Y:sM,Z:cM,"%":TM},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:uM,e:uM,f:mM,g:EM,G:OM,H:dM,I:hM,j:fM,L:pM,m:yM,M:gM,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:CM,s:IM,S:vM,u:xM,U:bM,V:jM,w:NM,W:SM,x:null,X:null,y:kM,Y:_M,Z:AM,"%":TM},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:DD,e:DD,f:BD,g:TD,G:AD,H:RD,I:RD,j:MD,L:UD,m:PD,M:LD,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:ID,Q:zD,s:qD,S:FD,u:kD,U:ED,V:_D,w:SD,W:OD,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:TD,Y:AD,Z:CD,"%":VD};function j(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=yD[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function N(e,t){return function(n){var r,i,a=hD(1900,void 0,1);if(S(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=dD(hD(a.y,0,1))).getUTCDay(),r=i>4||0===i?QP.ceil(r):QP(r),r=LP.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=uD(hD(a.y,0,1))).getDay(),r=i>4||0===i?VP.ceil(r):VP(r),r=RP.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?dD(hD(a.y,0,1)).getUTCDay():uD(hD(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,dD(a)):uD(a)}}function S(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in yD?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=j(n,x),x.X=j(r,x),x.c=j(t,x),b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),{format:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),pD=fD.format,fD.parse,mD=fD.utcFormat,fD.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function ZM(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function eR(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function tR(e,t){return e[t]}function nR(e){const t=[];return t.key=e,t}var rR=n(539),iR=n.n(rR),aR=n(6745),oR=n.n(aR),sR=n(3538),lR=n.n(sR),cR=n(9853),uR=n.n(cR),dR=n(8210),hR=n.n(dR);function fR(e){return function(e){if(Array.isArray(e))return pR(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return pR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mR=function(e){return e},yR={"@@functional/placeholder":!0},gR=function(e){return e===yR},vR=function(e){return function t(){return 0===arguments.length||1===arguments.length&&gR(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},xR=function e(t,n){return 1===t?n:vR(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(e){return e!==yR}).length;return o>=t?n.apply(void 0,i):e(t-o,vR(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=i.map(function(e){return gR(e)?t.shift():e});return n.apply(void 0,fR(a).concat(t))}))})},bR=function(e){return xR(e.length,e)},wR=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},jR=bR(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),NR=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return mR;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce(function(e,t){return t(e)},i.apply(void 0,arguments))}},SR=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},kR=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every(function(e,n){return e===t[n]})?n:(t=i,n=e.apply(void 0,i))}};var ER=bR(function(e,t,n){var r=+e;return r+n*(+t-r)}),_R=bR(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),OR=bR(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const AR={rangeStep:function(e,t,n){for(var r=new(hR())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a},getDigitCount:function(e){return 0===e?1:Math.floor(new(hR())(e).abs().log(10).toNumber())+1},interpolateNumber:ER,uninterpolateNumber:_R,uninterpolateTruncation:OR};function TR(e){return function(e){if(Array.isArray(e))return PR(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||IR(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||IR(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IR(e,t){if(e){if("string"===typeof e)return PR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PR(e,t):void 0}}function PR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DR(e){var t=CR(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function MR(e,t,n){if(e.lte(0))return new(hR())(0);var r=AR.getDigitCount(e.toNumber()),i=new(hR())(10).pow(r),a=e.div(i),o=1!==r?.05:.1,s=new(hR())(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(i);return t?s:new(hR())(Math.ceil(s))}function RR(e,t,n){var r=1,i=new(hR())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(hR())(10).pow(AR.getDigitCount(e)-1),i=new(hR())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(hR())(Math.floor(e)))}else 0===e?i=new(hR())(Math.floor((t-1)/2)):n||(i=new(hR())(Math.floor(e)));var o=Math.floor((t-1)/2),s=NR(jR(function(e){return i.add(new(hR())(e-o).mul(r)).toNumber()}),wR);return s(0,t)}function LR(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(hR())(0),tickMin:new(hR())(0),tickMax:new(hR())(0)};var a,o=MR(new(hR())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(hR())(0):(a=new(hR())(e).add(t).div(2)).sub(new(hR())(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new(hR())(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?LR(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new(hR())(s).mul(o)),tickMax:a.add(new(hR())(l).mul(o))})}var FR=kR(function(e){var t=CR(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(i,2),s=CR(DR([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(TR(wR(0,i-1).map(function(){return 1/0}))):[].concat(TR(wR(0,i-1).map(function(){return-1/0})),[c]);return n>r?SR(u):u}if(l===c)return RR(l,i,a);var d=LR(l,c,o,a),h=d.step,f=d.tickMin,p=d.tickMax,m=AR.rangeStep(f,p.add(new(hR())(.1).mul(h)),h);return n>r?SR(m):m}),UR=(kR(function(e){var t=CR(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(i,2),s=CR(DR([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return RR(l,i,a);var u=MR(new(hR())(c).sub(l).div(o-1),a,0),d=NR(jR(function(e){return new(hR())(l).add(new(hR())(e).mul(u)).toNumber()}),wR),h=d(0,o).filter(function(e){return e>=l&&e<=c});return n>r?SR(h):h}),kR(function(e,t){var n=CR(e,2),r=n[0],i=n[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=CR(DR([r,i]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=MR(new(hR())(l).sub(s).div(c-1),a,0),d=[].concat(TR(AR.rangeStep(new(hR())(s),new(hR())(l).sub(new(hR())(.99).mul(u)),u)),[l]);return r>i?SR(d):d})),BR=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function VR(e){return VR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VR(e)}function zR(){return zR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zR.apply(this,arguments)}function qR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return HR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JR(r.key),r)}}function KR(e,t,n){return t=QR(t),function(e,t){if(t&&("object"===VR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YR()?Reflect.construct(t,n||[],QR(e).constructor):t.apply(e,n))}function YR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(YR=function(){return!!e})()}function QR(e){return QR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QR(e)}function XR(e,t){return XR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XR(e,t)}function $R(e,t,n){return(t=JR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JR(e){var t=function(e,t){if("object"!=VR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VR(t)?t:t+""}var ZR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),KR(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XR(e,t)}(t,e),n=t,i=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,i=e.width,a=e.dataKey,o=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=WR(e,BR),d=Ck(u,!1);"x"===this.props.direction&&"number"!==l.type&&Yk(!1);var h=o.map(function(e){var o=s(e,a),u=o.x,h=o.y,f=o.value,p=o.errorVal;if(!p)return null;var m,y,g=[];if(Array.isArray(p)){var v=qR(p,2);m=v[0],y=v[1]}else m=y=p;if("vertical"===n){var x=l.scale,b=h+t,w=b+i,j=b-i,N=x(f-m),S=x(f+y);g.push({x1:S,y1:w,x2:S,y2:j}),g.push({x1:N,y1:b,x2:S,y2:b}),g.push({x1:N,y1:w,x2:N,y2:j})}else if("horizontal"===n){var k=c.scale,E=u+t,_=E-i,O=E+i,A=k(f-m),T=k(f+y);g.push({x1:_,y1:T,x2:O,y2:T}),g.push({x1:E,y1:A,x2:E,y2:T}),g.push({x1:_,y1:A,x2:O,y2:A})}return r.createElement(nE,zR({className:"recharts-errorBar",key:"bar-".concat(g.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),g.map(function(e){return r.createElement("line",zR({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return r.createElement(nE,{className:"recharts-errorBars"},h)}}],i&&GR(n.prototype,i),a&&GR(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function eL(e){return eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eL(e)}function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tL(Object(n),!0).forEach(function(t){rL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rL(e,t,n){return t=function(e){var t=function(e,t){if("object"!=eL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eL(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$R(ZR,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),$R(ZR,"displayName","ErrorBar");var iL=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,a=_k(t,vO);if(!a)return null;var o,s=vO.defaultProps,l=void 0!==s?nL(nL({},s),a.props):{};return o=a.props&&a.props.payload?a.props&&a.props.payload:"children"===i?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map(function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?nL(nL({},n),t.props):{},i=r.dataKey,a=r.name,o=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||o||"square",color:fL(t),value:a||i,payload:r}}),nL(nL(nL({},l),vO.getWithHeight(a,r)),{},{payload:o,item:a})};function aL(e){return aL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aL(e)}function oL(e){return function(e){if(Array.isArray(e))return sL(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return sL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lL(Object(n),!0).forEach(function(t){uL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uL(e,t,n){return t=function(e){var t=function(e,t){if("object"!=aL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aL(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dL(e,t,n){return WS()(e)||WS()(t)?n:QS(t)?VS()(e,t,n):ak()(t)?t(e):n}function hL(e,t,n,r){var i=lR()(e,function(e){return dL(e,t)});if("number"===n){var a=i.filter(function(e){return YS(e)||parseFloat(e)});return a.length?[oR()(a),iR()(a)]:[1/0,-1/0]}return(r?i.filter(function(e){return!WS()(e)}):i).map(function(e){return QS(e)||e instanceof Date?e:""})}var fL=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?cL(cL({},e.type.defaultProps),e.props):e.props,a=i.stroke,o=i.fill;switch(r){case"Line":n=a;break;case"Area":case"Radar":n=a&&"none"!==a?a:o;break;default:n=o}return n},pL=function(e,t,n,r,i){var a=Ek(t.props.children,ZR).filter(function(e){return function(e,t,n){return!!WS()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)});if(a&&a.length){var o=a.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=dL(t,n);if(WS()(r))return e;var i=Array.isArray(r)?[oR()(r),iR()(r)]:[r,r],a=o.reduce(function(e,n){var r=dL(t,n,0),a=i[0]-Math.abs(Array.isArray(r)?r[0]:r),o=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(a,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(a[0],e[0]),Math.max(a[1],e[1])]},[1/0,-1/0])}return null},mL=function(e,t,n,r,i){var a=t.map(function(t){var a=t.props.dataKey;return"number"===n&&a&&pL(e,t,a,r)||hL(e,a,n,i)});if("number"===n)return a.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return a.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e},[])},yL=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},gL=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var i,a,o=e.map(function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate});return i||o.push(t),a||o.push(n),o},vL=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,a=e.type,o=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===a&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*GS(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!US()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}})},xL=new WeakMap,bL=function(e,t){if("function"!==typeof t)return e;xL.has(e)||xL.set(e,new WeakMap);var n=xL.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},wL=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if("auto"===i)return"radial"===o&&"radiusAxis"===s?{scale:yT(),realScaleType:"band"}:"radial"===o&&"angleAxis"===s?{scale:BI(),realScaleType:"linear"}:"category"===a&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:vT(),realScaleType:"point"}:"category"===a?{scale:yT(),realScaleType:"band"}:{scale:BI(),realScaleType:"linear"};if(LS()(i)){var l="scale".concat(GE()(i));return{scale:(e[l]||vT)(),realScaleType:e[l]?l:"point"}}return ak()(i)?{scale:i}:{scale:vT(),realScaleType:"point"}},jL=1e-4,NL=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-jL,a=Math.max(r[0],r[1])+jL,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}},SL={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=US()(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}JM(e,t)}},none:JM,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}JM(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,JM(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=US()(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},kL=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),i=SL[n],a=function(){var e=m_([]),t=eR,n=JM,r=tR;function i(i){var a,o,s=Array.from(e.apply(this,arguments),nR),l=s.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(e,s[a].key,c,i)]).data=e;for(a=0,o=ZM(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:m_(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:m_(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?eR:"function"===typeof e?e:m_(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?JM:e,i):n},i}().keys(r).value(function(e,t){return+dL(e,t,0)}).order(eR).offset(i);return a(e)},EL=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,a=t.originalDomain,o=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&a&&("auto"===a[0]||"auto"===a[1])){var l=e.domain();if(!l.length)return null;var c=FR(l,i,o);return e.domain([oR()(c),iR()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:UR(u,i,o)}}return null};function _L(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!WS()(i[t.dataKey])){var s=tk(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=dL(i,WS()(o)?t.dataKey:o);return WS()(l)?null:t.scale(l)}var OL=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,a=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=dL(a,t.dataKey,t.domain[o]);return WS()(s)?null:t.scale(s)-i/2+r},AL=function(e,t,n){return Object.keys(e).reduce(function(r,i){var a=e[i].stackedData.reduce(function(e,r){var i=function(e){return e.reduce(function(e,t){return[oR()(t.concat([e[0]]).filter(YS)),iR()(t.concat([e[1]]).filter(YS))]},[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},TL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IL=function(e,t,n){if(ak()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(YS(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(TL.test(e[0])){var i=+TL.exec(e[0])[1];r[0]=t[0]-i}else ak()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(YS(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(CL.test(e[1])){var a=+CL.exec(e[1])[1];r[1]=t[1]+a}else ak()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},PL=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Gk()(t,function(e){return e.coordinate}),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},DL=function(e,t,n){return e&&e.length?uR()(e,VS()(n,"type.defaultProps.domain"))?t:e:t},ML=function(e,t){var n=e.type.defaultProps?cL(cL({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,a=n.unit,o=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return cL(cL({},Ck(e,!1)),{},{dataKey:r,unit:a,formatter:o,name:i||r,color:fL(e),value:dL(t,r),type:s,payload:t,chartType:l,hide:c})};function RL(e){return RL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RL(e)}function LL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LL(Object(n),!0).forEach(function(t){UL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UL(e,t,n){return t=function(e){var t=function(e,t){if("object"!=RL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RL(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BL=["Webkit","Moz","O","ms"];function VL(e){return VL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VL(e)}function zL(){return zL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zL.apply(this,arguments)}function qL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qL(Object(n),!0).forEach(function(t){XL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$L(r.key),r)}}function GL(e,t,n){return t=YL(t),function(e,t){if(t&&("object"===VL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,KL()?Reflect.construct(t,n||[],YL(e).constructor):t.apply(e,n))}function KL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(KL=function(){return!!e})()}function YL(e){return YL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YL(e)}function QL(e,t){return QL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},QL(e,t)}function XL(e,t,n){return(t=$L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $L(e){var t=function(e,t){if("object"!=VL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VL(t)?t:t+""}var JL=function(e){return e.changedTouches&&!!e.changedTouches.length},ZL=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),XL(n=GL(this,t,[e]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),XL(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),XL(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})}),n.detachDragEndListener()}),XL(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),XL(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),XL(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),XL(n,"handleSlideDragStart",function(e){var t=JL(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QL(e,t)}(t,e),n=t,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,a=this.props,o=a.gap,s=a.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=t.getIndexInRange(i,l),d=t.getIndexInRange(i,c);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,a=dL(n[e],i,e);return ak()(r)?r(a,e):a}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,a=this.props,o=a.x,s=a.width,l=a.travellerWidth,c=a.startIndex,u=a.endIndex,d=a.onChange,h=e.pageX-n;h>0?h=Math.min(h,o+s-l-i,o+s-l-r):h<0&&(h=Math.max(h,o-r,o-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=JL(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,a=t.startX,o=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-o):m<0&&(m=Math.max(m,l-o)),p[r]=o+m;var y=this.getIndex(p),g=y.startIndex,v=y.endIndex;this.setState(XL(XL({},r,o+m),"brushMoveStartX",e.pageX),function(){d&&function(){var e=f.length-1;return"startX"===r&&(i>a?g%h===0:v%h===0)||i<a&&v===e||"endX"===r&&(i>a?v%h===0:g%h===0)||i>a&&v===e}()&&d(y)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,a=r.startX,o=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=o||"endX"===t&&u<=a||this.setState(XL({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,a=e.height,o=e.fill,s=e.stroke;return r.createElement("rect",{stroke:s,fill:o,x:t,y:n,width:i,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,a=e.height,o=e.data,s=e.children,l=e.padding,c=r.Children.only(s);return c?r.cloneElement(c,{x:t,y:n,width:i,height:a,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,n){var i,a,o=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,y=Math.max(e,this.props.x),g=HL(HL({},Ck(this.props,!1)),{},{x:y,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(i=f[p])||void 0===i?void 0:i.name,", Max value: ").concat(null===(a=f[m])||void 0===a?void 0:a.name);return r.createElement(nE,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,g))}},{key:"renderSlide",value:function(e,t){var n=this.props,i=n.y,a=n.height,o=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:i,width:c,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,i=e.y,a=e.height,o=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return r.createElement(nE,{className:"recharts-brush-texts"},r.createElement(tC,zL({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:i+a/2},d),this.getTextOfTick(t)),r.createElement(tC,zL({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+o+5,y:i+a/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,i=e.children,a=e.x,o=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,y=u.isTravellerFocused;if(!t||!t.length||!YS(a)||!YS(o)||!YS(s)||!YS(l)||s<=0||l<=0)return null;var g=PS("recharts-brush",n),v=1===r.Children.count(i),x=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=BL.reduce(function(e,r){return FL(FL({},e),{},UL({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return r.createElement(nE,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||y||c)&&this.renderText())}}],a=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height,o=e.stroke,s=Math.floor(n+a/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:t,y:n,width:i,height:a,fill:o,stroke:"none"}),r.createElement("line",{x1:t+1,y1:s,x2:t+i-1,y2:s,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:t+1,y1:s+2,x2:t+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return r.isValidElement(e)?r.cloneElement(e,n):ak()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,a=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return HL({prevData:n,prevTravellerWidth:a,prevUpdateId:o,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,a=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=vT().domain(Hk()(0,s)).range([i,i+a-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:a,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||a!==t.prevTravellerWidth)){t.scale.range([i,i+r-a]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:a,prevUpdateId:o,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],i&&WL(n.prototype,i),a&&WL(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function eF(e){return eF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eF(e)}function tF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(n),!0).forEach(function(t){rF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rF(e,t,n){return t=function(e){var t=function(e,t){if("object"!=eF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eF(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return aF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}XL(ZL,"displayName","Brush"),XL(ZL,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var oF=Math.PI/180,sF=function(e){return 180*e/Math.PI},lF=function(e,t,n,r){return{x:e+Math.cos(-oF*r)*n,y:t+Math.sin(-oF*r)*n}},cF=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},uF=function(e,t){var n=e.x,r=e.y,i=t.cx,a=t.cy,o=function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-a,2))}({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:sF(l),angleInRadian:l}},dF=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},hF=function(e,t){var n=e.x,r=e.y,i=uF({x:n,y:r},t),a=i.radius,o=i.angle,s=t.innerRadius,l=t.outerRadius;if(a<s||a>l)return!1;if(0===a)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}}(t),d=u.startAngle,h=u.endAngle,f=o;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?nF(nF({},t),{},{radius:a,angle:dF(f,t)}):null},fF=function(e){return(0,r.isValidElement)(e)||ak()(e)||"boolean"===typeof e?"":e.className};function pF(e){return pF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pF(e)}var mF=["offset"];function yF(e){return function(e){if(Array.isArray(e))return gF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return gF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gF(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xF(Object(n),!0).forEach(function(t){wF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wF(e,t,n){return t=function(e){var t=function(e,t){if("object"!=pF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pF(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jF(){return jF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jF.apply(this,arguments)}var NF=function(e,t,n){var i,a,o=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,y=u.endAngle,g=u.clockWise,v=(f+p)/2,x=function(e,t){return GS(t-e)*Math.min(Math.abs(t-e),360)}(m,y),b=x>=0?1:-1;"insideStart"===o?(i=m+b*l,a=g):"insideEnd"===o?(i=y-b*l,a=!g):"end"===o&&(i=y+b*l,a=g),a=x<=0?a:!a;var w=lF(d,h,v,i),j=lF(d,h,v,i+359*(a?1:-1)),N="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(a?0:1,",\n    ").concat(j.x,",").concat(j.y),S=WS()(e.id)?$S("recharts-radial-line-"):e.id;return r.createElement("text",jF({},n,{dominantBaseline:"central",className:PS("recharts-radial-bar-label",c)}),r.createElement("defs",null,r.createElement("path",{id:S,d:N})),r.createElement("textPath",{xlinkHref:"#".concat(S)},t))};function SF(e){var t,n=e.offset,i=bF({offset:void 0===n?5:n},vF(e,mF)),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=void 0===u?"":u,h=i.textBreakAll;if(!a||WS()(s)&&WS()(l)&&!(0,r.isValidElement)(c)&&!ak()(c))return null;if((0,r.isValidElement)(c))return(0,r.cloneElement)(c,i);if(ak()(c)){if(t=(0,r.createElement)(c,i),(0,r.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=WS()(e.children)?t:e.children;return ak()(n)?n(r):r}(i);var f=function(e){return"cx"in e&&YS(e.cx)}(a),p=Ck(i,!0);if(f&&("insideStart"===o||"insideEnd"===o||"end"===o))return NF(i,t,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,a=i.cx,o=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=lF(a,o,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=lF(a,o,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,a=t,o=a.x,s=a.y,l=a.width,c=a.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,y=p>0?"end":"start",g=p>0?"start":"end";if("top"===i)return bF(bF({},{x:o+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return bF(bF({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var v={x:o-m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return bF(bF({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var x={x:o+l+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return bF(bF({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===i?bF({x:o+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===i?bF({x:o+l-m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideTop"===i?bF({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===i?bF({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===i?bF({x:o+m,y:s+d,textAnchor:g,verticalAnchor:f},b):"insideTopRight"===i?bF({x:o+l-m,y:s+d,textAnchor:y,verticalAnchor:f},b):"insideBottomLeft"===i?bF({x:o+m,y:s+c-d,textAnchor:g,verticalAnchor:h},b):"insideBottomRight"===i?bF({x:o+l-m,y:s+c-d,textAnchor:y,verticalAnchor:h},b):sk()(i)&&(YS(i.x)||KS(i.x))&&(YS(i.y)||KS(i.y))?bF({x:o+JS(i.x,l),y:s+JS(i.y,c),textAnchor:"end",verticalAnchor:"end"},b):bF({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(i);return r.createElement(tC,jF({className:PS("recharts-label",d)},p,m,{breakAll:h}),t)}SF.displayName="Label";var kF=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,a=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,y=e.clockWise,g=e.labelViewBox;if(g)return g;if(YS(p)&&YS(m)){if(YS(u)&&YS(d))return{x:u,y:d,width:p,height:m};if(YS(h)&&YS(f))return{x:h,y:f,width:p,height:m}}return YS(u)&&YS(d)?{x:u,y:d,width:0,height:0}:YS(t)&&YS(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:y}:e.viewBox?e.viewBox:{}};SF.parseViewBox=kF,SF.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=kF(e),o=Ek(i,SF).map(function(e,n){return(0,r.cloneElement)(e,{viewBox:t||a,key:"label-".concat(n)})});if(!n)return o;var s=function(e,t){return e?!0===e?r.createElement(SF,{key:"label-implicit",viewBox:t}):QS(e)?r.createElement(SF,{key:"label-implicit",viewBox:t,value:e}):(0,r.isValidElement)(e)?e.type===SF?(0,r.cloneElement)(e,{key:"label-implicit",viewBox:t}):r.createElement(SF,{key:"label-implicit",content:e,viewBox:t}):ak()(e)?r.createElement(SF,{key:"label-implicit",content:e,viewBox:t}):sk()(e)?r.createElement(SF,jF({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[s].concat(yF(o))};var EF=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},_F=n(1733),OF=n.n(_F),AF=n(7002),TF=n.n(AF),CF=function(e){return null};CF.displayName="Cell";var IF=n(4065),PF=n.n(IF);function DF(e){return DF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DF(e)}var MF=["valueAccessor"],RF=["data","dataKey","clockWise","id","textBreakAll"];function LF(e){return function(e){if(Array.isArray(e))return FF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return FF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FF(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UF(){return UF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UF.apply(this,arguments)}function BF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BF(Object(n),!0).forEach(function(t){zF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zF(e,t,n){return t=function(e){var t=function(e,t){if("object"!=DF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DF(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var HF=function(e){return Array.isArray(e.value)?PF()(e.value):e.value};function WF(e){var t=e.valueAccessor,n=void 0===t?HF:t,i=qF(e,MF),a=i.data,o=i.dataKey,s=i.clockWise,l=i.id,c=i.textBreakAll,u=qF(i,RF);return a&&a.length?r.createElement(nE,{className:"recharts-label-list"},a.map(function(e,t){var i=WS()(o)?n(e,t):dL(e&&e.payload,o),a=WS()(l)?{}:{id:"".concat(l,"-").concat(t)};return r.createElement(SF,UF({},Ck(e,!0),u,a,{parentViewBox:e.parentViewBox,value:i,textBreakAll:c,viewBox:SF.parseViewBox(WS()(s)?e:VF(VF({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))})):null}WF.displayName="LabelList",WF.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=Ek(e.children,WF).map(function(e,n){return(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)})});if(!n)return i;var a=function(e,t){return e?!0===e?r.createElement(WF,{key:"labelList-implicit",data:t}):r.isValidElement(e)||ak()(e)?r.createElement(WF,{key:"labelList-implicit",data:t,content:e}):sk()(e)?r.createElement(WF,UF({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[a].concat(LF(i))};var GF=n(2322),KF=n.n(GF),YF=n(6361),QF=n.n(YF);function XF(e){return XF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XF(e)}function $F(){return $F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$F.apply(this,arguments)}function JF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ZF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(n),!0).forEach(function(t){nU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=XF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XF(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rU=function(e,t,n,r,i){var a,o=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-o/2,",").concat(t+i),a+="L ".concat(e+n-o/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},iU={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aU=function(e){var t=tU(tU({},iU),e),n=(0,r.useRef)(),i=JF((0,r.useState)(-1),2),a=i[0],o=i[1];(0,r.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var s=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var g=PS("recharts-trapezoid",h);return y?r.createElement(QA,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:f,isActive:y},function(e){var i=e.upperWidth,o=e.lowerWidth,s=e.height,l=e.x,c=e.y;return r.createElement(QA,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},r.createElement("path",$F({},Ck(t,!0),{className:g,d:rU(l,c,i,o,s),ref:n})))}):r.createElement("g",null,r.createElement("path",$F({},Ck(t,!0),{className:g,d:rU(s,l,c,u,d)})))};function oU(e){return oU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oU(e)}function sU(){return sU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sU.apply(this,arguments)}function lU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lU(Object(n),!0).forEach(function(t){uU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=oU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dU=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,a=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+r,u=Math.asin(s/c)/oF,d=l?i:i+a*u,h=l?i-a*u:i;return{center:lF(t,n,c,d),circleTangency:lF(t,n,r,d),lineTangency:lF(t,n,c*Math.cos(u*oF),h),theta:u}},hU=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,a=e.startAngle,o=function(e,t){return GS(t-e)*Math.min(Math.abs(t-e),359.999)}(a,e.endAngle),s=a+o,l=lF(t,n,i,a),c=lF(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=lF(t,n,r,a),h=lF(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},fU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pU=function(e){var t=cU(cU({},fU),e),n=t.cx,i=t.cy,a=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(o<a||u===d)return null;var f,p=PS("recharts-sector",h),m=o-a,y=JS(s,m,0,!0);return f=y>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=GS(c-l),d=dU({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=dU({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),y=m.circleTangency,g=m.lineTangency,v=m.theta,x=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(x<0)return o?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):hU({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var w=dU({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),j=w.circleTangency,N=w.lineTangency,S=w.theta,k=dU({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),E=k.circleTangency,_=k.lineTangency,O=k.theta,A=s?Math.abs(l-c):Math.abs(l-c)-S-O;if(A<0&&0===a)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(_.x,",").concat(_.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):hU({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),r.createElement("path",sU({},Ck(t,!0),{className:p,d:f,role:"img"}))},mU=["option","shapeType","propTransformer","activeClassName","isActive"];function yU(e){return yU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yU(e)}function gU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vU(Object(n),!0).forEach(function(t){bU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=yU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wU(e,t){return xU(xU({},t),e)}function jU(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return r.createElement(oT,n);case"trapezoid":return r.createElement(aU,n);case"sector":return r.createElement(pU,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(G_,n);break;default:return null}}function NU(e){var t,n=e.option,i=e.shapeType,a=e.propTransformer,o=void 0===a?wU:a,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=gU(e,mU);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,xU(xU({},u),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if(ak()(n))t=n(u);else if(KF()(n)&&!QF()(n)){var d=o(n,u);t=r.createElement(jU,{shapeType:i,elementProps:d})}else{var h=u;t=r.createElement(jU,{shapeType:i,elementProps:h})}return c?r.createElement(nE,{className:l},t):t}function SU(e,t){return null!=t&&"trapezoids"in e.props}function kU(e,t){return null!=t&&"sectors"in e.props}function EU(e,t){return null!=t&&"points"in e.props}function _U(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,a=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&a}function OU(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function AU(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function TU(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return SU(e,t)?n="trapezoids":kU(e,t)?n="sectors":EU(e,t)&&(n="points"),n}(n,t),a=function(e,t){var n,r;return SU(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:kU(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:EU(e,t)?t.payload:{}}(n,t),o=r.filter(function(e,r){var o=uR()(a,e),s=n.props[i].filter(function(e){var r=function(e,t){var n;return SU(e,t)?n=_U:kU(e,t)?n=OU:EU(e,t)&&(n=AU),n}(n,t);return r(e,t)}),l=n.props[i].indexOf(s[s.length-1]);return o&&r===l});return r.indexOf(o[o.length-1])}var CU=["x","y"];function IU(e){return IU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IU(e)}function PU(){return PU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PU.apply(this,arguments)}function DU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DU(Object(n),!0).forEach(function(t){RU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=IU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FU(e,t){var n=e.x,r=e.y,i=LU(e,CU),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return MU(MU(MU(MU(MU({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function UU(e){return r.createElement(NU,PU({shapeType:"rectangle",propTransformer:FU,activeClassName:"recharts-active-bar"},e))}var BU,VU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i=YS(n)||function(e){return WS()(e)}(n);return i?e(n,r):(i||Yk(!1),t)}},zU=["value","background"];function qU(e){return qU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qU(e)}function HU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WU(){return WU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WU.apply(this,arguments)}function GU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GU(Object(n),!0).forEach(function(t){ZU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eB(r.key),r)}}function QU(e,t,n){return t=$U(t),function(e,t){if(t&&("object"===qU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,XU()?Reflect.construct(t,n||[],$U(e).constructor):t.apply(e,n))}function XU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(XU=function(){return!!e})()}function $U(e){return $U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$U(e)}function JU(e,t){return JU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JU(e,t)}function ZU(e,t,n){return(t=eB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eB(e){var t=function(e,t){if("object"!=qU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qU(t)?t:t+""}var tB=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ZU(e=QU(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),ZU(e,"id",$S("recharts-bar-")),ZU(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),ZU(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JU(e,t)}(t,e),n=t,i=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,i=n.shape,a=n.dataKey,o=n.activeIndex,s=n.activeBar,l=Ck(this.props,!1);return e&&e.map(function(e,n){var c=n===o,u=c?s:i,d=KU(KU(KU({},l),e),{},{isActive:c,option:u,index:n,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return r.createElement(nE,WU({className:"recharts-bar-rectangle"},yk(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),r.createElement(UU,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,i=t.layout,a=t.isAnimationActive,o=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return r.createElement(QA,{begin:o,duration:s,isActive:a,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,o=n.map(function(e,t){var n=u&&u[t];if(n){var r=ek(n.x,e.x),o=ek(n.y,e.y),s=ek(n.width,e.width),l=ek(n.height,e.height);return KU(KU({},e),{},{x:r(a),y:o(a),width:s(a),height:l(a)})}if("horizontal"===i){var c=ek(0,e.height)(a);return KU(KU({},e),{},{y:e.y+e.height-c,height:c})}var d=ek(0,e.width)(a);return KU(KU({},e),{},{width:d})});return r.createElement(nE,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&uR()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,i=t.dataKey,a=t.activeIndex,o=Ck(this.props.background,!1);return n.map(function(t,n){t.value;var s=t.background,l=HU(t,zU);if(!s)return null;var c=KU(KU(KU(KU(KU({},l),{},{fill:"#eee"},s),o),yk(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:i,index:n,className:"recharts-bar-background-rectangle"});return r.createElement(UU,WU({key:"background-bar-".concat(n),option:e.props.background,isActive:n===a},c))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.data,a=n.xAxis,o=n.yAxis,s=n.layout,l=Ek(n.children,ZR);if(!l)return null;var c="vertical"===s?i[0].height/2:i[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:dL(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(nE,d,l.map(function(e){return r.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:i,xAxis:a,yAxis:o,layout:s,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,i=e.className,a=e.xAxis,o=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=PS("recharts-bar",i),y=a&&a.allowDataOverflow,g=o&&o.allowDataOverflow,v=y||g,x=WS()(f)?this.id:f;return r.createElement(nE,{className:m},y||g?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(x)},r.createElement("rect",{x:y?s:s-c/2,y:g?l:l-u/2,width:y?c:2*c,height:g?u:2*u}))):null,r.createElement(nE,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(x,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,x),(!d||p)&&WF.renderCallByParent(this.props,n))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],i&&YU(n.prototype,i),a&&YU(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function nB(e){return nB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nB(e)}function rB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sB(r.key),r)}}function iB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iB(Object(n),!0).forEach(function(t){oB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oB(e,t,n){return(t=sB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sB(e){var t=function(e,t){if("object"!=nB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nB(t)?t:t+""}BU=tB,ZU(tB,"displayName","Bar"),ZU(tB,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!AE.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),ZU(tB,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,y=void 0!==m?KU(KU({},m),n.props):n.props,g=y.dataKey,v=y.children,x=y.minPointSize,b="horizontal"===p?o:a,w=c?b.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:b}),N=Ek(v,CF),S=d.map(function(e,t){var r,d,h,m,y,v;c?r=function(e,t){if(!t||2!==t.length||!YS(t[0])||!YS(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!YS(e[0])||e[0]<n)&&(i[0]=n),(!YS(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],w):(r=dL(e,g),Array.isArray(r)||(r=[j,r]));var b=VU(x,BU.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var S,k=[o.scale(r[0]),o.scale(r[1])],E=k[0],_=k[1];d=OL({axis:a,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),h=null!==(S=null!==_&&void 0!==_?_:E)&&void 0!==S?S:void 0,m=f.size;var O=E-_;if(y=Number.isNaN(O)?0:O,v={x:d,y:o.y,width:m,height:o.height},Math.abs(b)>0&&Math.abs(y)<Math.abs(b)){var A=GS(y||b)*(Math.abs(b)-Math.abs(y));h-=A,y+=A}}else{var T=[a.scale(r[0]),a.scale(r[1])],C=T[0],I=T[1];if(d=C,h=OL({axis:o,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=I-C,y=f.size,v={x:a.x,y:h,width:a.width,height:y},Math.abs(b)>0&&Math.abs(m)<Math.abs(b))m+=GS(m||b)*(Math.abs(b)-Math.abs(m))}return KU(KU(KU({},e),{},{x:d,y:h,width:m,height:y,value:c?r:r[1],payload:e,background:v},N&&N[t]&&N[t].props),{},{tooltipPayload:[ML(n,e)],tooltipPosition:{x:d+m/2,y:h+y/2}})});return KU({data:S,layout:p},h)});var lB=function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},cB=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&rB(t.prototype,n),r&&rB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();oB(cB,"EPS",1e-4);var uB=function(e){var t=Object.keys(e).reduce(function(t,n){return aB(aB({},t),{},oB({},n,cB.create(e[n])))},{});return aB(aB({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return OF()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:i})})},isInRange:function(e){return TF()(e,function(e,n){return t[n].isInRange(e)})}})};function dB(){return dB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dB.apply(this,arguments)}function hB(e){return hB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hB(e)}function fB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fB(Object(n),!0).forEach(function(t){bB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wB(r.key),r)}}function yB(e,t,n){return t=vB(t),function(e,t){if(t&&("object"===hB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gB()?Reflect.construct(t,n||[],vB(e).constructor):t.apply(e,n))}function gB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gB=function(){return!!e})()}function vB(e){return vB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vB(e)}function xB(e,t){return xB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xB(e,t)}function bB(e,t,n){return(t=wB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wB(e){var t=function(e,t){if("object"!=hB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hB(t)?t:t+""}var jB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yB(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xB(e,t)}(t,e),n=t,i=[{key:"render",value:function(){var e=this.props,n=e.x,i=e.y,a=e.r,o=e.alwaysShow,s=e.clipPathId,l=QS(n),c=QS(i);if(rk(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,a=uB({x:r.scale,y:i.scale}),o=a.apply({x:t,y:n},{bandAware:!0});return EF(e,"discard")&&!a.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,y=pB(pB({clipPath:EF(this.props,"hidden")?"url(#".concat(s,")"):void 0},Ck(this.props,!0)),{},{cx:d,cy:h});return r.createElement(nE,{className:PS("recharts-reference-dot",m)},t.renderDot(p,y),SF.renderCallByParent(this.props,{x:d-a,y:h-a,width:2*a,height:2*a}))}}],i&&mB(n.prototype,i),a&&mB(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);bB(jB,"displayName","ReferenceDot"),bB(jB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),bB(jB,"renderDot",function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):ak()(e)?e(t):r.createElement(bO,dB({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var NB=n(4597),SB=n.n(NB),kB=n(8990),EB=n.n(kB),_B=n(5797),OB=n.n(_B)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var AB=(0,r.createContext)(void 0),TB=(0,r.createContext)(void 0),CB=(0,r.createContext)(void 0),IB=(0,r.createContext)({}),PB=(0,r.createContext)(void 0),DB=(0,r.createContext)(0),MB=(0,r.createContext)(0),RB=function(e){var t=e.state,n=t.xAxisMap,i=t.yAxisMap,a=t.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=OB(a);return r.createElement(AB.Provider,{value:n},r.createElement(TB.Provider,{value:i},r.createElement(IB.Provider,{value:a},r.createElement(CB.Provider,{value:u},r.createElement(PB.Provider,{value:o},r.createElement(DB.Provider,{value:c},r.createElement(MB.Provider,{value:l},s)))))))};var LB=function(e){var t=(0,r.useContext)(AB);null==t&&Yk(!1);var n=t[e];return null==n&&Yk(!1),n},FB=function(e){var t=(0,r.useContext)(TB);null==t&&Yk(!1);var n=t[e];return null==n&&Yk(!1),n},UB=function(){return(0,r.useContext)(MB)},BB=function(){return(0,r.useContext)(DB)};function VB(e){return VB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VB(e)}function zB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XB(r.key),r)}}function qB(e,t,n){return t=WB(t),function(e,t){if(t&&("object"===VB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,HB()?Reflect.construct(t,n||[],WB(e).constructor):t.apply(e,n))}function HB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(HB=function(){return!!e})()}function WB(e){return WB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},WB(e)}function GB(e,t){return GB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},GB(e,t)}function KB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KB(Object(n),!0).forEach(function(t){QB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function QB(e,t,n){return(t=XB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XB(e){var t=function(e,t){if("object"!=VB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VB(t)?t:t+""}function $B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return JB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZB(){return ZB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZB.apply(this,arguments)}function eV(e){var t=e.x,n=e.y,i=e.segment,a=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,r.useContext)(PB),d=LB(a),h=FB(o),f=(0,r.useContext)(CB);if(!u||!f)return null;rk(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,a,o,s,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:a});if(EF(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var y=l.x,g=e.x.apply(y,{position:a});if(EF(l,"discard")&&!e.x.isInRange(g))return null;var v=[{x:g,y:u+h},{x:g,y:u}];return"top"===o?v.reverse():v}if(r){var x=l.segment.map(function(t){return e.apply(t,{position:a})});return EF(l,"discard")&&SB()(x,function(t){return!e.isInRange(t)})?null:x}return null}(uB({x:d.scale,y:h.scale}),QS(t),QS(n),i&&2===i.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=$B(p,2),y=m[0],g=y.x,v=y.y,x=m[1],b=x.x,w=x.y,j=YB(YB({clipPath:EF(e,"hidden")?"url(#".concat(u,")"):void 0},Ck(e,!0)),{},{x1:g,y1:v,x2:b,y2:w});return r.createElement(nE,{className:PS("recharts-reference-line",l)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):ak()(e)?e(t):r.createElement("line",ZB({},t,{className:"recharts-reference-line-line"}))}(s,j),SF.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return lB({x:t,y:n},{x:r,y:i})}({x1:g,y1:v,x2:b,y2:w})))}var tV=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qB(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GB(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(eV,this.props)}}])&&zB(n.prototype,i),a&&zB(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function nV(){return nV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nV.apply(this,arguments)}function rV(e){return rV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rV(e)}function iV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iV(Object(n),!0).forEach(function(t){dV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hV(r.key),r)}}function sV(e,t,n){return t=cV(t),function(e,t){if(t&&("object"===rV(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lV()?Reflect.construct(t,n||[],cV(e).constructor):t.apply(e,n))}function lV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lV=function(){return!!e})()}function cV(e){return cV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cV(e)}function uV(e,t){return uV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uV(e,t)}function dV(e,t,n){return(t=hV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hV(e){var t=function(e,t){if("object"!=rV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rV(t)?t:t+""}QB(tV,"displayName","ReferenceLine"),QB(tV,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var fV=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sV(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uV(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props,n=e.x1,i=e.x2,a=e.y1,o=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;rk(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=QS(n),d=QS(i),h=QS(a),f=QS(o),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,n,r,i){var a=i.x1,o=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=uB({x:c.scale,y:u.scale}),h={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!EF(i,"discard")||d.isInRange(h)&&d.isInRange(f)?lB(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var y=EF(this.props,"hidden")?"url(#".concat(c,")"):void 0;return r.createElement(nE,{className:PS("recharts-reference-area",s)},t.renderRect(p,aV(aV({clipPath:y},Ck(this.props,!0)),m)),SF.renderCallByParent(this.props,m))}}])&&oV(n.prototype,i),a&&oV(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function pV(e){return function(e){if(Array.isArray(e))return mV(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return mV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}dV(fV,"displayName","ReferenceArea"),dV(fV,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),dV(fV,"renderRect",function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):ak()(e)?e(t):r.createElement(oT,nV({},t,{className:"recharts-reference-area-rect"}))});var yV=function(e,t,n,r,i){var a=Ek(e,tV),o=Ek(e,jB),s=[].concat(pV(a),pV(o)),l=Ek(e,fV),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===n&&EF(t.props,"extendDomain")&&YS(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&EF(t.props,"extendDomain")&&YS(t.props[h])&&YS(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e},d)}return i&&i.length&&(d=i.reduce(function(e,t){return YS(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},gV=n(7283),vV=new(n.n(gV)()),xV="recharts.syncMouseEvents";function bV(e){return bV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bV(e)}function wV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NV(r.key),r)}}function jV(e,t,n){return(t=NV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NV(e){var t=function(e,t){if("object"!=bV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bV(t)?t:t+""}var SV=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jV(this,"activeIndex",0),jV(this,"coordinateList",[]),jV(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,a=void 0===i?null:i,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==a&&void 0!==a?a:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,a=n.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+o+s,u=i+this.offset.top+a/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&wV(e.prototype,t),n&&wV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function kV(){}function EV(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function _V(e){this._context=e}function OV(e){this._context=e}function AV(e){this._context=e}_V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:EV(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:EV(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},OV.prototype={areaStart:kV,areaEnd:kV,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:EV(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},AV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:EV(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class TV{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function CV(e){this._context=e}function IV(e){this._context=e}function PV(e){return new IV(e)}function DV(e){return e<0?-1:1}function MV(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(DV(a)+DV(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function RV(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function LV(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function FV(e){this._context=e}function UV(e){this._context=new BV(e)}function BV(e){this._context=e}function VV(e){this._context=e}function zV(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function qV(e,t){this._context=e,this._t=t}function HV(e){return e[0]}function WV(e){return e[1]}function GV(e,t){var n=m_(!0),r=null,i=PV,a=null,o=R_(s);function s(s){var l,c,u,d=(s=ZM(s)).length,h=!1;for(null==r&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?HV:m_(e),t="function"===typeof t?t:void 0===t?WV:m_(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:m_(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:m_(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:m_(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}function KV(e,t,n){var r=null,i=m_(!0),a=null,o=PV,s=null,l=R_(c);function c(c){var u,d,h,f,p,m=(c=ZM(c)).length,y=!1,g=new Array(m),v=new Array(m);for(null==a&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===y)if(y=!y)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(g[h],v[h]);s.lineEnd(),s.areaEnd()}y&&(g[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):g[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return GV().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?HV:m_(+e),t="function"===typeof t?t:m_(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?WV:m_(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:m_(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:m_(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:m_(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:m_(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:m_(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:m_(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:m_(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}function YV(e){return YV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YV(e)}function QV(){return QV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QV.apply(this,arguments)}function XV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XV(Object(n),!0).forEach(function(t){JV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=YV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}CV.prototype={areaStart:kV,areaEnd:kV,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},IV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},FV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:LV(this,this._t0,RV(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,LV(this,RV(this,n=MV(this,e,t)),n);break;default:LV(this,this._t0,n=MV(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(UV.prototype=Object.create(FV.prototype)).point=function(e,t){FV.prototype.point.call(this,t,e)},BV.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},VV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=zV(e),i=zV(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},qV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var ZV={curveBasisClosed:function(e){return new OV(e)},curveBasisOpen:function(e){return new AV(e)},curveBasis:function(e){return new _V(e)},curveBumpX:function(e){return new TV(e,!0)},curveBumpY:function(e){return new TV(e,!1)},curveLinearClosed:function(e){return new CV(e)},curveLinear:PV,curveMonotoneX:function(e){return new FV(e)},curveMonotoneY:function(e){return new UV(e)},curveNatural:function(e){return new VV(e)},curveStep:function(e){return new qV(e,.5)},curveStepAfter:function(e){return new qV(e,1)},curveStepBefore:function(e){return new qV(e,0)}},ez=function(e){return e.x===+e.x&&e.y===+e.y},tz=function(e){return e.x},nz=function(e){return e.y},rz=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,a=void 0===i?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(ak()(e))return e;var n="curve".concat(GE()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?ZV[n]||PV:ZV["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?a.filter(function(e){return ez(e)}):a;if(Array.isArray(o)){var h=c?o.filter(function(e){return ez(e)}):o,f=d.map(function(e,t){return $V($V({},e),{},{base:h[t]})});return t="vertical"===s?KV().y(nz).x1(tz).x0(function(e){return e.base.x}):KV().x(tz).y1(nz).y0(function(e){return e.base.y}),t.defined(ez).curve(u),t(f)}return(t="vertical"===s&&YS(o)?KV().y(nz).x1(tz).x0(o):YS(o)?KV().x(tz).y1(nz).y0(o):GV().x(tz).y(nz)).defined(ez).curve(u),t(d)},iz=function(e){var t=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?rz(e):i;return r.createElement("path",QV({},Ck(e,!1),mk(e),{className:PS("recharts-curve",t),d:o,ref:a}))};function az(e){return az="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},az(e)}var oz=["x","y","top","left","width","height","className"];function sz(){return sz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sz.apply(this,arguments)}function lz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=az(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=az(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==az(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var dz=function(e,t,n,r,i,a){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n)},hz=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,a=void 0===i?0:i,o=e.top,s=void 0===o?0:o,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lz(Object(n),!0).forEach(function(t){cz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:a,top:s,left:c,width:d,height:f},uz(e,oz));return YS(n)&&YS(a)&&YS(d)&&YS(f)&&YS(s)&&YS(c)?r.createElement("path",sz({},Ck(m,!0),{className:PS("recharts-cross",p),d:dz(n,a,d,f,s,c)})):null};function fz(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle;return{points:[lF(t,n,r,i),lF(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function pz(e,t,n){var r,i,a,o;if("horizontal"===e)a=r=t.x,i=n.top,o=n.top+n.height;else if("vertical"===e)o=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return fz(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=lF(s,l,c,d),f=lF(s,l,u,d);r=h.x,i=h.y,a=f.x,o=f.y}return[{x:r,y:i},{x:a,y:o}]}function mz(e){return mz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mz(e)}function yz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yz(Object(n),!0).forEach(function(t){vz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=mz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mz(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xz(e){var t,n,i,a=e.element,o=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(t=a.props.cursor)&&void 0!==t?t:null===(n=a.type.defaultProps)||void 0===n?void 0:n.cursor;if(!a||!m||!s||!l||"ScatterChart"!==p&&"axis"!==o)return null;var y=iz;if("ScatterChart"===p)i=l,y=hz;else if("BarChart"===p)i=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),y=oT;else if("radial"===f){var g=fz(l),v=g.cx,x=g.cy,b=g.radius;i={cx:v,cy:x,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:b,outerRadius:b},y=pU}else i={points:pz(f,l,u)},y=iz;var w=gz(gz(gz(gz({stroke:"#ccc",pointerEvents:"none"},u),i),Ck(m,!1)),{},{payload:c,payloadIndex:d,className:PS("recharts-tooltip-cursor",m.className)});return(0,r.isValidElement)(m)?(0,r.cloneElement)(m,w):(0,r.createElement)(y,w)}var bz=["item"],wz=["children","className","width","height","style","compact","title","desc"];function jz(e){return jz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jz(e)}function Nz(){return Nz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nz.apply(this,arguments)}function Sz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||Iz(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ez(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lz(r.key),r)}}function _z(e,t,n){return t=Az(t),function(e,t){if(t&&("object"===jz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Oz()?Reflect.construct(t,n||[],Az(e).constructor):t.apply(e,n))}function Oz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Oz=function(){return!!e})()}function Az(e){return Az=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Az(e)}function Tz(e,t){return Tz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tz(e,t)}function Cz(e){return function(e){if(Array.isArray(e))return Pz(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Iz(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iz(e,t){if(e){if("string"===typeof e)return Pz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pz(e,t):void 0}}function Pz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dz(Object(n),!0).forEach(function(t){Rz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rz(e,t,n){return(t=Lz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lz(e){var t=function(e,t){if("object"!=jz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jz(t)?t:t+""}var Fz={xAxis:["bottom","top"],yAxis:["left","right"]},Uz={width:"100%",height:"100%"},Bz={x:0,y:0};function Vz(e){return e}var zz=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,a=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(Cz(e),Cz(n)):e},[]);return a.length>0?a:e&&e.length&&YS(r)&&YS(i)?e.slice(r,i+1):[]};function qz(e){return"number"===e?[0,"auto"]:void 0}var Hz=function(e,t,n,r){var i=e.graphicalItems,a=e.tooltipAxis,o=zz(t,e);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),a.dataKey&&!a.allowDuplicatedCategory)?c=tk(void 0===u?o:u,a.dataKey,r):c=u&&u[n]||o[n];return c?[].concat(Cz(i),[ML(s,c)]):i},[])},Wz=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},a=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=-1,o=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(GS(u-c)!==GS(d-u)){var f=[];if(GS(d-u)===GS(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var y=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>y[0]&&e<=y[1]||e>=f[0]&&e<=f[1]){a=r[l].index;break}}else{var g=Math.min(c,d),v=Math.max(c,d);if(e>(g+u)/2&&e<=(v+u)/2){a=r[l].index;break}}}else for(var x=0;x<o;x++)if(0===x&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x>0&&x<o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2&&e<=(n[x].coordinate+n[x+1].coordinate)/2||x===o-1&&e>(n[x].coordinate+n[x-1].coordinate)/2){a=n[x].index;break}return a}(a,o,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=Hz(e,t,c,u),h=function(e,t,n,r){var i=t.find(function(e){return e&&e.index===n});if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,o=r.radius;return Mz(Mz(Mz({},r),lF(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,l=r.angle;return Mz(Mz(Mz({},r),lF(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return Bz}(n,o,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},Gz=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,a=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=yL(c,i);return n.reduce(function(t,n){var f,p=void 0!==n.type.defaultProps?Mz(Mz({},n.type.defaultProps),n.props):n.props,m=p.type,y=p.dataKey,g=p.allowDataOverflow,v=p.allowDuplicatedCategory,x=p.scale,b=p.ticks,w=p.includeHidden,j=p[a];if(t[j])return t;var N,S,k,E=zz(e.data,{graphicalItems:r.filter(function(e){var t;return(a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a])===j}),dataStartIndex:s,dataEndIndex:l}),_=E.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&YS(r)&&YS(i))return!0}return!1})(p.domain,g,m)&&(N=IL(p.domain,null,g),!h||"number"!==m&&"auto"===x||(k=hL(E,y,"category")));var O=qz(m);if(!N||0===N.length){var A,T=null!==(A=p.domain)&&void 0!==A?A:O;if(y){if(N=hL(E,y,m),"category"===m&&h){var C=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(N);v&&C?(S=N,N=Hk()(0,_)):v||(N=DL(T,N,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(Cz(e),[t])},[]))}else if("category"===m)N=v?N.filter(function(e){return""!==e&&!WS()(e)}):DL(T,N,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||WS()(t)?e:[].concat(Cz(e),[t])},[]);else if("number"===m){var I=function(e,t,n,r,i){var a=t.map(function(t){return pL(e,t,n,i,r)}).filter(function(e){return!WS()(e)});return a&&a.length?a.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(E,r.filter(function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===j&&(w||!i)}),y,i,c);I&&(N=I)}!h||"number"!==m&&"auto"===x||(k=hL(E,y,"category"))}else N=h?Hk()(0,_):o&&o[j]&&o[j].hasStack&&"number"===m?"expand"===d?[0,1]:AL(o[j].stackGroups,s,l):mL(E,r.filter(function(e){var t=a in e.props?e.props[a]:e.type.defaultProps[a],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)}),m,c,!0);if("number"===m)N=yV(u,N,j,i,b),T&&(N=IL(T,N,g));else if("category"===m&&T){var P=T;N.every(function(e){return P.indexOf(e)>=0})&&(N=P)}}return Mz(Mz({},t),{},Rz({},j,Mz(Mz({},p),{},{axisType:i,domain:N,categoricalDomain:k,duplicateDomain:S,originalDomain:null!==(f=p.domain)&&void 0!==f?f:O,isCategorical:h,layout:c})))},{})},Kz=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,a=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=Ek(c,i),h={};return d&&d.length?h=Gz(e,{axes:d,graphicalItems:a,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):a&&a.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,a=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=zz(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=yL(c,i),p=-1;return n.reduce(function(e,t){var m,y=(void 0!==t.type.defaultProps?Mz(Mz({},t.type.defaultProps),t.props):t.props)[a],g=qz("number");return e[y]?e:(p++,f?m=Hk()(0,h):o&&o[y]&&o[y].hasStack?(m=AL(o[y].stackGroups,s,l),m=yV(u,m,y,i)):(m=IL(g,mL(d,n.filter(function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===y&&!i}),"number",c),r.defaultProps.allowDataOverflow),m=yV(u,m,y,i)),Mz(Mz({},e),{},Rz({},y,Mz(Mz({axisType:i},r.defaultProps),{},{hide:!0,orientation:VS()(Fz,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:g,isCategorical:f,layout:c}))))},{})}(e,{Axis:i,graphicalItems:a,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),h},Yz=function(e){var t=e.children,n=e.defaultShowTooltip,r=_k(t,ZL),i=0,a=0;return e.data&&0!==e.data.length&&(a=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(a=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},Qz=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Xz=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,a=e.yAxisMap,o=void 0===a?{}:a,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=_k(c,ZL),h=_k(c,vO),f=Object.keys(o).reduce(function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:Mz(Mz({},e),{},Rz({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:Mz(Mz({},e),{},Rz({},r,VS()(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=Mz(Mz({},p),f),y=m.bottom;d&&(m.bottom+=d.props.height||ZL.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,a=n.width,o=n.margin,s=a-(o.left||0)-(o.right||0),l=iL({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&YS(e[h]))return cL(cL({},e),{},uL({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&YS(e[f]))return cL(cL({},e),{},uL({},f,e[f]+(d||0)))}return e}(m,0,n,t));var g=s-m.left-m.right,v=l-m.top-m.bottom;return Mz(Mz({brushBottom:y},m),{},{width:Math.max(g,0),height:Math.max(v,0)})},$z=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},Jz=function(e){var t=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=void 0===i?"axis":i,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,a=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=Qz(u),m=p.numericAxisName,y=p.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some(function(e){var t=jk(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,p){var x=zz(e.data,{graphicalItems:[n],dataStartIndex:o,dataEndIndex:s}),b=void 0!==n.type.defaultProps?Mz(Mz({},n.type.defaultProps),n.props):n.props,w=b.dataKey,j=b.maxBarSize,N=b["".concat(m,"Id")],S=b["".concat(y,"Id")],k=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],i=b["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||Yk(!1);var a=r[i];return Mz(Mz({},e),{},Rz(Rz({},n.axisType,a),"".concat(n.axisType,"Ticks"),vL(a)))},{}),E=k[y],_=k["".concat(y,"Ticks")],O=r&&r[N]&&r[N].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?cL(cL({},e.type.defaultProps),e.props):e.props).stackId;if(QS(r)){var i=t[r];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null}(n,r[N].stackGroups),A=jk(n.type).indexOf("Bar")>=0,T=PL(E,_),C=[],I=g&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var a={},o=Object.keys(i),s=0,l=o.length;s<l;s++)for(var c=i[o[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,y=p.filter(function(e){return jk(e.type).indexOf("Bar")>=0});if(y&&y.length){var g=y[0].type.defaultProps,v=void 0!==g?cL(cL({},g),y[0].props):y[0].props,x=v.barSize,b=v[m];a[b]||(a[b]=[]);var w=WS()(x)?t:x;a[b].push({item:y[0],stackList:y.slice(1),barSize:WS()(w)?void 0:JS(w,n,0)})}}return a}({barSize:c,stackGroups:r,totalSize:$z(k,y)});if(A){var P,D,M=WS()(j)?f:j,R=null!==(P=null!==(D=PL(E,_,!0))&&void 0!==D?D:M)&&void 0!==P?P:0;C=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,a=void 0===i?[]:i,o=e.maxBarSize,s=a.length;if(s<1)return null;var l,c=JS(t,r,0,!0),u=[];if(a[0].barSize===+a[0].barSize){var d=!1,h=r/s,f=a.reduce(function(e,t){return e+t.barSize||0},0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=a.reduce(function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(oL(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:p})}),r},u)}else{var m=JS(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var y=(r-2*m-(s-1)*c)/s;y>1&&(y>>=0);var g=o===+o?Math.min(y,o):y;l=a.reduce(function(e,t,n){var r=[].concat(oL(e),[{item:t.item,position:{offset:m+(y+c)*n+(y-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==T?R:T,sizeList:I[S],maxBarSize:M}),R!==T&&(C=C.map(function(e){return Mz(Mz({},e),{},{position:Mz(Mz({},e.position),{},{offset:e.position.offset-R/2})})}))}var L=n&&n.type&&n.type.getComposedData;L&&v.push({props:Mz(Mz({},L(Mz(Mz({},k),{},{displayedData:x,props:e,dataKey:w,item:n,bandSize:T,barPosition:C,offset:i,stackedData:O,layout:u,dataStartIndex:o,dataEndIndex:s}))),{},Rz(Rz(Rz({key:n.key||"item-".concat(p)},m,k[m]),y,k[y]),"animationId",a)),childIndex:Mk(n,e.children),item:n})}),v},f=function(e,r){var i=e.props,a=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!Ok({props:i}))return null;var c=i.children,d=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,y=Qz(d),g=y.numericAxisName,v=y.cateAxisName,x=Ek(c,n),b=function(e,t,n,r,i,a){if(!e)return null;var o=(a?t.reverse():t).reduce(function(e,t){var i,a=null!==(i=t.type)&&void 0!==i&&i.defaultProps?cL(cL({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(a.hide)return e;var s=a[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(QS(o)){var c=l.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[$S("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return cL(cL({},e),{},uL({},s,l))},{});return Object.keys(o).reduce(function(t,a){var s=o[a];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,a){var o=s.stackGroups[a];return cL(cL({},t),{},uL({},a,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:kL(e,o.items,i)}))},{})),cL(cL({},t),{},uL({},a,s))},{})}(p,x,"".concat(g,"Id"),"".concat(v,"Id"),f,m),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return Mz(Mz({},e),{},Rz({},n,Kz(i,Mz(Mz({},t),{},{graphicalItems:x,stackGroups:t.axisType===g&&b,dataStartIndex:a,dataEndIndex:o}))))},{}),j=Xz(Mz(Mz({},w),{},{props:i,graphicalItems:x}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(w).forEach(function(e){w[e]=u(i,w[e],j,e.replace("Map",""),t)});var N=function(e){var t=ZS(e),n=vL(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Gk()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:PL(t,n)}}(w["".concat(v,"Map")]),S=h(i,Mz(Mz({},w),{},{dataStartIndex:a,dataEndIndex:o,updateId:s,graphicalItems:x,stackGroups:b,offset:j}));return Mz(Mz({formattedGraphicalItems:S,graphicalItems:x,offset:j,stackGroups:b},N),w)},p=function(e){function n(e){var i,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Rz(o=_z(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Rz(o,"accessibilityManager",new SV),Rz(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;o.setState(Mz({legendBBox:e},f({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:i},Mz(Mz({},o.state),{},{legendBBox:e}))))}}),Rz(o,"handleReceiveSyncEvent",function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),Rz(o,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState(function(){return Mz({dataStartIndex:t,dataEndIndex:n},f({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),Rz(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var n=Mz(Mz({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;ak()(r)&&r(n,e)}}),Rz(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),n=t?Mz(Mz({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;ak()(r)&&r(n,e)}),Rz(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),Rz(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),Rz(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),Rz(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;ak()(n)&&n(t,e)}),Rz(o,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&wk[t]?wk[t]:null}(e),r=VS()(o.props,"".concat(n));n&&ak()(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),Rz(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var n=Mz(Mz({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;ak()(r)&&r(n,e)}}),Rz(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;ak()(t)&&t(o.getMouseInfo(e),e)}),Rz(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;ak()(t)&&t(o.getMouseInfo(e),e)}),Rz(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),Rz(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),Rz(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),Rz(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;ak()(t)&&t(o.getMouseInfo(e),e)}),Rz(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;ak()(t)&&t(o.getMouseInfo(e),e)}),Rz(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&vV.emit(xV,o.props.syncId,e,o.eventEmitterSymbol)}),Rz(o,"applySyncEvent",function(e){var t=o.props,n=t.layout,r=t.syncMethod,i=o.state.updateId,a=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(Mz({dataStartIndex:a,dataEndIndex:s},f({props:o.props,dataStartIndex:a,dataEndIndex:s,updateId:i},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var y=Mz(Mz({},h),{},{x:h.left,y:h.top}),g=Math.min(l,y.x+y.width),v=Math.min(c,y.y+y.height),x=p[u]&&p[u].value,b=Hz(o.state,o.props.data,u),w=p[u]?{x:"horizontal"===n?p[u].coordinate:g,y:"horizontal"===n?v:p[u].coordinate}:Bz;o.setState(Mz(Mz({},e),{},{activeLabel:x,activeCoordinate:w,activePayload:b,activeTooltipIndex:u}))}else o.setState(e)}),Rz(o,"renderCursor",function(e){var n,i=o.state,a=i.isTooltipActive,s=i.activeCoordinate,l=i.activePayload,c=i.offset,u=i.activeTooltipIndex,d=i.tooltipAxisBandSize,h=o.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:a,p=o.props.layout,m=e.key||"_recharts-cursor";return r.createElement(xz,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})}),Rz(o,"renderPolarAxis",function(e,t,n){var i=VS()(e,"type.axisType"),a=VS()(o.state,"".concat(i,"Map")),s=e.type.defaultProps,l=void 0!==s?Mz(Mz({},s),e.props):e.props,c=a&&a[l["".concat(i,"Id")]];return(0,r.cloneElement)(e,Mz(Mz({},c),{},{className:PS(i,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:vL(c,!0)}))}),Rz(o,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,i=t.polarAngles,a=t.polarRadius,s=o.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=ZS(l),d=ZS(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,r.cloneElement)(e,{polarAngles:Array.isArray(i)?i:vL(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(a)?a:vL(u,!0).map(function(e){return e.coordinate}),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})}),Rz(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,i=t.width,a=t.height,s=o.props.margin||{},l=i-(s.left||0)-(s.right||0),u=iL({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=kz(u,bz);return(0,r.cloneElement)(d,Mz(Mz({},h),{},{chartWidth:i,chartHeight:a,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),Rz(o,"renderTooltip",function(){var e,t=o.props,n=t.children,i=t.accessibilityLayer,a=_k(n,HE);if(!a)return null;var s=o.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=a.props.active)&&void 0!==e?e:l;return(0,r.cloneElement)(a,{viewBox:Mz(Mz({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:i})}),Rz(o,"renderBrush",function(e){var t=o.props,n=t.margin,i=t.data,a=o.state,s=a.offset,l=a.dataStartIndex,c=a.dataEndIndex,u=a.updateId;return(0,r.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:bL(o.handleBrushChange,e.props.onChange),data:i,x:YS(e.props.x)?e.props.x:s.left,y:YS(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:YS(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),Rz(o,"renderReferenceElement",function(e,t,n){if(!e)return null;var i=o.clipPathId,a=o.state,s=a.xAxisMap,l=a.yAxisMap,c=a.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,r.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:i})}),Rz(o,"renderActivePoints",function(e){var t=e.item,r=e.activePoint,i=e.basePoint,a=e.childIndex,o=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?Mz(Mz({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=Mz(Mz({index:a,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:fL(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Ck(u,!1)),mk(u));return s.push(n.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(a))),i?s.push(n.renderActiveDot(u,Mz(Mz({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(a))):o&&s.push(null),s}),Rz(o,"renderGraphicChild",function(e,t,n){var i=o.filterFormatItem(e,t,n);if(!i)return null;var a=o.getTooltipEventType(),s=o.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=_k(o.props.children,HE),f=i.props,p=f.points,m=f.isRange,y=f.baseLine,g=void 0!==i.item.type.defaultProps?Mz(Mz({},i.item.type.defaultProps),i.item.props):i.item.props,v=g.activeDot,x=g.hide,b=g.activeBar,w=g.activeShape,j=Boolean(!x&&l&&h&&(v||b||w)),N={};"axis"!==a&&h&&"click"===h.props.trigger?N={onClick:bL(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(N={onMouseLeave:bL(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:bL(o.handleItemMouseEnter,e.props.onMouseEnter)});var S=(0,r.cloneElement)(e,Mz(Mz({},i.props),N));if(j){if(!(u>=0)){var k,E=(null!==(k=o.getItemByXY(o.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:S}).graphicalItem,_=E.item,O=void 0===_?e:_,A=E.childIndex,T=Mz(Mz(Mz({},i.props),N),{},{activeIndex:A});return[(0,r.cloneElement)(O,T),null,null]}var C,I;if(c.dataKey&&!c.allowDuplicatedCategory){var P="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());C=tk(p,P,d),I=m&&y&&tk(y,P,d)}else C=null===p||void 0===p?void 0:p[u],I=m&&y&&y[u];if(w||b){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,r.cloneElement)(e,Mz(Mz(Mz({},i.props),N),{},{activeIndex:D})),null,null]}if(!WS()(C))return[S].concat(Cz(o.renderActivePoints({item:i,activePoint:C,basePoint:I,childIndex:u,isRange:m})))}return m?[S,null,null]:[S,null]}),Rz(o,"renderCustomized",function(e,t,n){return(0,r.cloneElement)(e,Mz(Mz({key:"recharts-customized-".concat(n)},o.props),o.state))}),Rz(o,"renderMap",{CartesianGrid:{handler:Vz,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:Vz},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:Vz},YAxis:{handler:Vz},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(i=e.id)&&void 0!==i?i:$S("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=MS()(o.triggeredAfterMouseMove,null!==(a=e.throttleDelay)&&void 0!==a?a:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tz(e,t)}(n,e),i=n,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,a=_k(t,HE);if(a){var o=a.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=Hz(this.state,n,o,s),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=Mz(Mz({},d),h.props.points[o].tooltipPosition),l=h.props.points[o].tooltipPayload);var f={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(a),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){Ik([_k(e.children,HE)],[_k(this.props.children,HE)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=_k(this.props.children,HE);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},a={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},o=r.width/n.offsetWidth||1,s=this.inRange(a.chartX,a.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=Wz(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var f=ZS(c).scale,p=ZS(u).scale,m=f&&f.invert?f.invert(a.chartX):null,y=p&&p.invert?p.invert(a.chartY):null;return Mz(Mz({},a),{},{xValue:m,yValue:y},h)}return h?Mz(Mz({},a),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,a=t/n;if("horizontal"===r||"vertical"===r){var o=this.state.offset;return i>=o.left&&i<=o.left+o.width&&a>=o.top&&a<=o.top+o.height?{x:i,y:a}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=ZS(l);return hF({x:i,y:a},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=_k(e,HE),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),Mz(Mz({},mk(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){vV.on(xV,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){vV.removeListener(xV,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,a=r.length;i<a;i++){var o=r[i];if(o.item===e||o.props.key===e.key||t===jk(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,i=t.top,a=t.height,o=t.width;return r.createElement("defs",null,r.createElement("clipPath",{id:e},r.createElement("rect",{x:n,y:i,height:a,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=Sz(t,2),r=n[0],i=n[1];return Mz(Mz({},e),{},Rz({},r,i.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=Sz(t,2),r=n[0],i=n[1];return Mz(Mz({},e),{},Rz({},r,i.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,a=n.length;i<a;i++){var o=n[i],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?Mz(Mz({},l.type.defaultProps),l.props):l.props,u=jk(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return iT(e,t)});if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find(function(t){return hF(e,t)});if(h)return{graphicalItem:o,payload:h}}else if(SU(o,r)||kU(o,r)||EU(o,r)){var f=TU({graphicalItem:o,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:Mz(Mz({},o),{},{childIndex:p}),payload:EU(o,r)?c.data[f]:o.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!Ok(this))return null;var t,n,i=this.props,a=i.children,o=i.className,s=i.width,l=i.height,c=i.style,u=i.compact,d=i.title,h=i.desc,f=kz(i,wz),p=Ck(f,!1);if(u)return r.createElement(RB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement(Jk,Nz({},p,{width:s,height:l,title:d,desc:h}),this.renderClipPath(),Dk(a,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return r.createElement(RB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement("div",Nz({className:PS("recharts-wrapper",o),style:Mz({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),r.createElement(Jk,Nz({},p,{width:s,height:l,title:d,desc:h,style:Uz}),this.renderClipPath(),Dk(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&Ez(i.prototype,o),l&&Ez(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,l}(r.Component);Rz(p,"displayName",t),Rz(p,"defaultProps",Mz({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Rz(p,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,i=e.children,a=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=Yz(e);return Mz(Mz(Mz({},h),{},{updateId:0},f(Mz(Mz({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||a!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!ck(c,t.prevMargin)){var p=Yz(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},y=Mz(Mz({},Wz(t,r,s)),{},{updateId:t.updateId+1}),g=Mz(Mz(Mz({},p),m),y);return Mz(Mz(Mz({},g),f(Mz({props:e},g),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!Ik(i,t.prevChildren)){var v,x,b,w,j=_k(i,ZL),N=j&&null!==(v=null===(x=j.props)||void 0===x?void 0:x.startIndex)&&void 0!==v?v:u,S=j&&null!==(b=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==b?b:d,k=N!==u||S!==d,E=!WS()(r)&&!k?t.updateId:t.updateId+1;return Mz(Mz({updateId:E},f(Mz(Mz({props:e},t),{},{updateId:E,dataStartIndex:N,dataEndIndex:S}),t)),{},{prevChildren:i,dataStartIndex:N,dataEndIndex:S})}return null}),Rz(p,"renderActiveDot",function(e,t,n){var i;return i=(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):ak()(e)?e(t):r.createElement(bO,t),r.createElement(nE,{className:"recharts-active-dot",key:n},i)});var m=(0,r.forwardRef)(function(e,t){return r.createElement(p,Nz({},e,{ref:t}))});return m.displayName=p.displayName,m},Zz=["type","layout","connectNulls","ref"],eq=["key"];function tq(e){return tq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tq(e)}function nq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rq(){return rq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rq.apply(this,arguments)}function iq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iq(Object(n),!0).forEach(function(t){fq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oq(e){return function(e){if(Array.isArray(e))return sq(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return sq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sq(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pq(r.key),r)}}function cq(e,t,n){return t=dq(t),function(e,t){if(t&&("object"===tq(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uq()?Reflect.construct(t,n||[],dq(e).constructor):t.apply(e,n))}function uq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(uq=function(){return!!e})()}function dq(e){return dq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dq(e)}function hq(e,t){return hq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hq(e,t)}function fq(e,t,n){return(t=pq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pq(e){var t=function(e,t){if("object"!=tq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tq(t)?t:t+""}var mq=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return fq(e=cq(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),fq(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),fq(e,"getStrokeDasharray",function(n,r,i){var a=i.reduce(function(e,t){return e+t});if(!a)return e.generateSimpleStrokeDasharray(r,n);for(var o=Math.floor(n/a),s=n%a,l=r-n,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>s){c=[].concat(oq(i.slice(0,u)),[s-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(oq(t.repeat(i,o)),oq(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),fq(e,"id",$S("recharts-line-")),fq(e,"pathRef",function(t){e.mainCurve=t}),fq(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),fq(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hq(e,t)}(t,e),n=t,i=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.points,a=n.xAxis,o=n.yAxis,s=n.layout,l=Ek(n.children,ZR);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:dL(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(nE,u,l.map(function(e){return r.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:i,xAxis:a,yAxis:o,layout:s,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.dot,s=a.points,l=a.dataKey,c=Ck(this.props,!1),u=Ck(o,!0),d=s.map(function(e,n){var r=aq(aq(aq({key:"dot-".concat(n),r:3},c),u),{},{index:n,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return t.renderDotItem(o,r)}),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return r.createElement(nE,rq({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,n,i){var a=this.props,o=a.type,s=a.layout,l=a.connectNulls,c=(a.ref,nq(a,Zz)),u=aq(aq(aq({},Ck(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},i),{},{type:o,layout:s,connectNulls:l});return r.createElement(iz,rq({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,i=this.props,a=i.points,o=i.strokeDasharray,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=i.animateNewValues,f=i.width,p=i.height,m=this.state,y=m.prevPoints,g=m.totalLength;return r.createElement(QA,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var i=r.t;if(y){var s=y.length/a.length,l=a.map(function(e,t){var n=Math.floor(t*s);if(y[n]){var r=y[n],a=ek(r.x,e.x),o=ek(r.y,e.y);return aq(aq({},e),{},{x:a(i),y:o(i)})}if(h){var l=ek(2*f,e.x),c=ek(p/2,e.y);return aq(aq({},e),{},{x:l(i),y:c(i)})}return aq(aq({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,u=ek(0,g)(i);if(o){var d="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(u,g,d)}else c=n.generateSimpleStrokeDasharray(g,u);return n.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,a=this.state,o=a.prevPoints,s=a.totalLength;return i&&r&&r.length&&(!o&&s>0||!uR()(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,i=t.dot,a=t.points,o=t.className,s=t.xAxis,l=t.yAxis,c=t.top,u=t.left,d=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(n||!a||!a.length)return null;var m=this.state.isAnimationFinished,y=1===a.length,g=PS("recharts-line",o),v=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,b=v||x,w=WS()(p)?this.id:p,j=null!==(e=Ck(i,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=j.r,S=void 0===N?3:N,k=j.strokeWidth,E=void 0===k?2:k,_=(function(e){return e&&"object"===bk(e)&&"clipDot"in e}(i)?i:{}).clipDot,O=void 0===_||_,A=2*S+E;return r.createElement(nE,{className:g},v||x?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(w)},r.createElement("rect",{x:v?u:u-d/2,y:x?c:c-h/2,width:v?d:2*d,height:x?h:2*h})),!O&&r.createElement("clipPath",{id:"clipPath-dots-".concat(w)},r.createElement("rect",{x:u-A/2,y:c-A/2,width:d+A,height:h+A}))):null,!y&&this.renderCurve(b,w),this.renderErrorBar(b,w),(y||i)&&this.renderDots(b,O,w),(!f||m)&&WF.renderCallByParent(this.props,a))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(oq(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(oq(r),oq(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(ak()(e))n=e(t);else{var i=t.key,a=nq(t,eq),o=PS("recharts-line-dot","boolean"!==typeof e?e.className:"");n=r.createElement(bO,rq({key:i},a,{className:o}))}return n}}],i&&lq(n.prototype,i),a&&lq(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function yq(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function gq(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),o=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function vq(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function xq(e){return xq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xq(e)}function bq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bq(Object(n),!0).forEach(function(t){jq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jq(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xq(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nq(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(YS(l)||AE.isSsr)return function(e,t){return yq(e,t+1)}(i,"number"===typeof l&&YS(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?ET(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=ak()(c)?c(e.value,r):e.value;return"width"===f?gq(ET(i,{fontSize:t,letterSpacing:n}),p,d):ET(i,{fontSize:t,letterSpacing:n})[f]},y=i.length>=2?GS(i[1].coordinate-i[0].coordinate):1,g=function(e,t,n){var r="width"===n,i=e.x,a=e.y,o=e.width,s=e.height;return 1===t?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}(a,y,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var a,o=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:yq(r,u)};var a,o=c,h=function(){return void 0===a&&(a=n(t,o)),a},f=t.coordinate,p=0===c||vq(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=o.length;)if(a=h())return a.v;return[]}(y,g,m,i,o):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=t.start,c=t.end;if(a){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=wq(wq({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),vq(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+i),o[s-1]=wq(wq({},u),{},{isShow:!0}))}for(var f=a?s-1:s,p=function(t){var r,a=o[t],s=function(){return void 0===r&&(r=n(a,t)),r};if(0===t){var u=e*(a.coordinate-e*s()/2-l);o[t]=a=wq(wq({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else o[t]=a=wq(wq({},a),{},{tickCoord:a.coordinate});vq(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+i),o[t]=wq(wq({},a),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(y,g,m,i,o,"preserveStartEnd"===l):function(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=t.start,l=t.end,c=function(t){var r,c=a[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=wq(wq({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=wq(wq({},c),{},{tickCoord:c.coordinate});vq(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=wq(wq({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}(y,g,m,i,o),h.filter(function(e){return e.isShow}))}fq(mq,"displayName","Line"),fq(mq,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!AE.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),fq(mq,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=dL(e,o);return"horizontal"===u?{x:_L({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:WS()(l)?null:r.scale(l),value:l,payload:e}:{x:WS()(l)?null:n.scale(l),y:_L({axis:r,ticks:a,bandSize:s,entry:e,index:t}),value:l,payload:e}});return aq({points:d,layout:u},c)});var Sq=["viewBox"],kq=["viewBox"],Eq=["ticks"];function _q(e){return _q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_q(e)}function Oq(){return Oq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oq.apply(this,arguments)}function Aq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aq(Object(n),!0).forEach(function(t){Lq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fq(r.key),r)}}function Pq(e,t,n){return t=Mq(t),function(e,t){if(t&&("object"===_q(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dq()?Reflect.construct(t,n||[],Mq(e).constructor):t.apply(e,n))}function Dq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Dq=function(){return!!e})()}function Mq(e){return Mq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mq(e)}function Rq(e,t){return Rq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rq(e,t)}function Lq(e,t,n){return(t=Fq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fq(e){var t=function(e,t){if("object"!=_q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_q(t)?t:t+""}var Uq=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pq(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rq(e,t)}(t,e),n=t,i=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=Cq(e,Sq),i=this.props,a=i.viewBox,o=Cq(i,kq);return!ck(n,a)||!ck(r,o)||!ck(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,a,o,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,y=p?-1:1,g=e.tickSize||f,v=YS(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,o=(r=(i=c+ +!p*d)-y*g)-y*m,a=v;break;case"left":r=i=e.coordinate,a=(t=(n=l+ +!p*u)-y*g)-y*m,o=v;break;case"right":r=i=e.coordinate,a=(t=(n=l+ +p*u)+y*g)+y*m,o=v;break;default:t=n=e.coordinate,o=(r=(i=c+ +p*d)+y*g)+y*m,a=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,a=e.height,o=e.orientation,s=e.mirror,l=e.axisLine,c=Tq(Tq(Tq({},Ck(this.props,!1)),Ck(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var u=+("top"===o&&!s||"bottom"===o&&s);c=Tq(Tq({},c),{},{x1:t,y1:n+u*a,x2:t+i,y2:n+u*a})}else{var d=+("left"===o&&!s||"right"===o&&s);c=Tq(Tq({},c),{},{x1:t+d*i,y1:n,x2:t+d*i,y2:n+a})}return r.createElement("line",Oq({},c,{className:PS("recharts-cartesian-axis-line",VS()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,i){var a=this,o=this.props,s=o.tickLine,l=o.stroke,c=o.tick,u=o.tickFormatter,d=o.unit,h=Nq(Tq(Tq({},this.props),{},{ticks:e}),n,i),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Ck(this.props,!1),y=Ck(c,!1),g=Tq(Tq({},m),{},{fill:"none"},Ck(s,!1)),v=h.map(function(e,n){var i=a.getTickLineCoord(e),o=i.line,v=i.tick,x=Tq(Tq(Tq(Tq({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},y),v),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:u});return r.createElement(nE,Oq({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},yk(a.props,e,n)),s&&r.createElement("line",Oq({},g,o,{className:PS("recharts-cartesian-axis-tick-line",VS()(s,"className"))})),c&&t.renderTickItem(c,x,"".concat(ak()(u)?u(e.value,n):e.value).concat(d||"")))});return r.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,i=t.width,a=t.height,o=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=Cq(l,Eq),d=c;return ak()(o)&&(d=c&&c.length>0?o(this.props):o(u)),i<=0||a<=0||!d||!d.length?null:r.createElement(nE,{className:PS("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),SF.renderCallByParent(this.props))}}],a=[{key:"renderTickItem",value:function(e,t,n){var i=PS(t.className,"recharts-cartesian-axis-tick-value");return r.isValidElement(e)?r.cloneElement(e,Tq(Tq({},t),{},{className:i})):ak()(e)?e(Tq(Tq({},t),{},{className:i})):r.createElement(tC,Oq({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],i&&Iq(n.prototype,i),a&&Iq(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function Bq(e){return Bq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bq(e)}function Vq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kq(r.key),r)}}function zq(e,t,n){return t=Hq(t),function(e,t){if(t&&("object"===Bq(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qq()?Reflect.construct(t,n||[],Hq(e).constructor):t.apply(e,n))}function qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qq=function(){return!!e})()}function Hq(e){return Hq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hq(e)}function Wq(e,t){return Wq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wq(e,t)}function Gq(e,t,n){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kq(e){var t=function(e,t){if("object"!=Bq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bq(t)?t:t+""}function Yq(){return Yq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yq.apply(this,arguments)}function Qq(e){var t=e.xAxisId,n=UB(),i=BB(),a=LB(t);return null==a?null:r.createElement(Uq,Yq({},a,{className:PS("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return vL(e,!0)}}))}Lq(Uq,"displayName","CartesianAxis"),Lq(Uq,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Xq=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zq(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wq(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(Qq,this.props)}}])&&Vq(n.prototype,i),a&&Vq(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function $q(e){return $q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$q(e)}function Jq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iH(r.key),r)}}function Zq(e,t,n){return t=tH(t),function(e,t){if(t&&("object"===$q(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eH()?Reflect.construct(t,n||[],tH(e).constructor):t.apply(e,n))}function eH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eH=function(){return!!e})()}function tH(e){return tH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tH(e)}function nH(e,t){return nH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nH(e,t)}function rH(e,t,n){return(t=iH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iH(e){var t=function(e,t){if("object"!=$q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$q(t)?t:t+""}function aH(){return aH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aH.apply(this,arguments)}Gq(Xq,"displayName","XAxis"),Gq(Xq,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var oH=function(e){var t=e.yAxisId,n=UB(),i=BB(),a=FB(t);return null==a?null:r.createElement(Uq,aH({},a,{className:PS("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return vL(e,!0)}}))},sH=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zq(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nH(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(oH,this.props)}}])&&Jq(n.prototype,i),a&&Jq(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);rH(sH,"displayName","YAxis"),rH(sH,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var lH=Jz({chartName:"LineChart",GraphicalChild:mq,axisComponents:[{axisType:"xAxis",AxisComp:Xq},{axisType:"yAxis",AxisComp:sH}],formatAxisMap:function(e,t,n,r,i){var a=e.width,o=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},d=!!_k(l,tB);return c.reduce(function(a,o){var l,c,h,f,p,m=t[o],y=m.orientation,g=m.domain,v=m.padding,x=void 0===v?{}:v,b=m.mirror,w=m.reversed,j="".concat(y).concat(b?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var N=g[1]-g[0],S=1/0,k=m.categoricalDomain.sort(nk);if(k.forEach(function(e,t){t>0&&(S=Math.min((e||0)-(k[t-1]||0),S))}),Number.isFinite(S)){var E=S/N,_="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=E*_/2),"no-gap"===m.padding){var O=JS(e.barCategoryGap,E*_),A=E*_/2;l=A-O-(A-O)/_*O}}}c="xAxis"===r?[n.left+(x.left||0)+(l||0),n.left+n.width-(x.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(l||0),n.top+n.height-(x.bottom||0)-(l||0)]:m.range,w&&(c=[c[1],c[0]]);var T=wL(m,i,d),C=T.scale,I=T.realScaleType;C.domain(g).range(c),NL(C);var P=EL(C,aB(aB({},m),{},{realScaleType:I}));"xAxis"===r?(p="top"===y&&!b||"bottom"===y&&b,h=n.left,f=u[j]-p*m.height):"yAxis"===r&&(p="left"===y&&!b||"right"===y&&b,h=u[j]-p*m.width,f=n.top);var D=aB(aB(aB({},m),P),{},{realScaleType:I,x:h,y:f,scale:C,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return D.bandSize=PL(D,P),m.hide||"xAxis"!==r?m.hide||(u[j]+=(p?-1:1)*D.width):u[j]+=(p?-1:1)*D.height,aB(aB({},a),{},oB({},o,D))},{})}}),cH=["x1","y1","x2","y2","key"],uH=["offset"];function dH(e){return dH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dH(e)}function hH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hH(Object(n),!0).forEach(function(t){pH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pH(e,t,n){return t=function(e){var t=function(e,t){if("object"!=dH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dH(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mH(){return mH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mH.apply(this,arguments)}function yH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var gH=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return r.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vH(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(ak()(e))n=e(t);else{var i=t.x1,a=t.y1,o=t.x2,s=t.y2,l=t.key,c=yH(t,cH),u=Ck(c,!1),d=(u.offset,yH(u,uH));n=r.createElement("line",mH({},d,{x1:i,y1:a,x2:o,y2:s,fill:"none",key:l}))}return n}function xH(e){var t=e.x,n=e.width,i=e.horizontal,a=void 0===i||i,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var s=o.map(function(r,i){var o=fH(fH({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return vH(a,o)});return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function bH(e){var t=e.y,n=e.height,i=e.vertical,a=void 0===i||i,o=e.verticalPoints;if(!a||!o||!o.length)return null;var s=o.map(function(r,i){var o=fH(fH({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return vH(a,o)});return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function wH(e){var t=e.horizontalFill,n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?a+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return r.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:o,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function jH(e){var t=e.vertical,n=void 0===t||t,i=e.verticalFill,a=e.fillOpacity,o=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!i||!i.length)return null;var d=u.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==d[0]&&d.unshift(0);var h=d.map(function(e,t){var n=!d[t+1]?o+l-e:d[t+1]-e;if(n<=0)return null;var u=t%i.length;return r.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:c,stroke:"none",fill:i[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var NH=function(e,t){var n=e.xAxis,r=e.width,i=e.height,a=e.offset;return gL(Nq(fH(fH(fH({},Uq.defaultProps),n),{},{ticks:vL(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},SH=function(e,t){var n=e.yAxis,r=e.width,i=e.height,a=e.offset;return gL(Nq(fH(fH(fH({},Uq.defaultProps),n),{},{ticks:vL(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},kH={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function EH(e){var t,n,i,a,o,s,l=UB(),c=BB(),u=(0,r.useContext)(IB),d=fH(fH({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:kH.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:kH.fill,horizontal:null!==(i=e.horizontal)&&void 0!==i?i:kH.horizontal,horizontalFill:null!==(a=e.horizontalFill)&&void 0!==a?a:kH.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:kH.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:kH.verticalFill,x:YS(e.x)?e.x:u.left,y:YS(e.y)?e.y:u.top,width:YS(e.width)?e.width:u.width,height:YS(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,y=d.syncWithTicks,g=d.horizontalValues,v=d.verticalValues,x=function(){var e=(0,r.useContext)(AB);return ZS(e)}(),b=function(){var e=(0,r.useContext)(TB);return EB()(e,function(e){return TF()(e.domain,Number.isFinite)})||ZS(e)}();if(!YS(p)||p<=0||!YS(m)||m<=0||!YS(h)||h!==+h||!YS(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||NH,j=d.horizontalCoordinatesGenerator||SH,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&ak()(j)){var k=g&&g.length,E=j({yAxis:b?fH(fH({},b),{},{ticks:k?g:b.ticks}):void 0,width:l,height:c,offset:u},!!k||y);rk(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dH(E),"]")),Array.isArray(E)&&(N=E)}if((!S||!S.length)&&ak()(w)){var _=v&&v.length,O=w({xAxis:x?fH(fH({},x),{},{ticks:_?v:x.ticks}):void 0,width:l,height:c,offset:u},!!_||y);rk(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dH(O),"]")),Array.isArray(O)&&(S=O)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(gH,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),r.createElement(xH,mH({},d,{offset:u,horizontalPoints:N,xAxis:x,yAxis:b})),r.createElement(bH,mH({},d,{offset:u,verticalPoints:S,xAxis:x,yAxis:b})),r.createElement(wH,mH({},d,{horizontalPoints:N})),r.createElement(jH,mH({},d,{verticalPoints:S})))}EH.displayName="CartesianGrid";var _H=["points","className","baseLinePoints","connectNulls"];function OH(){return OH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OH.apply(this,arguments)}function AH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TH(e){return function(e){if(Array.isArray(e))return CH(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return CH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var IH=function(e){return e&&e.x===+e.x&&e.y===+e.y},PH=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){IH(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),IH(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce(function(e,t){return[].concat(TH(e),TH(t))},[])]);var r=n.map(function(e){return e.reduce(function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===n.length?"".concat(r,"Z"):r},DH=function(e){var t=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=AH(e,_H);if(!t||!t.length)return null;var s=PS("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&"none"!==o.stroke,c=function(e,t,n){var r=PH(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(PH(t.reverse(),n).slice(1))}(t,i,a);return r.createElement("g",{className:s},r.createElement("path",OH({},Ck(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",stroke:"none",d:c})),l?r.createElement("path",OH({},Ck(o,!0),{fill:"none",d:PH(t,a)})):null,l?r.createElement("path",OH({},Ck(o,!0),{fill:"none",d:PH(i,a)})):null)}var u=PH(t,a);return r.createElement("path",OH({},Ck(o,!0),{fill:"Z"===u.slice(-1)?o.fill:"none",className:s,d:u}))};function MH(e){return MH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MH(e)}function RH(){return RH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RH.apply(this,arguments)}function LH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LH(Object(n),!0).forEach(function(t){HH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WH(r.key),r)}}function BH(e,t,n){return t=zH(t),function(e,t){if(t&&("object"===MH(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,VH()?Reflect.construct(t,n||[],zH(e).constructor):t.apply(e,n))}function VH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(VH=function(){return!!e})()}function zH(e){return zH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zH(e)}function qH(e,t){return qH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qH(e,t)}function HH(e,t,n){return(t=WH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WH(e){var t=function(e,t){if("object"!=MH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MH(t)?t:t+""}var GH=Math.PI/180,KH=1e-5,YH=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),BH(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qH(e,t)}(t,e),n=t,i=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,a=t.orientation,o=t.tickSize||8,s=lF(n,r,i,e.coordinate),l=lF(n,r,i+("inner"===a?-1:1)*o,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*GH);return n>KH?"outer"===t?"start":"end":n<-KH?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,i=e.radius,a=e.axisLine,o=e.axisLineType,s=FH(FH({},Ck(this.props,!1)),{},{fill:"none"},Ck(a,!1));if("circle"===o)return r.createElement(bO,RH({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r:i}));var l=this.props.ticks.map(function(e){return lF(t,n,i,e.coordinate)});return r.createElement(DH,RH({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTicks",value:function(){var e=this,n=this.props,i=n.ticks,a=n.tick,o=n.tickLine,s=n.tickFormatter,l=n.stroke,c=Ck(this.props,!1),u=Ck(a,!1),d=FH(FH({},c),{},{fill:"none"},Ck(o,!1)),h=i.map(function(n,i){var h=e.getTickLineCoord(n),f=FH(FH(FH({textAnchor:e.getTickTextAnchor(n)},c),{},{stroke:"none",fill:l},u),{},{index:i,payload:n,x:h.x2,y:h.y2});return r.createElement(nE,RH({className:PS("recharts-polar-angle-axis-tick",fF(a)),key:"tick-".concat(n.coordinate)},yk(e.props,n,i)),o&&r.createElement("line",RH({className:"recharts-polar-angle-axis-tick-line"},d,h)),a&&t.renderTickItem(a,f,s?s(n.value,i):n.value))});return r.createElement(nE,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,i=e.axisLine;return n<=0||!t||!t.length?null:r.createElement(nE,{className:PS("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],a=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):ak()(e)?e(t):r.createElement(tC,RH({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],i&&UH(n.prototype,i),a&&UH(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);HH(YH,"displayName","PolarAngleAxis"),HH(YH,"axisType","angleAxis"),HH(YH,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var QH=n(2794),XH=n.n(QH),$H=n(9364),JH=n.n($H),ZH=["cx","cy","angle","ticks","axisLine"],eW=["ticks","tick","angle","tickFormatter","stroke"];function tW(e){return tW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tW(e)}function nW(){return nW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nW.apply(this,arguments)}function rW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rW(Object(n),!0).forEach(function(t){dW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hW(r.key),r)}}function sW(e,t,n){return t=cW(t),function(e,t){if(t&&("object"===tW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lW()?Reflect.construct(t,n||[],cW(e).constructor):t.apply(e,n))}function lW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lW=function(){return!!e})()}function cW(e){return cW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cW(e)}function uW(e,t){return uW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uW(e,t)}function dW(e,t,n){return(t=hW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hW(e){var t=function(e,t){if("object"!=tW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tW(t)?t:t+""}var fW,pW=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sW(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uW(e,t)}(t,e),n=t,i=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,a=n.cy;return lF(i,a,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,a=XH()(i,function(e){return e.coordinate||0});return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:JH()(i,function(e){return e.coordinate||0}).coordinate||0,outerRadius:a.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,i=e.angle,a=e.ticks,o=e.axisLine,s=aW(e,ZH),l=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),c=lF(t,n,l[0],i),u=lF(t,n,l[1],i),d=iW(iW(iW({},Ck(s,!1)),{},{fill:"none"},Ck(o,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return r.createElement("line",nW({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,n=this.props,i=n.ticks,a=n.tick,o=n.angle,s=n.tickFormatter,l=n.stroke,c=aW(n,eW),u=this.getTickTextAnchor(),d=Ck(c,!1),h=Ck(a,!1),f=i.map(function(n,i){var c=e.getTickValueCoord(n),f=iW(iW(iW(iW({textAnchor:u,transform:"rotate(".concat(90-o,", ").concat(c.x,", ").concat(c.y,")")},d),{},{stroke:"none",fill:l},h),{},{index:i},c),{},{payload:n});return r.createElement(nE,nW({className:PS("recharts-polar-radius-axis-tick",fF(a)),key:"tick-".concat(n.coordinate)},yk(e.props,n,i)),t.renderTickItem(a,f,s?s(n.value,i):n.value))});return r.createElement(nE,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,i=e.tick;return t&&t.length?r.createElement(nE,{className:PS("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),i&&this.renderTicks(),SF.renderCallByParent(this.props,this.getViewBox())):null}}],a=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):ak()(e)?e(t):r.createElement(tC,nW({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],i&&oW(n.prototype,i),a&&oW(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function mW(e){return mW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mW(e)}function yW(){return yW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yW.apply(this,arguments)}function gW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gW(Object(n),!0).forEach(function(t){SW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kW(r.key),r)}}function bW(e,t,n){return t=jW(t),function(e,t){if(t&&("object"===mW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wW()?Reflect.construct(t,n||[],jW(e).constructor):t.apply(e,n))}function wW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wW=function(){return!!e})()}function jW(e){return jW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jW(e)}function NW(e,t){return NW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NW(e,t)}function SW(e,t,n){return(t=kW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kW(e){var t=function(e,t){if("object"!=mW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mW(t)?t:t+""}dW(pW,"displayName","PolarRadiusAxis"),dW(pW,"axisType","radiusAxis"),dW(pW,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var EW=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),SW(n=bW(this,t,[e]),"pieRef",null),SW(n,"sectorRefs",[]),SW(n,"id",$S("recharts-pie-")),SW(n,"handleAnimationEnd",function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ak()(e)&&e()}),SW(n,"handleAnimationStart",function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ak()(e)&&e()}),n.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NW(e,t)}(t,e),n=t,i=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.label,a=n.labelLine,o=n.dataKey,s=n.valueKey,l=Ck(this.props,!1),c=Ck(i,!1),u=Ck(a,!1),d=i&&i.offsetRadius||20,h=e.map(function(e,n){var h=(e.startAngle+e.endAngle)/2,f=lF(e.cx,e.cy,e.outerRadius+d,h),p=vW(vW(vW(vW({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:t.getTextAnchor(f.x,e.cx)},f),m=vW(vW(vW(vW({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[lF(e.cx,e.cy,e.outerRadius,h),f]}),y=o;return WS()(o)&&WS()(s)?y="value":WS()(o)&&(y=s),r.createElement(nE,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},a&&t.renderLabelLineItem(a,m,"line"),t.renderLabelItem(i,p,dL(e,y)))});return r.createElement(nE,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,i=n.activeShape,a=n.blendStroke,o=n.inactiveShape;return e.map(function(n,s){if(0===(null===n||void 0===n?void 0:n.startAngle)&&0===(null===n||void 0===n?void 0:n.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(s),c=o&&t.hasActiveIndex()?o:null,u=l?i:c,d=vW(vW({},n),{},{stroke:a?n.fill:n.stroke,tabIndex:-1});return r.createElement(nE,yW({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},yk(t.props,n,s),{key:"sector-".concat(null===n||void 0===n?void 0:n.startAngle,"-").concat(null===n||void 0===n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(s)}),r.createElement(NU,yW({option:u,isActive:l,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,i=t.isAnimationActive,a=t.animationBegin,o=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state,u=c.prevSectors,d=c.prevIsAnimationActive;return r.createElement(QA,{begin:a,duration:o,isActive:i,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var i=t.t,a=[],o=(n&&n[0]).startAngle;return n.forEach(function(e,t){var n=u&&u[t],r=t>0?VS()(e,"paddingAngle",0):0;if(n){var s=ek(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=vW(vW({},e),{},{startAngle:o+r,endAngle:o+s(i)+r});a.push(l),o=l.endAngle}else{var c=e.endAngle,d=e.startAngle,h=ek(0,c-d)(i),f=vW(vW({},e),{},{startAngle:o+r,endAngle:o+h+r});a.push(f),o=f.endAngle}}),r.createElement(nE,null,e.renderSectorsStatically(a))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&uR()(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,i=t.sectors,a=t.className,o=t.label,s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.isAnimationActive,h=this.state.isAnimationFinished;if(n||!i||!i.length||!YS(s)||!YS(l)||!YS(c)||!YS(u))return null;var f=PS("recharts-pie",a);return r.createElement(nE,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(i),SF.renderCallByParent(this.props,null,!1),(!d||h)&&WF.renderCallByParent(this.props,i,!1))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(r.isValidElement(e))return r.cloneElement(e,t);if(ak()(e))return e(t);var i=PS("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return r.createElement(iz,yW({},t,{key:n,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(e,t,n){if(r.isValidElement(e))return r.cloneElement(e,t);var i=n;if(ak()(e)&&(i=e(t),r.isValidElement(i)))return i;var a=PS("recharts-pie-label-text","boolean"===typeof e||ak()(e)?"":e.className);return r.createElement(tC,yW({},t,{alignmentBaseline:"middle",className:a}),i)}}],i&&xW(n.prototype,i),a&&xW(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);fW=EW,SW(EW,"displayName","Pie"),SW(EW,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!AE.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),SW(EW,"parseDeltaAngle",function(e,t){return GS(t-e)*Math.min(Math.abs(t-e),360)}),SW(EW,"getRealPieData",function(e){var t=e.data,n=e.children,r=Ck(e,!1),i=Ek(n,CF);return t&&t.length?t.map(function(e,t){return vW(vW(vW({payload:e},r),e),i&&i[t]&&i[t].props)}):i&&i.length?i.map(function(e){return vW(vW({},r),e.props)}):[]}),SW(EW,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,o=cF(i,a);return{cx:r+JS(e.cx,i,i/2),cy:n+JS(e.cy,a,a/2),innerRadius:JS(e.innerRadius,o,0),outerRadius:JS(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(i*i+a*a)/2}}),SW(EW,"getComposedData",function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?vW(vW({},t.type.defaultProps),t.props):t.props,i=fW.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,h=r.tooltipType,f=Math.abs(r.minAngle),p=fW.parseCoordinateOfPie(r,n),m=fW.parseDeltaAngle(o,s),y=Math.abs(m),g=c;WS()(c)&&WS()(d)?(rk(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g="value"):WS()(c)&&(rk(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g=d);var v,x,b=i.filter(function(e){return 0!==dL(e,g,0)}).length,w=y-b*f-(y>=360?b:b-1)*l,j=i.reduce(function(e,t){var n=dL(t,g,0);return e+(YS(n)?n:0)},0);j>0&&(v=i.map(function(e,t){var n,r=dL(e,g,0),i=dL(e,u,t),s=(YS(r)?r:0)/j,c=(n=t?x.endAngle+GS(m)*l*(0!==r?1:0):o)+GS(m)*((0!==r?f:0)+s*w),d=(n+c)/2,y=(p.innerRadius+p.outerRadius)/2,v=[{name:i,value:r,payload:e,dataKey:g,type:h}],b=lF(p.cx,p.cy,y,d);return x=vW(vW(vW({percent:s,cornerRadius:a,name:i,tooltipPayload:v,midAngle:d,middleRadius:y,tooltipPosition:b},e),p),{},{value:dL(e,g),startAngle:n,endAngle:c,payload:e,paddingAngle:GS(m)*l})}));return vW(vW({},p),{},{sectors:v,data:i})});var _W=Jz({chartName:"PieChart",GraphicalChild:EW,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:YH},{axisType:"radiusAxis",AxisComp:pW}],formatAxisMap:function(e,t,n,r,i){var a=e.width,o=e.height,s=e.startAngle,l=e.endAngle,c=JS(e.cx,a,a/2),u=JS(e.cy,o,o/2),d=cF(a,o,n),h=JS(e.innerRadius,d,0),f=JS(e.outerRadius,d,.8*d);return Object.keys(t).reduce(function(e,n){var a,o=t[n],d=o.domain,p=o.reversed;if(WS()(o.range))"angleAxis"===r?a=[s,l]:"radiusAxis"===r&&(a=[h,f]),p&&(a=[a[1],a[0]]);else{var m=iF(a=o.range,2);s=m[0],l=m[1]}var y=wL(o,i),g=y.realScaleType,v=y.scale;v.domain(d).range(a),NL(v);var x=EL(v,nF(nF({},o),{},{realScaleType:g})),b=nF(nF(nF({},o),x),{},{range:a,radius:f,realScaleType:g,scale:v,cx:c,cy:u,innerRadius:h,outerRadius:f,startAngle:s,endAngle:l});return nF(nF({},e),{},rF({},n,b))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const OW=()=>{const{userData:e}=Pw(),{journalEntries:t}=wj(),[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(0),[d,h]=(0,r.useState)(0),[f,p]=(0,r.useState)(7),m=[{title:"Self-Assessment",description:"Quick mental health self-check",icon:CS,color:"bg-pink-500",href:"/assessment",tooltip:"Take PHQ-9, GAD-7, or GHQ-12 self-check"},{title:"Chat with AI",description:"Get immediate support and guidance",icon:Aj,color:"bg-blue-500",href:"/chatbot",tooltip:"Open the AI assistant for instant help"},{title:"Book Session",description:"Schedule with a counsellor",icon:Tj,color:"bg-green-500",href:"/booking",tooltip:"Reserve time with a counsellor"},{title:"Peer Forum",description:"Connect with other students",icon:Cj,color:"bg-purple-500",href:"/forum",tooltip:"Discuss with peers in the forum"}],y=[{title:"Mood Score",value:null!==s?s.toFixed(1):"-",change:"",changeType:"positive",icon:Qj,color:"text-green-600"},{title:"Journal Entries",value:((null===t||void 0===t?void 0:t.length)||0).toString(),change:"",changeType:"positive",icon:Pj,color:"text-blue-600"},{title:"Chat Sessions",value:c.toString(),change:"",changeType:"positive",icon:Aj,color:"text-purple-600"},{title:"Resources Viewed",value:d.toString(),change:"",changeType:"positive",icon:Ij,color:"text-orange-600"}];(0,r.useEffect)(()=>{if(null===e||void 0===e||!e.uid)return;(e=>{const t=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},n=new Date,r=f,i=Array.from({length:r}).map((e,t)=>{const i=new Date(n);return i.setHours(0,0,0,0),i.setDate(n.getDate()-(r-1-t)),i}),a=new Map;e.slice().sort((e,t)=>{var n,r,i,a;const o=null!==(n=e.createdAt)&&void 0!==n?n:e.timestamp,s=null!==(r=t.createdAt)&&void 0!==r?r:t.timestamp,l=(null===o||void 0===o||null===(i=o.toDate)||void 0===i?void 0:i.call(o))||new Date(o||0);return((null===s||void 0===s||null===(a=s.toDate)||void 0===a?void 0:a.call(s))||new Date(s||0))-l}).forEach(e=>{var n,r;const i=null!==(n=e.createdAt)&&void 0!==n?n:e.timestamp,o=(null===i||void 0===i||null===(r=i.toDate)||void 0===r?void 0:r.call(i))||new Date(i||Date.now()),s=t(o);a.has(s)||a.set(s,e)});const s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c=i.map(e=>{const n=t(e),r=a.get(n);if(!r)return{name:s[e.getDay()],mood:null,note:null,date:e};let i;"number"===typeof r.mood?i=r.mood:"number"===typeof r.score?i=r.score:null!=r.mood?i=Number(r.mood):null!=r.score&&(i=Number(r.score));const o=Number.isFinite(i)?i:null,l=r.note||r.content||null;return{name:s[e.getDay()],mood:null!=o?Number(Number(o).toFixed(1)):null,note:l,date:e}});o(c);const u=c.map(e=>e.mood).filter(e=>null!=e);l(u.length?u.reduce((e,t)=>e+t,0)/u.length:null)})(t||[])},[null===e||void 0===e?void 0:e.uid,t,f]),(0,r.useEffect)(()=>{if(null===e||void 0===e||!e.uid)return;const n=e.uid,r=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.error,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return Yx(jx(Pv(jw,zw),Sx("userId","==",e),_x("createdAt","desc"),Ax(r)),e=>{const n=[];e.forEach(e=>n.push(Re({id:e.id},e.data()))),t(n)},e=>n(e))}(n,e=>{u(e.length);const t=e.slice(0,5).map(e=>{var t,n,r,i,a,o,s,l;return{id:"chat-".concat(e.id),type:"chat",message:"Completed a chat session with AI",time:((null===(t=e.lastMessageAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||(null===(r=e.createdAt)||void 0===r||null===(i=r.toDate)||void 0===i?void 0:i.call(r))||new Date).toLocaleString(),icon:Aj,createdAt:(null===(a=e.lastMessageAt)||void 0===a||null===(o=a.toDate)||void 0===o?void 0:o.call(a))||(null===(s=e.createdAt)||void 0===s||null===(l=s.toDate)||void 0===l?void 0:l.call(s))||new Date}});i(e=>{const n=e.filter(e=>!String(e.id).startsWith("chat-")),r=[...n,...t];return r.sort((e,t)=>t.createdAt-e.createdAt),r.slice(0,10)})},e=>{console.error("Chat sessions subscription error",e)}),a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.error,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;return Yx(jx(Pv(jw,Gw),Sx("userId","==",e),_x("createdAt","desc"),Ax(r)),e=>{const n=[];e.forEach(e=>n.push(Re({id:e.id},e.data()))),t(n)},e=>n(e))}(n,e=>{h(e.length);const t=e.slice(0,5).map(e=>{var t,n,r,i,a,o,s,l;return{id:"res-".concat(e.id),type:"resource",message:"Viewed ".concat(e.title||"a resource"),time:((null===(t=e.viewedAt)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||(null===(r=e.createdAt)||void 0===r||null===(i=r.toDate)||void 0===i?void 0:i.call(r))||new Date).toLocaleString(),icon:Ij,createdAt:(null===(a=e.viewedAt)||void 0===a||null===(o=a.toDate)||void 0===o?void 0:o.call(a))||(null===(s=e.createdAt)||void 0===s||null===(l=s.toDate)||void 0===l?void 0:l.call(s))||new Date}});i(e=>{const n=e.filter(e=>!String(e.id).startsWith("res-")),r=[...n,...t];return r.sort((e,t)=>t.createdAt-e.createdAt),r.slice(0,10)})},e=>{console.error("Resources viewed subscription error",e)});if(t&&t.length){const e=3,n=t.slice(0,e).map(e=>{var t,n,r,i,a,o;return{id:"journal-".concat(e.id),type:"journal",message:"Added a new journal entry ".concat(g("number"===typeof e.mood?e.mood:"number"===typeof e.score?e.score:Number(null!==(t=e.mood)&&void 0!==t?t:e.score)))+"".concat("number"===typeof e.mood||"number"===typeof e.score||null!=e.mood||null!=e.score?" (".concat(Number("number"===typeof e.mood?e.mood:"number"===typeof e.score?e.score:Number(null!==(n=e.mood)&&void 0!==n?n:e.score)).toFixed(0),"/10)"):""),time:((null===(r=e.createdAt)||void 0===r||null===(i=r.toDate)||void 0===i?void 0:i.call(r))||new Date).toLocaleString(),icon:Pj,createdAt:(null===(a=e.createdAt)||void 0===a||null===(o=a.toDate)||void 0===o?void 0:o.call(a))||new Date}});i(e=>{const t=e.filter(e=>!String(e.id).startsWith("journal-")),r=[...t,...n];return r.sort((e,t)=>t.createdAt-e.createdAt),r.slice(0,10)})}return()=>{r&&r(),a&&a()}},[null===e||void 0===e?void 0:e.uid,t]);const g=e=>null==e?"\ud83d\ude42":e>=7?"\ud83d\ude0a":e>=4?"\ud83d\ude10":"\ud83d\ude1f",v=(()=>{const e=a.map(e=>e.mood).filter(e=>null!=e),t=e.length||1,n=e.filter(e=>e>=7).length,r=e.filter(e=>e>=4&&e<=6).length,i=e.filter(e=>e<=3).length;return[{name:"Low",value:Math.round(n/t*100),color:"#10B981"},{name:"Medium",value:Math.round(r/t*100),color:"#F59E0B"},{name:"High",value:Math.round(i/t*100),color:"#EF4444"}]})();return(0,Cw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsxs)("div",{className:"mb-8",children:[(0,Cw.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:[(()=>{const e=(new Date).getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"})(),", ",(null===e||void 0===e?void 0:e.displayName)||"Student","!"]}),(0,Cw.jsx)("p",{className:"text-gray-600 mt-2",children:"Welcome to your mental health dashboard. Here's an overview of your progress and available resources."})]}),(0,Cw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:y.map((e,t)=>{const n=e.icon;return(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value}),(0,Cw.jsx)("p",{className:"text-sm ".concat("positive"===e.changeType?"text-green-600":"text-red-600"),children:e.change})]}),(0,Cw.jsx)("div",{className:"p-3 rounded-full ".concat(e.color.replace("text-","bg-").replace("-600","-100")),children:(0,Cw.jsx)(n,{className:"w-6 h-6 ".concat(e.color)})})]})},t)})}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Cw.jsx)("div",{className:"lg:col-span-1",children:(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,Cw.jsx)("div",{className:"space-y-3",children:m.map((e,t)=>{const n=e.icon;return(0,Cw.jsxs)("a",{href:e.href,className:"flex items-center p-3 rounded-lg border border-gray-200 hover:border-primary-300 hover:bg-primary-50 transition-colors",children:[(0,Cw.jsx)("div",{className:"p-2 rounded-lg ".concat(e.color," mr-3"),title:e.tooltip,children:(0,Cw.jsx)(n,{className:"w-5 h-5 text-white"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]},t)})}),(0,Cw.jsx)("div",{className:"mt-4",children:(0,Cw.jsx)("a",{href:"/journal",className:"btn-secondary",children:"View Journal Insights"})})]})}),(0,Cw.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Mood Trends"}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsx)("button",{className:"px-3 py-1 text-sm rounded border ".concat(7===f?"bg-primary-50 border-primary-300 text-primary-700":"border-gray-200 text-gray-700"),onClick:()=>p(7),children:"Last 7 Days"}),(0,Cw.jsx)("button",{className:"px-3 py-1 text-sm rounded border ".concat(30===f?"bg-primary-50 border-primary-300 text-primary-700":"border-gray-200 text-gray-700"),onClick:()=>p(30),children:"Last 30 Days"})]})]}),a.every(e=>null==e.mood)?(0,Cw.jsxs)("div",{className:"py-10 text-center text-gray-600",children:[(0,Cw.jsx)("div",{className:"mb-3",children:(0,Cw.jsx)(Qj,{className:"w-10 h-10 text-gray-300 inline"})}),(0,Cw.jsx)("div",{children:"No moods logged yet! Try adding your first journal entry."})]}):(0,Cw.jsx)(zk,{width:"100%",height:220,children:(0,Cw.jsxs)(lH,{data:a,children:[(0,Cw.jsx)(EH,{strokeDasharray:"3 3"}),(0,Cw.jsx)(Xq,{dataKey:"name"}),(0,Cw.jsx)(sH,{domain:[0,10],allowDecimals:!1}),(0,Cw.jsx)(HE,{content:e=>{let{active:t,payload:n,label:r}=e;if(t&&n&&n.length){var i;const e=null===(i=n[0])||void 0===i?void 0:i.payload;return null==(null===e||void 0===e?void 0:e.mood)?null:(0,Cw.jsxs)("div",{className:"p-2 bg-white rounded border text-sm",children:[(0,Cw.jsx)("div",{className:"font-medium",children:r}),(0,Cw.jsxs)("div",{children:["Mood: ",e.mood]}),e.note?(0,Cw.jsxs)("div",{children:["Note: ",e.note]}):null]})}return null}}),(0,Cw.jsx)(mq,{type:"monotone",dataKey:"mood",stroke:"#3B82F6",strokeWidth:2,dot:e=>{const{cx:t,cy:n,value:r,payload:i}=e;if(null==r)return null;let a="#3B82F6";return a=r>7?"#10B981":r>=4?"#F59E0B":"#EF4444",null!==i&&void 0!==i&&i.date&&(e=>{const t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()})(new Date(i.date))&&(a="#8B5CF6"),(0,Cw.jsx)("circle",{cx:t,cy:n,r:6,stroke:"#fff",strokeWidth:2,fill:a})},label:e=>{const{x:t,y:n,value:r}=e;return null==r?null:(0,Cw.jsx)("text",{x:t,y:n-10,textAnchor:"middle",fontSize:12,fill:"#374151",children:"".concat(r,"/10")})},connectNulls:!1,isAnimationActive:!1}),null!=s&&(0,Cw.jsx)(mq,{type:"monotone",dataKey:"avg",stroke:"#9CA3AF",strokeDasharray:"4 4",isAnimationActive:!1,dot:!1,connectNulls:!0,data:a.map(e=>Re(Re({},e),{},{avg:Number(s.toFixed(1))}))})]})})]}),(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stress Level Distribution"}),(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsx)(zk,{width:"60%",height:150,children:(0,Cw.jsxs)(_W,{children:[(0,Cw.jsx)(EW,{data:v,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,dataKey:"value",children:v.map((e,t)=>(0,Cw.jsx)(CF,{fill:e.color},"cell-".concat(t)))}),(0,Cw.jsx)(HE,{})]})}),(0,Cw.jsx)("div",{className:"space-y-2",children:v.map((e,t)=>(0,Cw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cw.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,Cw.jsxs)("span",{className:"text-sm text-gray-600",children:[e.name,": ",e.value,"%"]})]},t))})]})]})]})]}),(0,Cw.jsx)("div",{className:"mt-8",children:(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),(0,Cw.jsx)("div",{className:"space-y-3",children:n.slice(0,3).map(e=>{const t=e.icon;return(0,Cw.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-gray-50",children:[(0,Cw.jsx)("div",{className:"p-2 bg-white rounded-lg",children:(0,Cw.jsx)(t,{className:"w-4 h-4 text-gray-600"})}),(0,Cw.jsxs)("div",{className:"flex-1",children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.message}),(0,Cw.jsx)("p",{className:"text-xs text-gray-500",children:e.time})]})]},e.id)})}),n.length>3&&(0,Cw.jsx)("div",{className:"mt-3 text-right",children:(0,Cw.jsx)("a",{href:"/journal",className:"text-sm text-primary-700 hover:underline",children:"View all in Journal"})})]})}),(0,Cw.jsx)("div",{className:"mt-8",children:(0,Cw.jsx)("div",{className:"card bg-gradient-to-r from-primary-50 to-secondary-50",children:(0,Cw.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Cw.jsx)("div",{className:"p-3 bg-primary-100 rounded-lg",children:(0,Cw.jsx)(Qj,{className:"w-6 h-6 text-primary-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Today's Wellness Tip"}),(0,Cw.jsx)("p",{className:"text-gray-700 mb-3",children:"Take a 5-minute break every hour to practice deep breathing. This simple technique can help reduce stress and improve focus throughout your day."}),(0,Cw.jsx)("button",{className:"text-primary-600 hover:text-primary-700 font-medium text-sm",children:"Learn more breathing techniques \u2192"})]})]})})})]})},AW=_j("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),TW=_j("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),CW=_j("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),IW=()=>{const{user:e}=Pw(),[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)(""),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),p=(0,r.useRef)(null);(0,r.useEffect)(()=>{(()=>{const e=p.current;e&&(e.scrollTop=e.scrollHeight)})()},[t]),(0,r.useEffect)(()=>{e&&(async()=>{try{const t=await dj({userId:e.uid,type:"ai_chatbot",status:"active"});if(t.success&&!h){c(t.id);const e={id:"welcome",text:"Hello! I'm your AI mental health assistant. I'm here to provide support and guidance.\n\nHere are some helpful things to get you started:\n\n\u2022 General support and tips for mental well-being\n\n\u2022 Crisis resources if you ever feel unsafe or in distress\n\n\u2022 Regular check-ins to help you stay on track\n\n\nHow are you feeling today?",sender:"bot",timestamp:new Date,type:"welcome",suggestions:["I feel stressed","I feel sad","I have sleep issues","I need help"]};n([e]),f(!0)}}catch(t){console.error("Error initializing chat session:",t),$t.error("Failed to initialize chat session")}})()},[e,h]);const m=async()=>{if(!i.trim()||!l)return;const r={id:Date.now().toString(),text:i,sender:"user",timestamp:new Date};n(e=>[...e,r]),a(""),s(!0),d(!0);try{var o,c;await hj({sessionId:l,text:i,sender:"user",userId:e.uid});const r=await fetch("https://mindly-production.up.railway.app/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:i,userId:e.uid,session_id:l})}),a=await r.json();let u=a.ai_reply,h=(null===(o=a.sentiment)||void 0===o?void 0:o.recommendations)||[];t.some(e=>"welcome"===e.type)&&(u=u.replace(/General support[^]*|Provide resources[^]*|Regular check-ins[^]*/g,"").trim(),h=h.filter(e=>!["General support and monitoring","Provide resources for future reference","Regular check-ins recommended"].includes(e)));const f={id:(Date.now()+1).toString(),text:u,sender:"bot",timestamp:new Date,type:(null===(c=a.sentiment)||void 0===c?void 0:c.label)||"general",suggestions:h};n(e=>[...e,f]),await hj({sessionId:l,text:f.text,sender:"bot",userId:e.uid,messageType:f.type}),s(!1),d(!1)}catch(u){console.error("Error sending message:",u),$t.error("Failed to send message"),s(!1),d(!1)}};return(0,Cw.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsxs)("div",{className:"card h-[600px] flex flex-col",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-3 p-4 border-b border-gray-200",children:[(0,Cw.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg",children:(0,Cw.jsx)(AW,{className:"w-6 h-6 text-primary-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"AI Mental Health Assistant"}),(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Available 24/7 for support and guidance"})]}),(0,Cw.jsxs)("div",{className:"ml-auto flex items-center space-x-2",children:[(0,Cw.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Cw.jsx)("span",{className:"text-sm text-gray-600",children:"Online"})]})]}),(0,Cw.jsxs)("div",{ref:p,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.map(e=>(0,Cw.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,Cw.jsx)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat("user"===e.sender?"bg-primary-600 text-white":"bg-gray-200 text-gray-800"),children:(0,Cw.jsxs)("div",{className:"flex items-start space-x-2",children:["bot"===e.sender&&(0,Cw.jsx)(AW,{className:"w-4 h-4 mt-1 flex-shrink-0"}),(0,Cw.jsxs)("div",{className:"flex-1",children:[(0,Cw.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.text}),e.suggestions&&(0,Cw.jsx)("div",{className:"mt-3 space-y-2",children:e.suggestions.map((e,t)=>(0,Cw.jsx)("button",{onClick:()=>(e=>{a(e)})(e),className:"block w-full text-left px-3 py-2 bg-white bg-opacity-20 rounded-lg text-sm hover:bg-opacity-30 transition-colors",children:e},t))})]})]})})},e.id)),u&&(0,Cw.jsx)("div",{className:"flex justify-start",children:(0,Cw.jsx)("div",{className:"bg-gray-200 text-gray-800 max-w-xs lg:max-w-md px-4 py-2 rounded-lg",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cw.jsx)(AW,{className:"w-4 h-4"}),(0,Cw.jsxs)("div",{className:"flex space-x-1",children:[(0,Cw.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),(0,Cw.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,Cw.jsx)("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})})]}),(0,Cw.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,Cw.jsxs)("div",{className:"flex space-x-2",children:[(0,Cw.jsx)("div",{className:"flex-1 relative",children:(0,Cw.jsx)("textarea",{value:i,onChange:e=>a(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},placeholder:"Type your message here...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",rows:2,disabled:o})}),(0,Cw.jsx)("button",{onClick:m,disabled:!i.trim()||o,className:"btn-primary px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,Cw.jsx)(Wj,{className:"w-5 h-5 animate-spin"}):(0,Cw.jsx)(TW,{className:"w-5 h-5"})})]})})]}),(0,Cw.jsx)("div",{className:"mt-6 card bg-red-50 border-red-200",children:(0,Cw.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Cw.jsx)(CW,{className:"w-5 h-5 text-red-600 mt-0.5"}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h3",{className:"font-semibold text-red-900",children:"Crisis Support"}),(0,Cw.jsx)("p",{className:"text-sm text-red-700 mt-1",children:"If you're in immediate danger or having thoughts of self-harm, please reach out for help:"})]})]})})]})},PW=_j("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),DW=_j("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),MW=["fuck","shit","damn","bitch","ass","bastard","kill myself","suicide","end it all","want to die","idiot","stupid","moron","loser"],RW=["kill myself","suicide","want to die","end it all","hurt myself","self harm","cut myself","overdose","pills","bridge","rope","gun","knife","blade","razor","not worth living"],LW=[/\b\d{3}[-.]?\d{3}[-.]?\d{4}\b/,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/,/@[A-Za-z0-9_]+/,/https?:\/\/[^\s]+/],FW=e=>e.hasInappropriateContent||e.hasCrisisContent||e.hasPersonalInfo,UW=()=>{const{user:e}=Pw(),[t,n]=(0,r.useState)("idle"),[i,a]=(0,r.useState)(null),[o,s]=(0,r.useState)([]),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),[y,g]=(0,r.useState)(!1),v=(0,r.useRef)(null),x=(0,r.useRef)(null),b=(0,r.useRef)(!0);(0,r.useEffect)(()=>{u||d((()=>{const e=["Blue","Green","Purple","Orange","Pink","Yellow","Red","Teal"],t=["Tiger","Eagle","Wolf","Fox","Bear","Lion","Owl","Deer","Cat","Dog"],n=e[Math.floor(Math.random()*e.length)],r=t[Math.floor(Math.random()*t.length)],i=Math.floor(100*Math.random());return"".concat(n).concat(r).concat(i)})())},[u]),(0,r.useEffect)(()=>{if(null===e||void 0===e||!e.uid)return;const r=Yx(jx(Pv(jw,Yw),Sx("participants","array-contains",e.uid),Sx("active","==",!0)),r=>{if(r.empty)a(null),"connected"===t&&(n("idle"),s([]),f(""),$t.success("Chat ended. You can start a new one!"));else{const t=r.docs[0],i=Re({id:t.id},t.data());if(i.active){a(i),n("connected");const t=i.participants.find(t=>t!==e.uid),r=i.aliases[t];r&&f(r)}else a(null),n("idle"),s([]),f("")}},e=>{console.error("Error listening to matches:",e),"permission-denied"===e.code?$t.error("Permission denied. Please check your authentication."):"unavailable"===e.code&&$t.error("Connection lost. Trying to reconnect...")});return()=>r()},[null===e||void 0===e?void 0:e.uid,t]),(0,r.useEffect)(()=>{if(null===i||void 0===i||!i.id)return;const e=Yx(jx(Pv(jw,"".concat(Yw,"/").concat(i.id,"/messages")),_x("timestamp","asc"),Ax(50)),e=>{const t=[];e.forEach(e=>{t.push(Re({id:e.id},e.data()))}),s(t)},e=>{console.error("Error listening to messages:",e),"permission-denied"===e.code&&$t.error("Cannot access messages. Please try reconnecting.")});return()=>e()},[null===i||void 0===i?void 0:i.id]),(0,r.useEffect)(()=>{if(null===i||void 0===i||!i.id||null===e||void 0===e||!e.uid)return;const t=i.participants.find(t=>t!==e.uid);if(!t)return;const n=Yx(Dv(jw,"".concat(Yw,"/").concat(i.id,"/typing"),t),e=>{if(e.exists()){const t=e.data(),n=t.timestamp&&Date.now()-t.timestamp.toMillis()<5e3;g(t.isTyping&&n)}else g(!1)},e=>{console.warn("Error listening to typing status:",e),g(!1)});return()=>n()},[null===i||void 0===i?void 0:i.id,null===e||void 0===e?void 0:e.uid]),(0,r.useEffect)(()=>{if(!x.current||0===o.length)return;const e=x.current;(e.scrollHeight-e.scrollTop-e.clientHeight<100||b.current||1===o.length)&&(e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),b.current=!1)},[o]);(0,r.useEffect)(()=>()=>{v.current&&clearTimeout(v.current),null!==i&&void 0!==i&&i.id&&null!==e&&void 0!==e&&e.uid&&k(!1).catch(console.warn)},[null===i||void 0===i?void 0:i.id,null===e||void 0===e?void 0:e.uid]);const w=async()=>{if(null!==e&&void 0!==e&&e.uid)if(u)try{n("searching");const r=3;let i=0;for(;i<r;)try{await Hx(Dv(jw,Kw,e.uid),{userId:e.uid,alias:u,timestamp:eb(),looking:!0});break}catch(t){if(i++,i===r)throw t;await new Promise(e=>setTimeout(e,1e3))}await j()}catch(r){console.error("Error starting search:",r),"permission-denied"===r.code?$t.error("You don't have permission to use the chat system"):"unavailable"===r.code?$t.error("Chat service is temporarily unavailable. Please try again."):$t.error("Failed to start searching. Please check your connection."),n("idle")}else $t.error("Generating your chat alias...");else $t.error("Please log in to start chatting")},j=async()=>{try{const i=jx(Pv(jw,Kw),Sx("looking","==",!0),Ax(10)),a=await qx(i);let o=null;if(a.forEach(t=>{const n=t.data();n.userId===e.uid||o||(o=n)}),o)try{await Kx(Pv(jw,Yw),{participants:[e.uid,o.userId],aliases:{[e.uid]:u,[o.userId]:o.alias},createdAt:eb(),active:!0});try{await Gx(Dv(jw,Kw,e.uid)),await Gx(Dv(jw,Kw,o.userId))}catch(n){console.warn("Queue cleanup error:",n)}return void $t.success("Match found! Start chatting!")}catch(r){console.warn("Match creation error:",r)}"searching"===t&&setTimeout(j,2e3)}catch(i){console.error("Matching error:",i),"searching"===t&&setTimeout(j,3e3)}},N=async()=>{try{await Gx(Dv(jw,Kw,e.uid)),n("idle"),$t.info("Stopped searching for match")}catch(t){console.error("Error stopping search:",t),n("idle"),$t.warn("Stopped searching (connection error)")}},S=async()=>{if(!l.trim()||null===i||void 0===i||!i.id)return;const t=l.trim(),n=(e=>{const t=[];if(!e||"string"!==typeof e)return t.push("Message must be a valid string"),{isValid:!1,errors:t};const n=e.trim();return 0===n.length&&t.push("Message cannot be empty"),n.length>1e3&&t.push("Message must be less than 1000 characters"),n.length<1&&t.push("Message must be at least 1 character"),{isValid:0===t.length,errors:t}})(t);if(!n.isValid)return void $t.error(n.errors[0]);const r=(e=>{const t=e.toLowerCase(),n={hasInappropriateContent:!1,hasCrisisContent:!1,hasPersonalInfo:!1,flaggedWords:[],crisisKeywords:[],personalInfoFound:[]};return MW.forEach(e=>{t.includes(e.toLowerCase())&&(n.hasInappropriateContent=!0,n.flaggedWords.push(e))}),RW.forEach(e=>{t.includes(e.toLowerCase())&&(n.hasCrisisContent=!0,n.crisisKeywords.push(e))}),LW.forEach(t=>{const r=e.match(t);r&&(n.hasPersonalInfo=!0,n.personalInfoFound.push(...r))}),n})(t);if((e=>e.flaggedWords.length>2)(r))return void $t.error("Your message contains inappropriate content and cannot be sent.");if(r.hasCrisisContent){const e={message:"We noticed you might be going through a difficult time. Please reach out for help:",resources:[{name:"National Suicide Prevention Lifeline",number:"988",description:"24/7 crisis support"},{name:"Crisis Text Line",number:"Text HOME to 741741",description:"24/7 text support"},{name:"Campus Counseling Center",number:"Your campus emergency number",description:"Immediate campus support"}]};$t.error(e.message,{duration:1e4})}const a=(e=>{let t=e;return MW.forEach(e=>{const n=new RegExp(e,"gi");t=t.replace(n,"*".repeat(e.length))}),LW.forEach(e=>{t=t.replace(e,"[PERSONAL INFO REMOVED]")}),t})(t),o={id:"temp_".concat(Date.now()),senderId:e.uid,alias:u,text:a,timestamp:{toDate:()=>new Date},sending:!0};s(e=>[...e,o]),c(""),b.current=!0;try{await Kx(Pv(jw,"".concat(Yw,"/").concat(i.id,"/messages")),{senderId:e.uid,alias:u,text:a,originalText:t!==a?t:null,timestamp:eb(),flagged:FW(r),contentFlags:r}),s(e=>e.filter(e=>e.id!==o.id))}catch(d){console.error("Error sending message:",d),s(e=>e.filter(e=>e.id!==o.id)),c(a),"permission-denied"===d.code?$t.error("You don't have permission to send messages"):"unavailable"===d.code?$t.error("Chat service is temporarily unavailable"):$t.error("Failed to send message. Please try again.")}},k=async t=>{if(null!==i&&void 0!==i&&i.id&&null!==e&&void 0!==e&&e.uid)try{await Hx(Dv(jw,"".concat(Yw,"/").concat(i.id,"/typing"),e.uid),{isTyping:t,timestamp:eb(),alias:u})}catch(n){console.warn("Failed to update typing status:",n)}};return"idle"===t?(0,Cw.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Cw.jsxs)("div",{className:"text-center max-w-md",children:[(0,Cw.jsx)(Aj,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Cw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Anonymous 1:1 Chat"}),(0,Cw.jsxs)("p",{className:"text-gray-600 mb-6",children:["Connect with another student anonymously. Your alias: ",(0,Cw.jsx)("span",{className:"font-semibold text-primary-600",children:u})]}),(0,Cw.jsxs)("button",{onClick:w,className:"btn-primary flex items-center space-x-2",children:[(0,Cw.jsx)(PW,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Find a Chat Partner"})]})]})}):"searching"===t?(0,Cw.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Cw.jsxs)("div",{className:"text-center max-w-md",children:[(0,Cw.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Cw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Looking for a chat partner..."}),(0,Cw.jsx)("p",{className:"text-gray-600 mb-6",children:"We're finding someone who's also looking to chat. This may take a moment."}),(0,Cw.jsxs)("button",{onClick:N,className:"btn-secondary flex items-center space-x-2",children:[(0,Cw.jsx)(Fj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Stop Searching"})]})]})}):(0,Cw.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Cw.jsx)("div",{className:"border-b border-gray-200 p-4",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsxs)("h3",{className:"font-semibold text-gray-900",children:["Chatting with ",h]}),(0,Cw.jsxs)("p",{className:"text-sm text-gray-500",children:["You: ",u," \u2022 Anonymous Chat"]})]}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cw.jsxs)("button",{onClick:async()=>{if(i&&h)try{const t=i.participants.find(t=>t!==e.uid);await Kx(Pv(jw,Zw),{userId:e.uid,peerUid:t,peerAlias:h,addedAt:eb(),fromMatch:i.id}),$t.success("Added ".concat(h," as a peer!"))}catch(t){console.error("Error adding peer:",t),$t.error("Failed to add as peer")}},className:"btn-secondary text-sm flex items-center space-x-1",title:"Add as peer for future chats",children:[(0,Cw.jsx)(DW,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Add Peer"})]}),(0,Cw.jsxs)("button",{onClick:async()=>{try{if(v.current&&clearTimeout(v.current),m(!1),null!==i&&void 0!==i&&i.id){try{await k(!1)}catch(t){console.warn("Failed to clear typing status:",t)}await Wx(Dv(jw,Yw,i.id),{active:!1,endedAt:eb(),endedBy:e.uid})}n("idle"),a(null),s([]),f(""),g(!1),$t.info("Left the chat")}catch(r){console.error("Error leaving chat:",r),n("idle"),a(null),s([]),f(""),g(!1),$t.error("Error leaving chat, but you've been disconnected")}},className:"btn-secondary text-sm flex items-center space-x-1",children:[(0,Cw.jsx)(Fj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Leave"})]})]})]})}),(0,Cw.jsxs)("div",{ref:x,className:"flex-1 overflow-y-auto p-4 space-y-4",onScroll:()=>{if(!x.current)return;const e=x.current;e.scrollHeight-e.scrollTop-e.clientHeight<10&&(b.current=!0)},children:[0===o.length?(0,Cw.jsxs)("div",{className:"text-center text-gray-500 mt-8",children:[(0,Cw.jsx)(Qj,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,Cw.jsx)("p",{children:"Start the conversation! Say hello \ud83d\udc4b"})]}):o.map(t=>(0,Cw.jsx)("div",{className:"flex ".concat(t.senderId===e.uid?"justify-end":"justify-start"),children:(0,Cw.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat(t.senderId===e.uid?"bg-primary-600 text-white":"bg-gray-200 text-gray-900"," ").concat(t.sending?"opacity-60":""),children:[(0,Cw.jsx)("div",{className:"text-xs opacity-75 mb-1",children:t.alias}),(0,Cw.jsx)("div",{children:t.text}),t.sending&&(0,Cw.jsx)("div",{className:"text-xs mt-1 opacity-50",children:"Sending..."})]})},t.id)),y&&(0,Cw.jsx)("div",{className:"flex justify-start",children:(0,Cw.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg bg-gray-200 text-gray-900",children:[(0,Cw.jsx)("div",{className:"text-xs opacity-75 mb-1",children:h}),(0,Cw.jsxs)("div",{className:"flex space-x-1",children:[(0,Cw.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,Cw.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,Cw.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})]}),(0,Cw.jsx)("div",{className:"border-t border-gray-200 p-4",children:(0,Cw.jsxs)("div",{className:"flex space-x-2",children:[(0,Cw.jsx)("input",{type:"text",value:l,onChange:e=>{const t=e.target.value;c(t),t.length>0&&!p&&(m(!0),k(!0)),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{m(!1),k(!1)},2e3)},onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),v.current&&clearTimeout(v.current),m(!1),k(!1),S())},placeholder:"Type your message...",className:"flex-1 input-field"}),(0,Cw.jsx)("button",{onClick:S,disabled:!l.trim(),className:"btn-primary px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Cw.jsx)(TW,{className:"w-4 h-4"})})]})})]})},BW=_j("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),VW=_j("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),zW=_j("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),qW=_j("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),HW=_j("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),WW=()=>{const{user:e}=Pw(),[t,n]=(0,r.useState)("academics"),[i,a]=(0,r.useState)([]),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(0),[h,f]=(0,r.useState)([]),[p,m]=(0,r.useState)(!1),y=(0,r.useRef)(null),g=(0,r.useRef)(!0),v={academics:BW,stress:VW,anxiety:zW,depression:Qj,selfharm:Oj,relationships:Cj,sleep:qW},x={academics:"blue",stress:"yellow",anxiety:"purple",depression:"green",selfharm:"red",relationships:"pink",sleep:"indigo"};(0,r.useEffect)(()=>{l||c((()=>{const e=["Kind","Brave","Gentle","Strong","Wise","Caring","Bright","Calm"],t=["Helper","Friend","Supporter","Listener","Guide","Companion","Ally","Star"],n=e[Math.floor(Math.random()*e.length)],r=t[Math.floor(Math.random()*t.length)],i=Math.floor(1e3*Math.random());return"".concat(n).concat(r).concat(i)})())},[l]),(0,r.useEffect)(()=>{const e=(async()=>{try{p||(await(async()=>{try{const e=[{id:"academics",name:"Academic Stress",description:"Discuss study pressure, exams, and academic challenges",category:"academics",isActive:!0,participantCount:0,createdAt:eb()},{id:"stress",name:"Stress & Burnout",description:"Share coping strategies for stress and burnout",category:"stress",isActive:!0,participantCount:0,createdAt:eb()},{id:"anxiety",name:"Anxiety Support",description:"Support for anxiety and panic-related concerns",category:"anxiety",isActive:!0,participantCount:0,createdAt:eb()},{id:"depression",name:"Depression Support",description:"Understanding and support for depression",category:"depression",isActive:!0,participantCount:0,createdAt:eb()},{id:"selfharm",name:"Self-Harm Thoughts",description:"Safe space for those struggling with self-harm thoughts",category:"selfharm",isActive:!0,participantCount:0,createdAt:eb()},{id:"relationships",name:"Relationships",description:"Discuss family, friends, and romantic relationships",category:"relationships",isActive:!0,participantCount:0,createdAt:eb()},{id:"sleep",name:"Sleep Issues",description:"Support for sleep disorders and insomnia",category:"sleep",isActive:!0,participantCount:0,createdAt:eb()}];for(const t of e)await Hx(Dv(jw,Qw,t.id),t);return{success:!0}}catch(e){return{success:!1,error:e.message}}})(),m(!0));const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.error;return Yx(jx(Pv(jw,Qw),Sx("isActive","==",!0)),t=>{const n=[];t.forEach(e=>{n.push(Re({id:e.id},e.data()))}),e(n)},t)}(e=>{f(e.map(e=>Re(Re({},e),{},{icon:v[e.id]||Aj,color:x[e.id]||"blue"})))});return e}catch(e){console.error("Error initializing chatrooms:",e),f([])}})();return()=>{"function"===typeof e&&e()}},[p]),(0,r.useEffect)(()=>(null!==e&&void 0!==e&&e.uid&&t&&gj(e.uid,!0,t).catch(console.error),()=>{null!==e&&void 0!==e&&e.uid&&gj(e.uid,!1,null).catch(console.error)}),[null===e||void 0===e?void 0:e.uid,t]),(0,r.useEffect)(()=>{if(!t)return;const e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.error;return Yx(jx(Pv(jw,Jw),Sx("currentRoom","==",e),Sx("isOnline","==",!0)),e=>{t(e.size)},n)}(t,e=>{d(e)});return()=>e()},[t]),(0,r.useEffect)(()=>{if(!t)return;const e=Yx(jx(Pv(jw,"".concat(Qw,"/").concat(t,"/messages")),_x("timestamp","desc"),Ax(50)),e=>{const t=[];e.forEach(e=>{t.push(Re({id:e.id},e.data()))}),a(t.reverse())});return()=>e()},[t]),(0,r.useEffect)(()=>{if(!y.current||0===i.length)return;const e=y.current;(e.scrollHeight-e.scrollTop-e.clientHeight<100||g.current||1===i.length)&&(e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),g.current=!1)},[i]);const b=async()=>{if(o.trim()&&t)try{await Kx(Pv(jw,"".concat(Qw,"/").concat(t,"/messages")),{senderId:e.uid,alias:l,text:o.trim(),timestamp:eb(),room:t}),s(""),g.current=!0}catch(n){console.error("Error sending message:",n),$t.error("Failed to send message")}},w=e=>{const t={blue:"bg-blue-100 text-blue-800 border-blue-200",yellow:"bg-yellow-100 text-yellow-800 border-yellow-200",purple:"bg-purple-100 text-purple-800 border-purple-200",green:"bg-green-100 text-green-800 border-green-200",red:"bg-red-100 text-red-800 border-red-200",pink:"bg-pink-100 text-pink-800 border-pink-200",indigo:"bg-indigo-100 text-indigo-800 border-indigo-200"};return t[e]||t.blue},j=h.find(e=>e.id===t),N=(null===j||void 0===j?void 0:j.icon)||Aj;return(0,Cw.jsxs)("div",{className:"flex h-full",children:[(0,Cw.jsxs)("div",{className:"w-80 border-r border-gray-200 flex flex-col",children:[(0,Cw.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Cw.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Support Chatrooms"}),(0,Cw.jsx)("p",{className:"text-sm text-gray-500",children:"Choose a topic to join the conversation"})]}),(0,Cw.jsx)("div",{className:"flex-1 overflow-y-auto",children:h.map(e=>{const r=e.icon;return(0,Cw.jsx)("button",{onClick:()=>{return t=e.id,n(t),void a([]);var t},className:"w-full text-left p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors ".concat(t===e.id?"bg-primary-50 border-primary-200":""),children:(0,Cw.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Cw.jsx)("div",{className:"p-2 rounded-lg ".concat(w(e.color)),children:(0,Cw.jsx)(r,{className:"w-4 h-4"})}),(0,Cw.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cw.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:e.name}),t===e.id&&(0,Cw.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Cw.jsx)("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full mr-1"}),"Active"]})]}),(0,Cw.jsx)("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:e.description})]})]})},e.id)})}),(0,Cw.jsx)("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cw.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center",children:(0,Cw.jsx)(Oj,{className:"w-4 h-4 text-primary-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-900",children:l}),(0,Cw.jsx)("p",{className:"text-xs text-gray-500",children:"Your anonymous identity"})]})]})})]}),(0,Cw.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,Cw.jsx)("div",{className:"border-b border-gray-200 p-4",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"p-2 rounded-lg ".concat(w(null===j||void 0===j?void 0:j.color)),children:(0,Cw.jsx)(N,{className:"w-5 h-5"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsxs)("h3",{className:"font-semibold text-gray-900",children:["#",null===j||void 0===j?void 0:j.name]}),(0,Cw.jsx)("p",{className:"text-sm text-gray-500",children:null===j||void 0===j?void 0:j.description})]})]}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,Cw.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,Cw.jsxs)("span",{children:[u," online"]})]})]})}),(0,Cw.jsx)("div",{ref:y,className:"flex-1 overflow-y-auto p-4 space-y-4",onScroll:()=>{if(!y.current)return;const e=y.current;e.scrollHeight-e.scrollTop-e.clientHeight<10&&(g.current=!0)},children:0===i.length?(0,Cw.jsxs)("div",{className:"text-center text-gray-500 mt-8",children:[(0,Cw.jsx)(Aj,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,Cw.jsx)("p",{children:"No messages yet. Start the conversation!"})]}):i.map((e,t)=>{var n,r,a,o,s;const l=t>0&&i[t-1].senderId===e.senderId&&(null===(n=e.timestamp)||void 0===n?void 0:n.toMillis())-(null===(r=i[t-1].timestamp)||void 0===r?void 0:r.toMillis())<6e4;return(0,Cw.jsxs)("div",{className:"".concat(l?"mt-1":"mt-4"),children:[!l&&(0,Cw.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Cw.jsx)("div",{className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-xs text-gray-600",children:(null===(a=e.alias)||void 0===a?void 0:a[0])||"U"}),(0,Cw.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.alias||"Anonymous"}),(0,Cw.jsx)("span",{className:"text-xs text-gray-500",children:(null===(o=e.timestamp)||void 0===o||null===(s=o.toDate())||void 0===s?void 0:s.toLocaleTimeString())||""})]}),(0,Cw.jsx)("div",{className:"ml-8",children:(0,Cw.jsx)("p",{className:"text-gray-800",children:e.text})})]},e.id)})}),(0,Cw.jsx)("div",{className:"border-t border-gray-200 p-4",children:(0,Cw.jsxs)("div",{className:"flex space-x-2",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,Cw.jsx)(HW,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:null===j||void 0===j?void 0:j.name})]}),(0,Cw.jsx)("input",{type:"text",value:o,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b())},placeholder:"Message #".concat(null===j||void 0===j?void 0:j.name,"..."),className:"flex-1 input-field"}),(0,Cw.jsx)("button",{onClick:b,disabled:!o.trim(),className:"btn-primary px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Cw.jsx)(TW,{className:"w-4 h-4"})})]})})]})]})},GW=_j("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),KW=()=>{const{user:e}=Pw(),[t,n]=(0,r.useState)(null),[i,a]=(0,r.useState)([]),[o,s]=(0,r.useState)([]),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(null),[p,m]=(0,r.useState)([]),y=(0,r.useRef)(null);(0,r.useEffect)(()=>{u||d((()=>{const e=["Student","Learner","Seeker","Traveler","Friend"],t=Math.floor(1e4*Math.random());return"".concat(e[Math.floor(Math.random()*e.length)]).concat(t)})())},[u]),(0,r.useEffect)(()=>{const e=xj(e=>{a(e)},e=>{console.error("Error fetching volunteers:",e),$t.error("Failed to load volunteers")});return()=>e()},[]),(0,r.useEffect)(()=>{if(null===e||void 0===e||!e.uid)return;const t=Yx(jx(Pv(jw,Xw),Sx("studentId","==",e.uid),_x("lastMessageAt","desc")),e=>{const t=[];e.forEach(e=>{t.push(Re({id:e.id},e.data()))}),m(t)});return()=>t()},[null===e||void 0===e?void 0:e.uid]),(0,r.useEffect)(()=>{if(!h)return;const e=Yx(jx(Pv(jw,"".concat(Xw,"/").concat(h,"/messages")),_x("timestamp","asc")),e=>{const t=[];e.forEach(e=>{t.push(Re({id:e.id},e.data()))}),s(t)});return()=>e()},[h]),(0,r.useEffect)(()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[o]);const g=async()=>{if(l.trim()&&h)try{await Kx(Pv(jw,"".concat(Xw,"/").concat(h,"/messages")),{senderId:e.uid,senderType:"student",alias:u,text:l.trim(),timestamp:eb()}),await Wx(Dv(jw,Xw,h),{lastMessageAt:eb()}),c("")}catch(t){console.error("Error sending message:",t),$t.error("Failed to send message")}},v=async()=>{if(h)try{await Wx(Dv(jw,Xw,h),{status:"ended",endedAt:eb()}),f(null),n(null),s([]),$t.info("Chat ended")}catch(e){console.error("Error ending chat:",e)}},x=e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),g())};return h&&t?(0,Cw.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Cw.jsx)("div",{className:"border-b border-gray-200 p-4",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center",children:(0,Cw.jsx)(Qj,{className:"w-5 h-5 text-purple-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h3",{className:"font-semibold text-gray-900",children:t.name}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,Cw.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t.isOnline?"bg-green-400":"bg-gray-400")}),(0,Cw.jsx)("span",{children:t.isOnline?"Online":"Offline"}),(0,Cw.jsx)("span",{children:"\u2022"}),(0,Cw.jsx)("span",{children:t.specialties.join(", ")})]})]})]}),(0,Cw.jsx)("button",{onClick:v,className:"btn-secondary text-sm",children:"End Chat"})]})}),(0,Cw.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===o.length?(0,Cw.jsxs)("div",{className:"text-center text-gray-500 mt-8",children:[(0,Cw.jsx)(Qj,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,Cw.jsxs)("p",{children:["Start the conversation! ",t.name," is here to help."]})]}):o.map(e=>(0,Cw.jsx)("div",{className:"flex ".concat("student"===e.senderType?"justify-end":"justify-start"),children:(0,Cw.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat("student"===e.senderType?"bg-primary-600 text-white":"bg-purple-100 text-purple-900"),children:[(0,Cw.jsx)("div",{className:"text-xs opacity-75 mb-1",children:"student"===e.senderType?u:t.name}),(0,Cw.jsx)("div",{children:e.text})]})},e.id)),(0,Cw.jsx)("div",{ref:y})]}),(0,Cw.jsx)("div",{className:"border-t border-gray-200 p-4",children:(0,Cw.jsxs)("div",{className:"flex space-x-2",children:[(0,Cw.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),onKeyPress:x,placeholder:"Share what's on your mind...",className:"flex-1 input-field"}),(0,Cw.jsx)("button",{onClick:g,disabled:!l.trim(),className:"btn-primary px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Cw.jsx)(TW,{className:"w-4 h-4"})})]})})]}):(0,Cw.jsxs)("div",{className:"flex h-full",children:[(0,Cw.jsxs)("div",{className:"w-96 border-r border-gray-200 flex flex-col",children:[(0,Cw.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Cw.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Available Volunteers"}),(0,Cw.jsx)("p",{className:"text-sm text-gray-500",children:"Connect with trained student volunteers"})]}),(0,Cw.jsx)("div",{className:"flex-1 overflow-y-auto",children:i.map(t=>(0,Cw.jsx)("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer",onClick:()=>(async t=>{try{const r=jx(Pv(jw,Xw),Sx("studentId","==",e.uid),Sx("volunteerId","==",t.id),Sx("status","==","active")),i=await qx(r);let a;a=i.empty?(await Kx(Pv(jw,Xw),{studentId:e.uid,studentAlias:u,volunteerId:t.id,volunteerName:t.name,status:"active",createdAt:eb(),lastMessageAt:eb()})).id:i.docs[0].id,f(a),n(t),$t.success("Connected with ".concat(t.name,"!"))}catch(r){console.error("Error starting chat:",r),$t.error("Failed to start chat with volunteer")}})(t),children:(0,Cw.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Cw.jsxs)("div",{className:"relative",children:[(0,Cw.jsx)("div",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center",children:(0,Cw.jsx)(Qj,{className:"w-6 h-6 text-purple-600"})}),(0,Cw.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ".concat(t.isOnline?"bg-green-400":"bg-gray-400")})]}),(0,Cw.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsx)("h4",{className:"font-medium text-gray-900",children:t.name}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cw.jsx)(GW,{className:"w-3 h-3 text-yellow-400 fill-current"}),(0,Cw.jsx)("span",{className:"text-xs text-gray-500",children:t.rating})]})]}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Cw.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(t.isOnline?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:t.isOnline?"Available":"Offline"}),(0,Cw.jsxs)("span",{className:"text-xs text-gray-500",children:[t.totalChats||0," chats"]})]}),(0,Cw.jsx)("p",{className:"text-xs text-gray-600 mt-2 line-clamp-2",children:t.description}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[t.specialties.slice(0,2).map(e=>(0,Cw.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:e},e)),t.specialties.length>2&&(0,Cw.jsxs)("span",{className:"text-xs text-gray-500",children:["+",t.specialties.length-2," more"]})]})]})]})},t.id))})]}),(0,Cw.jsx)("div",{className:"flex-1 flex flex-col",children:(0,Cw.jsxs)("div",{className:"p-6",children:[(0,Cw.jsxs)("div",{className:"text-center mb-8",children:[(0,Cw.jsx)(Qj,{className:"w-16 h-16 text-purple-300 mx-auto mb-4"}),(0,Cw.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect with a Volunteer"}),(0,Cw.jsx)("p",{className:"text-gray-600 max-w-md mx-auto",children:"Our trained student volunteers are here to provide support and guidance. Choose a volunteer from the list to start a confidential conversation."})]}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,Cw.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Cw.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Cw.jsx)(Rj,{className:"w-5 h-5 text-purple-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h4",{className:"font-medium text-gray-900",children:"Confidential & Safe"}),(0,Cw.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"All conversations are private and secure. Your identity is protected with an alias."})]})]}),(0,Cw.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Cw.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Cw.jsx)($j,{className:"w-5 h-5 text-green-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h4",{className:"font-medium text-gray-900",children:"Trained Volunteers"}),(0,Cw.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"All volunteers are trained in peer support and mental health first aid."})]})]})]}),p.length>0&&(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Recent Conversations"}),(0,Cw.jsx)("div",{className:"space-y-3",children:p.slice(0,3).map(e=>{var t,r;return(0,Cw.jsx)("div",{className:"border border-gray-200 rounded-lg p-3 hover:bg-gray-50 cursor-pointer",onClick:()=>(e=>{const t=i.find(t=>t.id===e.volunteerId);t&&(f(e.id),n(t))})(e),children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"font-medium text-gray-900",children:e.volunteerName}),(0,Cw.jsx)("p",{className:"text-sm text-gray-500",children:null===(t=e.lastMessageAt)||void 0===t||null===(r=t.toDate())||void 0===r?void 0:r.toLocaleDateString()})]}),(0,Cw.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})]})},e.id)})})]})]})})]})},YW=()=>{var e;const[t,n]=(0,r.useState)("anonymous"),i=[{id:"anonymous",name:"Anonymous 1:1",icon:Aj,description:"Connect with a peer anonymously",component:UW},{id:"groups",name:"Group Chatrooms",icon:Cj,description:"Join topic-based support groups",component:WW},{id:"volunteers",name:"Volunteer Chat",icon:Qj,description:"Talk to trained student volunteers",component:KW}],a=null===(e=i.find(e=>e.id===t))||void 0===e?void 0:e.component;return(0,Cw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsxs)("div",{className:"mb-8",children:[(0,Cw.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Chat Support"}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Connect with peers and volunteers for mental health support"})]}),(0,Cw.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,Cw.jsx)("nav",{className:"-mb-px flex space-x-8",children:i.map(e=>{const r=e.icon;return(0,Cw.jsxs)("button",{onClick:()=>n(e.id),className:"group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm ".concat(t===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Cw.jsx)(r,{className:"-ml-0.5 mr-2 h-5 w-5 ".concat(t===e.id?"text-primary-500":"text-gray-400 group-hover:text-gray-500")}),(0,Cw.jsxs)("div",{className:"text-left",children:[(0,Cw.jsx)("div",{children:e.name}),(0,Cw.jsx)("div",{className:"text-xs text-gray-400 hidden md:block",children:e.description})]})]},e.id)})})}),(0,Cw.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-[70vh]",children:a?(0,Cw.jsx)(a,{}):(0,Cw.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Cw.jsxs)("div",{className:"text-center",children:[(0,Cw.jsx)(Aj,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Cw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Chat Type"}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Choose how you'd like to connect with others"})]})})}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cw.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Cw.jsx)(Aj,{className:"w-5 h-5 text-blue-600"})}),(0,Cw.jsx)("h3",{className:"font-semibold text-gray-900",children:"Anonymous 1:1"})]}),(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Get randomly matched with another student for private, anonymous conversations. Your identity remains completely confidential."})]}),(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cw.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Cw.jsx)(Cj,{className:"w-5 h-5 text-green-600"})}),(0,Cw.jsx)("h3",{className:"font-semibold text-gray-900",children:"Group Chatrooms"})]}),(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Join topic-specific chatrooms to connect with others facing similar challenges. Share experiences and support each other."})]}),(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cw.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Cw.jsx)(Qj,{className:"w-5 h-5 text-purple-600"})}),(0,Cw.jsx)("h3",{className:"font-semibold text-gray-900",children:"Volunteer Chat"})]}),(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Connect with trained student volunteers who can provide guidance and support. Available for one-on-one conversations."})]})]})]})},QW=_j("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),XW=()=>{var e,t,n,i;const{userData:a}=Pw(),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)("video"),[p,m]=(0,r.useState)(!1),[y,g]=(0,r.useState)([]),[v,x]=(0,r.useState)([]),[b,w]=(0,r.useState)([]),{register:j,handleSubmit:N,formState:{errors:S},setValue:k}=NS();(0,r.useEffect)(()=>{const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.error,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Yx(jx(Pv(jw,Fw),Sx("active","==",!0),Ax(n)),t=>{const n=[];t.forEach(e=>n.push(Re({id:e.id},e.data()))),n.sort((e,t)=>(t.rating||0)-(e.rating||0)),e(n)},e=>t(e))}(e=>{const t=e.filter(e=>!0===e.active);g(t),u&&!t.some(e=>e.id===u)&&(d(""),c(""))},e=>{console.error("Failed to load counsellors",e),$t.error("Failed to load counsellors")},100);return()=>e&&e()},[]);const E=(0,r.useMemo)(()=>{const e=y.find(e=>e.id===u);return(null===e||void 0===e?void 0:e.availabilityId)||(null===e||void 0===e?void 0:e.userId)||(null===e||void 0===e?void 0:e.id)||""},[y,u]);(0,r.useEffect)(()=>{let e;if(E&&o){try{const e=o.split("-"),t=3===e.length?(e[0].length,"".concat(e[2],"-").concat(e[1],"-").concat(e[0])):o;console.log("[Booking] Subscribe availability",{availabilityOwnerId:E,selectedDate:o,altDateKey:t})}catch(t){}e=cj(E,o,e=>{console.log("[Booking] availability items",e),x(e),l&&e.some(e=>e.time===l&&e.booked)&&(c(""),$t.error("Selected slot was just booked. Please choose another."))},e=>{console.error("Failed to load availability",e),$t.error("Failed to load availability")})}else x([]);return()=>e&&e()},[E,o]),(0,r.useEffect)(()=>{if(null===a||void 0===a||!a.uid)return;const e=ij({studentId:a.uid},e=>{w(e)},e=>{console.error("Failed to load your appointments",e)});return()=>e&&e()},[null===a||void 0===a?void 0:a.uid]);const _=[{id:"video",name:"Video Call",description:"Secure video session via our platform",icon:QW,duration:"50 minutes"},{id:"phone",name:"Phone Call",description:"Audio-only session for privacy",icon:zj,duration:"50 minutes"},{id:"in-person",name:"In-Person",description:"Face-to-face session at counseling center",icon:Oj,duration:"50 minutes"}],O=e=>{const t=_.find(t=>t.id===e);return t?t.name:e?String(e).replace("-"," "):"Session"},A=()=>E&&o?v.filter(e=>!1!==e.active&&!e.booked).map(e=>e.time).sort((e,t)=>e.localeCompare(t)):[];return(0,Cw.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsxs)("div",{className:"mb-8",children:[(0,Cw.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Book a Counseling Session"}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Schedule a confidential session with one of our qualified mental health professionals."})]}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Cw.jsx)("div",{className:"lg:col-span-2",children:(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Session Details"}),(0,Cw.jsxs)("form",{onSubmit:N(async e=>{if(o&&l&&u){m(!0);try{const t=y.find(e=>e.id===u),n=new Date(o).toISOString().split("T")[0],r=await uj({user:{uid:a.uid,displayName:a.displayName,email:a.email},counsellorId:u,counsellorName:null===t||void 0===t?void 0:t.name,dateKey:n,time:l,sessionType:h,reason:e.reason,urgency:e.urgency,previousCounseling:e.previousCounseling,notes:e.notes,slotOwnerId:E});r.success?($t.success("Appointment booked successfully! You will receive a confirmation email shortly."),s(""),c(""),d(""),f("video")):$t.error(r.error||"Failed to book appointment. Please try again.")}catch(t){console.error("Error booking appointment:",t),$t.error("An unexpected error occurred")}finally{m(!1)}}else $t.error("Please select date, time, and counsellor")}),className:"space-y-6",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Session Type"}),(0,Cw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:_.map(e=>{const t=e.icon;return(0,Cw.jsx)("button",{type:"button",onClick:()=>f(e.id),className:"p-4 border-2 rounded-lg text-left transition-colors ".concat(h===e.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)(t,{className:"w-5 h-5 text-primary-600"}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,Cw.jsx)("p",{className:"text-xs text-gray-500",children:e.duration})]})]})},e.id)})})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select a Counsellor"}),(0,Cw.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:y.map(e=>{const t=u===e.id,n=Number(e.rating||0),r=Math.max(0,Math.min(5,n)),i=Math.floor(r),a=r-i>=.5,o=5-i-(a?1:0),s=e.experience,l=s?/year/i.test(String(s))?String(s):"".concat(s," years experience"):null;return(0,Cw.jsxs)("div",{className:"p-4 border-2 rounded-xl transition-all ".concat(t?"border-primary-500 bg-primary-50 shadow":"border-gray-200 hover:border-gray-300"),children:[(0,Cw.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,Cw.jsxs)("div",{className:"min-w-0",children:[(0,Cw.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:e.name}),(0,Cw.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.specialization||"General Counselling"}),l&&(0,Cw.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:l})]}),t&&(0,Cw.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded bg-primary-100 text-primary-700 border border-primary-200",children:"Selected"})]}),(0,Cw.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,Cw.jsxs)("div",{className:"flex items-center gap-1 text-yellow-500",children:[Array.from({length:i}).map((e,t)=>(0,Cw.jsx)("span",{children:"\u2605"},"full-".concat(t))),a&&(0,Cw.jsx)("span",{children:"\u2606"}),Array.from({length:o}).map((e,t)=>(0,Cw.jsx)("span",{children:"\u2606"},"empty-".concat(t))),(0,Cw.jsx)("span",{className:"ml-1 text-xs text-gray-600",children:r.toFixed(1)})]}),(0,Cw.jsx)("button",{type:"button",onClick:()=>d(e.id),className:"px-3 py-1.5 text-sm rounded-md border transition-colors ".concat(t?"bg-primary-600 text-white border-primary-600":"bg-white text-primary-700 border-primary-300 hover:bg-primary-50"),"aria-pressed":t,children:t?"Selected":"Select"})]})]},e.id)})}),0===y.length&&(0,Cw.jsx)("div",{className:"text-sm text-gray-500",children:"No counsellors available at the moment. Please check back later."})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),(0,Cw.jsx)("input",{type:"date",value:o,onChange:e=>s(e.target.value),min:(new Date).toISOString().split("T")[0],className:"input-field",required:!0})]}),o&&(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Time"}),A().length>0?(0,Cw.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"input-field",children:[(0,Cw.jsx)("option",{value:"",children:"Select a time"}),A().map(e=>(0,Cw.jsx)("option",{value:e,children:e},e))]}):(0,Cw.jsx)("div",{className:"text-sm text-gray-500 py-2",children:"No available slots for this date."})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Session"}),(0,Cw.jsxs)("select",Re(Re({},j("reason",{required:"Please select a reason"})),{},{className:"input-field",children:[(0,Cw.jsx)("option",{value:"",children:"Select a reason"}),(0,Cw.jsx)("option",{value:"anxiety",children:"Anxiety & Stress"}),(0,Cw.jsx)("option",{value:"depression",children:"Depression & Mood"}),(0,Cw.jsx)("option",{value:"academic",children:"Academic Stress"}),(0,Cw.jsx)("option",{value:"relationships",children:"Relationship Issues"}),(0,Cw.jsx)("option",{value:"career",children:"Career Guidance"}),(0,Cw.jsx)("option",{value:"other",children:"Other"})]})),S.reason&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:S.reason.message})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level"}),(0,Cw.jsxs)("select",Re(Re({},j("urgency",{required:"Please select urgency level"})),{},{className:"input-field",children:[(0,Cw.jsx)("option",{value:"",children:"Select urgency"}),(0,Cw.jsx)("option",{value:"low",children:"Low - Can wait a few days"}),(0,Cw.jsx)("option",{value:"medium",children:"Medium - Would like to meet soon"}),(0,Cw.jsx)("option",{value:"high",children:"High - Need to meet this week"})]})),S.urgency&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:S.urgency.message})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Have you received counseling before?"}),(0,Cw.jsxs)("select",Re(Re({},j("previousCounseling",{required:"Please select an option"})),{},{className:"input-field",children:[(0,Cw.jsx)("option",{value:"",children:"Select an option"}),(0,Cw.jsx)("option",{value:"yes",children:"Yes, I have received counseling before"}),(0,Cw.jsx)("option",{value:"no",children:"No, this is my first time"})]})),S.previousCounseling&&(0,Cw.jsx)("p",{className:"mt-1 text-sm text-red-600",children:S.previousCounseling.message})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),(0,Cw.jsx)("textarea",Re(Re({},j("notes")),{},{rows:3,className:"input-field",placeholder:"Any additional information you'd like to share..."}))]}),(0,Cw.jsx)("button",{type:"submit",disabled:p||!o||!l||!u,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Booking...":"Book Appointment"})]})]})}),(0,Cw.jsxs)("div",{className:"lg:col-span-1",children:[(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Summary"}),u&&(0,Cw.jsxs)("div",{className:"space-y-4",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)(Oj,{className:"w-5 h-5 text-gray-400"}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null===(e=y.find(e=>e.id===u))||void 0===e?void 0:e.name}),(0,Cw.jsx)("p",{className:"text-xs text-gray-600",children:null===(t=y.find(e=>e.id===u))||void 0===t?void 0:t.specialization})]})]}),o&&(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)(Tj,{className:"w-5 h-5 text-gray-400"}),(0,Cw.jsx)("div",{children:(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-900",children:new Date(o).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]}),l&&(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)(Mj,{className:"w-5 h-5 text-gray-400"}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-900",children:l}),(0,Cw.jsx)("p",{className:"text-xs text-gray-600",children:"50 minutes"})]})]}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:["video"===h&&(0,Cw.jsx)(QW,{className:"w-5 h-5 text-gray-400"}),"phone"===h&&(0,Cw.jsx)(zj,{className:"w-5 h-5 text-gray-400"}),"in-person"===h&&(0,Cw.jsx)(Oj,{className:"w-5 h-5 text-gray-400"}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-900 capitalize",children:null===(n=_.find(e=>e.id===h))||void 0===n?void 0:n.name}),(0,Cw.jsx)("p",{className:"text-xs text-gray-600",children:null===(i=_.find(e=>e.id===h))||void 0===i?void 0:i.description})]})]})]}),!u&&(0,Cw.jsxs)("div",{className:"text-center py-8",children:[(0,Cw.jsx)(Aj,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,Cw.jsx)("p",{className:"text-gray-500 text-sm",children:"Select a counsellor and time to see your booking summary"})]})]}),(0,Cw.jsx)("div",{className:"mt-6 card bg-blue-50 border-blue-200",children:(0,Cw.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Cw.jsx)($j,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h4",{className:"font-medium text-blue-900",children:"Privacy & Confidentiality"}),(0,Cw.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Your session is completely confidential. Only your assigned counsellor will have access to your information."})]})]})}),(0,Cw.jsxs)("div",{className:"mt-6 card",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Booked Appointments"}),0===b.length?(0,Cw.jsx)("div",{className:"text-sm text-gray-500",children:"No appointments yet. Book your first session above."}):(0,Cw.jsx)("div",{className:"space-y-3",children:b.map(e=>{const t=y.find(t=>t.id===e.counsellorId),n=(null===t||void 0===t?void 0:t.specialization)||"Counselling",r=(e=>{const t=(e.status||"").toLowerCase();if("cancelled"===t||"canceled"===t)return"canceled";try{const t=String(e.appointmentDate||""),n=String(e.appointmentTime||"00:00"),[r,i]=n.split(":").map(e=>parseInt(e,10)),a=new Date(t);return Number.isNaN(r)||Number.isNaN(i)||a.setHours(r,i,0,0),a.getTime()>=Date.now()?"upcoming":"completed"}catch(n){return"upcoming"}})(e),i="completed"===r?"bg-gray-100 text-gray-700 border-gray-200":"canceled"===r?"bg-red-100 text-red-700 border-red-200":"bg-green-100 text-green-700 border-green-200";return(0,Cw.jsx)("div",{className:"p-3 rounded-lg border border-gray-200",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[new Date(e.appointmentDate).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})," \u2022 ",e.appointmentTime]}),(0,Cw.jsxs)("p",{className:"text-xs text-gray-600",children:["With ",e.counsellorName||(null===t||void 0===t?void 0:t.name)||"Counsellor"]}),(0,Cw.jsxs)("p",{className:"text-xs text-gray-500",children:[n," \u2022 ",O(e.sessionType)]})]}),(0,Cw.jsx)("span",{className:"text-xs px-2 py-1 rounded border capitalize ".concat(i),children:r})]})},e.id)})})]})]})]})]})},$W=_j("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),JW=_j("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ZW=e=>{let{onClose:t,onSubmit:n,categories:i}=e;const[a,o]=(0,r.useState)({title:"",content:"",category:"general",tags:""});return(0,Cw.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Cw.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,Cw.jsxs)("div",{className:"p-6",children:[(0,Cw.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cw.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Post"}),(0,Cw.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,Cw.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!a.title.trim()||!a.content.trim())return void $t.error("Please fill in all fields");const t=(a.tags||"").split(/[,#\s]+/).map(e=>e.replace(/^#/,"").trim().toLowerCase()).filter(Boolean),r=Array.from(new Set(t));n(Re(Re({},a),{},{tags:r}))},className:"space-y-4",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),(0,Cw.jsx)("input",{type:"text",value:a.title,onChange:e=>o(Re(Re({},a),{},{title:e.target.value})),placeholder:"What's on your mind?",className:"input-field",required:!0})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,Cw.jsx)("select",{value:a.category,onChange:e=>o(Re(Re({},a),{},{category:e.target.value})),className:"input-field",children:i.filter(e=>"all"!==e.id).map(e=>(0,Cw.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),(0,Cw.jsx)("textarea",{value:a.content,onChange:e=>o(Re(Re({},a),{},{content:e.target.value})),placeholder:"Share your thoughts, experiences, or ask for advice...",rows:6,className:"input-field",required:!0})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (mood/topic)"}),(0,Cw.jsx)("input",{type:"text",value:a.tags,onChange:e=>o(Re(Re({},a),{},{tags:e.target.value})),placeholder:"#anxious, #happy, #academic, #stress",className:"input-field"}),(0,Cw.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Use hashtags or commas. Example: #anxious #stress, #sleep"})]}),(0,Cw.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Cw.jsx)("button",{type:"button",onClick:t,className:"btn-secondary",children:"Cancel"}),(0,Cw.jsx)("button",{type:"submit",className:"btn-primary",children:"Post"})]})]})]})})})},eG=()=>{const{user:e}=Pw(),[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)(!0),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)("all"),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)("all"),p=[{id:"all",name:"All Topics"},{id:"academic_stress",name:"Academic Stress"},{id:"anxiety",name:"Anxiety"},{id:"depression",name:"Depression"},{id:"sleep",name:"Sleep Issues"},{id:"relationships",name:"Relationships"},{id:"general",name:"General Support"}];(0,r.useEffect)(()=>{a(!0);const e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.error,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,i=jx(Pv(jw,Uw),Ax(r));return e&&(i=jx(Pv(jw,Uw),Sx("category","==",e),Ax(r))),Yx(i,e=>{const n=[];e.forEach(e=>n.push(Re({id:e.id},e.data()))),n.sort((e,t)=>{var n,r;const i=null!==(n=e.createdAt)&&void 0!==n&&n.toMillis?e.createdAt.toMillis():0;return(null!==(r=t.createdAt)&&void 0!==r&&r.toMillis?t.createdAt.toMillis():0)-i}),t(n)},e=>n(e))}("all"===l?null:l,e=>{n(e),a(!1)},e=>{console.error("Forum subscription error",e),$t.error("Failed to load forum posts"),a(!1)},100);return()=>e&&e()},[l]);const m=async t=>{try{if(null===e||void 0===e||!e.uid)return;Array.isArray(t.likedBy)&&t.likedBy.includes(e.uid)?await(async(e,t)=>{try{return await Wx(Dv(jw,Uw,e),{likedBy:nb(t),likes:rb(-1)}),{success:!0}}catch(n){return{success:!1,error:n.message}}})(t.id,e.uid):await(async(e,t)=>{try{return await Wx(Dv(jw,Uw,e),{likedBy:tb(t),likes:rb(1)}),{success:!0}}catch(n){return{success:!1,error:n.message}}})(t.id,e.uid)}catch(Le){$t.error("Failed to update like")}},[y,g]=(0,r.useState)(null),[v,x]=(0,r.useState)({}),[b,w]=(0,r.useState)(""),[j,N]=(0,r.useState)({});(0,r.useEffect)(()=>{if(!y)return;const e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.error,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return Yx(jx(Pv(jw,"".concat(Uw,"/").concat(e,"/comments")),_x("createdAt","asc"),Ax(r)),e=>{const n=[];e.forEach(e=>n.push(Re({id:e.id},e.data()))),t(n)},e=>n(e))}(y,e=>{x(t=>Re(Re({},t),{},{[y]:e}))},e=>console.error("Comments subscription error",e),200);return()=>e&&e()},[y]),(0,r.useEffect)(()=>{const e=t.map(e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.error;return Yx(jx(Pv(jw,"".concat(Uw,"/").concat(e,"/comments"))),e=>{t(e.size)},e=>n(e))}(e.id,t=>N(n=>Re(Re({},n),{},{[e.id]:t})),e=>console.error("Comment count error",e)));return()=>e.forEach(e=>e&&e())},[t]);const S=async t=>{try{if(!b.trim())return;await(async(e,t)=>{try{const n=await Kx(Pv(jw,"".concat(Uw,"/").concat(e,"/comments")),Re(Re({},t),{},{createdAt:eb()}));return await Wx(Dv(jw,Uw,e),{comments:rb(1)}),{success:!0,id:n.id}}catch(n){return{success:!1,error:n.message}}})(t,{userId:e.uid,username:"Anon".concat(((null===e||void 0===e?void 0:e.uid)||"").slice(0,6)),content:b.trim()}),w(""),g(t),$t.success("Comment posted")}catch(Le){$t.error("Failed to add comment")}},k=e=>{try{const t=null!==e&&void 0!==e&&e.toDate?e.toDate():new Date(e),n=Date.now()-t.getTime(),r=Math.floor(n/1e3);if(r<60)return"".concat(r,"s ago");const i=Math.floor(r/60);if(i<60)return"".concat(i,"m ago");const a=Math.floor(i/60);if(a<24)return"".concat(a,"h ago");const o=Math.floor(a/24);return o<7?"".concat(o,"d ago"):t.toLocaleDateString()}catch(t){return""}},E=Array.from(new Set(t.flatMap(e=>Array.isArray(e.tags)?e.tags:[]).map(e=>String(e).toLowerCase()))),_=t.filter(e=>{var t,n;const r=u.trim().toLowerCase();if(!r)return!0;const i=null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(r),a=null===(n=e.content)||void 0===n?void 0:n.toLowerCase().includes(r),o=Array.isArray(e.tags)?e.tags.map(e=>String(e).toLowerCase()):[],s=o.some(e=>"#".concat(e).includes(r)||e.includes(r));return i||a||s}).filter(e=>"all"===h||Array.isArray(e.tags)&&e.tags.map(e=>String(e).toLowerCase()).includes(h));return(0,Cw.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsx)("div",{className:"mb-8",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Peer Support Forum"}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Connect with fellow students in a safe, anonymous environment"})]}),(0,Cw.jsxs)("button",{onClick:()=>s(!0),className:"btn-primary flex items-center space-x-2",children:[(0,Cw.jsx)($W,{className:"w-5 h-5"}),(0,Cw.jsx)("span",{children:"New Post"})]})]})}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,Cw.jsx)(Aj,{className:"w-6 h-6 text-blue-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.length}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Total Posts"})]})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,Cw.jsx)(Cj,{className:"w-6 h-6 text-green-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:new Set(t.map(e=>e.userId)).size}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Active Posters"})]})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,Cw.jsx)(Qj,{className:"w-6 h-6 text-purple-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.reduce((e,t)=>e+(t.likes||0)+(t.comments||0),0)}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Supportive Interactions"})]})]})})]}),(0,Cw.jsx)("div",{className:"card mb-6",children:(0,Cw.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Cw.jsxs)("div",{className:"flex-1",children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,Cw.jsx)("select",{value:l,onChange:e=>c(e.target.value),className:"input-field",children:p.map(e=>(0,Cw.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,Cw.jsxs)("div",{className:"flex-1",children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Posts"}),(0,Cw.jsxs)("div",{className:"relative",children:[(0,Cw.jsx)(PW,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Cw.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"Search posts, #tags...",className:"input-field pl-10"})]})]})]})}),E.length>0&&(0,Cw.jsx)("div",{className:"mt-4",children:(0,Cw.jsxs)("div",{className:"flex items-center flex-wrap gap-2",children:[(0,Cw.jsx)("button",{className:"px-3 py-1 text-sm rounded-full border ".concat("all"===h?"bg-primary-50 border-primary-300 text-primary-700":"border-gray-200 text-gray-700"),onClick:()=>f("all"),children:"All tags"}),E.map(e=>(0,Cw.jsxs)("button",{className:"px-3 py-1 text-sm rounded-full border ".concat(h===e?"bg-primary-50 border-primary-300 text-primary-700":"border-gray-200 text-gray-700"),onClick:()=>f(e),children:["#",e]},e))]})}),(0,Cw.jsx)("div",{className:"mt-4 md:mt-6",children:(0,Cw.jsx)("div",{className:"h-px bg-gray-100"})}),(0,Cw.jsx)("div",{className:"space-y-6",children:i?(0,Cw.jsxs)("div",{className:"text-center py-12",children:[(0,Cw.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,Cw.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading posts..."})]}):0===_.length?(0,Cw.jsxs)("div",{className:"text-center py-12",children:[(0,Cw.jsx)(Aj,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Cw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No posts found"}),(0,Cw.jsx)("p",{className:"text-gray-600 mb-4",children:u?"Try adjusting your search terms":"Be the first to start a conversation!"}),(0,Cw.jsx)("button",{onClick:()=>s(!0),className:"btn-primary",children:"Create First Post"})]}):_.map(t=>{var n,r,i;return(0,Cw.jsxs)("div",{className:"card hover:shadow-lg transition-shadow",children:[(0,Cw.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Cw.jsxs)("div",{className:"flex-1",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Cw.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-primary-100 text-primary-800 rounded-full",children:(null===(n=p.find(e=>e.id===t.category))||void 0===n?void 0:n.name)||t.category}),(0,Cw.jsxs)("span",{className:"text-sm text-gray-500",children:["by ",t.username]})]}),(0,Cw.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t.title}),(0,Cw.jsx)("p",{className:"text-gray-700 mb-4",children:t.content}),Array.isArray(t.tags)&&t.tags.length>0&&(0,Cw.jsx)("div",{className:"flex items-center flex-wrap gap-2 mt-2",children:t.tags.map((e,t)=>(0,Cw.jsxs)("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full",children:["#",String(e).toLowerCase()]},t))})]})}),(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Cw.jsxs)("button",{onClick:()=>m(t),className:"flex items-center space-x-1 ".concat(Array.isArray(t.likedBy)&&null!==e&&void 0!==e&&e.uid&&t.likedBy.includes(e.uid)?"text-red-600":"text-gray-600"," hover:text-red-600 transition-colors"),"aria-label":"Like post",children:[(0,Cw.jsx)(Qj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:t.likes||0})]}),(0,Cw.jsxs)("button",{onClick:()=>g(y===t.id?null:t.id),className:"flex items-center space-x-1 text-gray-600 hover:text-blue-600 transition-colors","aria-label":"Show comments",children:[(0,Cw.jsx)(JW,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:null!==(r=null!==(i=j[t.id])&&void 0!==i?i:t.comments)&&void 0!==r?r:0})]})]}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,Cw.jsx)(Mj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:k(t.createdAt)})]})]}),y===t.id&&(0,Cw.jsxs)("div",{className:"mt-4 border-t pt-4",children:[(0,Cw.jsx)("div",{className:"space-y-3",children:(v[t.id]||[]).map(e=>{var t;return(0,Cw.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Cw.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-xs text-gray-600",children:(null===(t=e.username)||void 0===t?void 0:t[0])||"U"}),(0,Cw.jsxs)("div",{className:"flex-1",children:[(0,Cw.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Cw.jsx)("span",{className:"font-medium text-gray-900",children:e.username||"Anonymous"}),(0,Cw.jsx)("span",{children:"\u2022"}),(0,Cw.jsx)("span",{children:k(e.createdAt)})]}),(0,Cw.jsx)("p",{className:"text-gray-800 text-sm",children:e.content})]})]},e.id)})}),(0,Cw.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,Cw.jsx)("input",{value:b,onChange:e=>w(e.target.value),placeholder:"Write a supportive reply...",className:"input-field flex-1"}),(0,Cw.jsx)("button",{onClick:()=>S(t.id),className:"btn-primary",children:"Reply"})]})]})]},t.id)})}),o&&(0,Cw.jsx)(ZW,{onClose:()=>s(!1),onSubmit:async t=>{try{const n=await(async e=>{try{return{success:!0,id:(await Kx(Pv(jw,Uw),Re(Re({},e),{},{createdAt:eb(),likes:0,comments:0,likedBy:[]}))).id}}catch(t){return{success:!1,error:t.message}}})(Re(Re({},t),{},{userId:e.uid,username:"AnonymousStudent".concat(Math.floor(1e3*Math.random()))}));n.success?($t.success("Post created successfully!"),s(!1)):$t.error("Failed to create post")}catch(n){console.error("Error creating post:",n),$t.error("Error creating post")}},categories:p})]})},tG=_j("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),nG=_j("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),rG=_j("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),iG=_j("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),aG=()=>{const{userData:e}=Pw(),[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)(!0),[o,s]=(0,r.useState)("all"),[l,c]=(0,r.useState)("all"),[u,d]=(0,r.useState)(""),h=[{id:"all",name:"All Categories"},{id:"academic_stress",name:"Academic Stress"},{id:"anxiety",name:"Anxiety"},{id:"depression",name:"Depression"},{id:"sleep",name:"Sleep Issues"},{id:"relationships",name:"Relationships"},{id:"general",name:"General Wellness"}];(0,r.useEffect)(()=>{a(!0);const e=tj("all"===o?null:o,e=>{n(e),a(!1)},e=>{console.error("Failed to load resources",e),$t.error("Failed to load resources"),a(!1)});return()=>e&&e()},[o]);const f=e=>{switch(e){case"video":return(0,Cw.jsx)(tG,{className:"w-5 h-5"});case"audio":return(0,Cw.jsx)(nG,{className:"w-5 h-5"});case"article":return(0,Cw.jsx)(Pj,{className:"w-5 h-5"});default:return(0,Cw.jsx)(Ij,{className:"w-5 h-5"})}},p=e=>{switch(e){case"video":return"bg-red-100 text-red-600";case"audio":return"bg-purple-100 text-purple-600";case"article":return"bg-blue-100 text-blue-600";default:return"bg-green-100 text-green-600"}},m=(0,r.useMemo)(()=>t.filter(e=>{const t=e.type||"link",n=(e.title||"").toLowerCase(),r=(e.description||"").toLowerCase(),i=e.category||null,a="all"===o||i===o||"counsellor"===e.__src,s="all"===l||t===l,c=n.includes(u.toLowerCase())||r.includes(u.toLowerCase());return a&&s&&c}),[t,o,l,u]),y=async t=>{try{null!==e&&void 0!==e&&e.uid&&await(async e=>{let{userId:t,resourceId:n,resourceType:r=null,title:i=null}=e;try{return{success:!0,id:(await Kx(Pv(jw,Gw),{userId:t,resourceId:n,resourceType:r,title:i,viewedAt:eb(),createdAt:eb()})).id}}catch(a){return{success:!1,error:a.message}}})({userId:e.uid,resourceId:t.id,resourceType:t.type||null,title:t.title||null})}catch(Le){console.warn("Failed to log resource view",Le)}finally{$t.success("Opening ".concat(t.title)),t.url&&window.open(t.url,"_blank","noopener,noreferrer")}};return(0,Cw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsxs)("div",{className:"mb-8",children:[(0,Cw.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Resource Hub"}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Access videos, articles, and guides to support your mental health journey"})]}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,Cw.jsx)(Ij,{className:"w-6 h-6 text-blue-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.length}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Total Resources"})]})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"p-3 bg-red-100 rounded-lg",children:(0,Cw.jsx)(tG,{className:"w-6 h-6 text-red-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(e=>"video"===e.type).length}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Videos"})]})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,Cw.jsx)(nG,{className:"w-6 h-6 text-purple-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(e=>"audio"===e.type).length}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Audio Guides"})]})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,Cw.jsx)(Pj,{className:"w-6 h-6 text-green-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(e=>"article"===e.type).length}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Articles"})]})]})})]}),(0,Cw.jsx)("div",{className:"card mb-6",children:(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Cw.jsxs)("div",{className:"md:col-span-2",children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Resources"}),(0,Cw.jsxs)("div",{className:"relative",children:[(0,Cw.jsx)(PW,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Cw.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"Search by title or description...",className:"input-field pl-10"})]})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,Cw.jsx)("select",{value:o,onChange:e=>s(e.target.value),className:"input-field",children:h.map(e=>(0,Cw.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),(0,Cw.jsx)("select",{value:l,onChange:e=>c(e.target.value),className:"input-field",children:[{id:"all",name:"All Types"},{id:"article",name:"Articles"},{id:"video",name:"Videos"},{id:"audio",name:"Audio Guides"},{id:"guide",name:"Guides"}].map(e=>(0,Cw.jsx)("option",{value:e.id,children:e.name},e.id))})]})]})}),i?(0,Cw.jsxs)("div",{className:"text-center py-12",children:[(0,Cw.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,Cw.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading resources..."})]}):0===m.length?(0,Cw.jsxs)("div",{className:"text-center py-12",children:[(0,Cw.jsx)(Ij,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Cw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No resources found"}),(0,Cw.jsx)("p",{className:"text-gray-600",children:u?"Try adjusting your search terms":"No resources available in this category"})]}):(0,Cw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>{var t,n;return(0,Cw.jsxs)("div",{className:"card hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>y(e),children:[(0,Cw.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Cw.jsx)("div",{className:"p-2 rounded-lg ".concat(p(e.type)),children:f(e.type)}),(0,Cw.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:(null===(t=h.find(t=>t.id===e.category))||void 0===t?void 0:t.name)||e.category||"General"})]}),(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),(0,Cw.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.description}),(0,Cw.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cw.jsx)(kS,{className:"w-4 h-4"}),(0,Cw.jsxs)("span",{children:[e.views||0," views"]})]}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Cw.jsx)(Mj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:null!==(n=e.createdAt)&&void 0!==n&&n.toDate?e.createdAt.toDate().toLocaleDateString():new Date(e.createdAt).toLocaleDateString()})]})]}),(0,Cw.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,Cw.jsxs)("button",{className:"flex items-center space-x-1 text-primary-600 hover:text-primary-700 font-medium",children:[(0,Cw.jsx)(rG,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Open"})]}),"audio"===e.type&&(0,Cw.jsxs)("button",{className:"flex items-center space-x-1 text-gray-600 hover:text-gray-700",children:[(0,Cw.jsx)(iG,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Download"})]})]})]},e.id)})}),(0,Cw.jsxs)("div",{className:"mt-12",children:[(0,Cw.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Featured Resources"}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Cw.jsx)("div",{className:"card bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:(0,Cw.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Cw.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,Cw.jsx)(tG,{className:"w-6 h-6 text-blue-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Managing Exam Stress"}),(0,Cw.jsx)("p",{className:"text-gray-600 mb-3",children:"A comprehensive video guide with practical techniques for managing stress during exam periods."}),(0,Cw.jsx)("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Watch Now \u2192"})]})]})}),(0,Cw.jsx)("div",{className:"card bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:(0,Cw.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Cw.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,Cw.jsx)(nG,{className:"w-6 h-6 text-green-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sleep Meditation"}),(0,Cw.jsx)("p",{className:"text-gray-600 mb-3",children:"Guided meditation audio to help you relax and fall asleep peacefully."}),(0,Cw.jsx)("button",{className:"text-green-600 hover:text-green-700 font-medium",children:"Listen Now \u2192"})]})]})})]})]})]})},oG=_j("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),sG=_j("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),lG=_j("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),cG=_j("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),uG=_j("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),dG=_j("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),hG=e=>{var t;let{entry:n,onClose:i,onSubmit:a}=e;const[o,s]=(0,r.useState)({title:(null===n||void 0===n?void 0:n.title)||"",content:(null===n||void 0===n?void 0:n.content)||"",mood:(null===n||void 0===n?void 0:n.mood)||5,tags:(null===n||void 0===n||null===(t=n.tags)||void 0===t?void 0:t.join(", "))||"",date:(()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)})()});return(0,Cw.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Cw.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,Cw.jsxs)("div",{className:"p-6",children:[(0,Cw.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cw.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Entry":"New Journal Entry"}),(0,Cw.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,Cw.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!o.title.trim()||!o.content.trim())return void $t.error("Please fill in all required fields");let t=null;if(o.date){const e=new Date(o.date);if(isNaN(e.getTime()))return void $t.error("Invalid date");const n=new Date;if(e.setHours(0,0,0,0),n.setHours(0,0,0,0),e>n)return void $t.error("Date cannot be in the future");t=$d.fromDate(e)}const r=Re({title:o.title,content:o.content,mood:o.mood,tags:o.tags?o.tags.split(",").map(e=>e.trim()).filter(e=>e):[]},t?{createdAt:t}:{});n?a(n.id,r):a(r)},className:"space-y-4",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),(0,Cw.jsx)("input",{type:"text",value:o.title,onChange:e=>s(Re(Re({},o),{},{title:e.target.value})),placeholder:"How are you feeling today?",className:"input-field",required:!0})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mood (1-10) *"}),(0,Cw.jsx)("input",{type:"range",min:"1",max:"10",value:o.mood,onChange:e=>s(Re(Re({},o),{},{mood:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,Cw.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mt-1",children:[(0,Cw.jsx)("span",{children:"1 (Very Low)"}),(0,Cw.jsx)("span",{className:"font-medium text-lg",children:o.mood}),(0,Cw.jsx)("span",{children:"10 (Very High)"})]})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,Cw.jsx)("input",{type:"date",value:o.date,onChange:e=>s(Re(Re({},o),{},{date:e.target.value})),className:"input-field",max:(new Date).toISOString().split("T")[0]}),(0,Cw.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Defaults to today if not changed. Entries are grouped by day."})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),(0,Cw.jsx)("textarea",{value:o.content,onChange:e=>s(Re(Re({},o),{},{content:e.target.value})),placeholder:"What's on your mind? How was your day? What are you grateful for?",rows:6,className:"input-field",required:!0})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),(0,Cw.jsx)("input",{type:"text",value:o.tags,onChange:e=>s(Re(Re({},o),{},{tags:e.target.value})),placeholder:"e.g., grateful, stressed, happy, anxious",className:"input-field"})]}),(0,Cw.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Cw.jsx)("button",{type:"button",onClick:i,className:"btn-secondary",children:"Cancel"}),(0,Cw.jsx)("button",{type:"submit",className:"btn-primary",children:n?"Update Entry":"Save Entry"})]})]})]})})})},fG=()=>{const{user:e}=Pw(),{journalEntries:t,addJournalEntry:n,updateJournalEntry:i,deleteJournalEntry:a}=wj(),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)("all"),[p,m]=(0,r.useState)(""),y=[{value:"all",label:"All Moods",icon:oG},{value:"1-3",label:"Low (1-3)",icon:sG,color:"text-red-500"},{value:"4-6",label:"Medium (4-6)",icon:oG,color:"text-yellow-500"},{value:"7-10",label:"High (7-10)",icon:lG,color:"text-green-500"}],g=e=>e>=7?(0,Cw.jsx)(lG,{className:"w-5 h-5 text-green-500"}):e>=4?(0,Cw.jsx)(oG,{className:"w-5 h-5 text-yellow-500"}):(0,Cw.jsx)(sG,{className:"w-5 h-5 text-red-500"}),v=t.filter(e=>{const t=e.title.toLowerCase().includes(u.toLowerCase())||e.content.toLowerCase().includes(u.toLowerCase()),n="all"===h||"1-3"===h&&e.mood>=1&&e.mood<=3||"4-6"===h&&e.mood>=4&&e.mood<=6||"7-10"===h&&e.mood>=7&&e.mood<=10,r=!p||(()=>{try{var t,n;const r=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)};let i;if(null!==(t=e.createdAt)&&void 0!==t&&t.toDate)i=e.createdAt.toDate();else if(e.createdAt)i=new Date(e.createdAt);else if(null!==(n=e.timestamp)&&void 0!==n&&n.toDate)i=e.timestamp.toDate();else{if(!e.timestamp)return!1;i=new Date(e.timestamp)}return!isNaN(i.getTime())&&r(i)===p}catch(r){return!1}})();return t&&n&&r}),x=t.length>0?(t.reduce((e,t)=>e+t.mood,0)/t.length).toFixed(1):0,b=(t.slice(0,5),e=>{try{let t;if(null!==e&&void 0!==e&&e.toDate)t=e.toDate();else{if(!e)return"Invalid Date";t=new Date(e)}return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString()}catch(t){return"Invalid Date"}});return(0,Cw.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsx)("div",{className:"mb-8",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Personal Journal"}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Track your thoughts, feelings, and progress in your private space"})]}),(0,Cw.jsxs)("button",{onClick:()=>s(!0),className:"btn-primary flex items-center space-x-2",children:[(0,Cw.jsx)($W,{className:"w-5 h-5"}),(0,Cw.jsx)("span",{children:"New Entry"})]})]})}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,Cw.jsx)(Ij,{className:"w-6 h-6 text-blue-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.length}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Total Entries"})]})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,Cw.jsx)(Qj,{className:"w-6 h-6 text-green-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:x}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Average Mood"})]})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,Cw.jsx)(cG,{className:"w-6 h-6 text-purple-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(e=>e.mood>=7).length}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Good Days"})]})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cw.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg",children:(0,Cw.jsx)(Tj,{className:"w-6 h-6 text-orange-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:new Set(t.map(e=>{try{var t;let n;if(null!==(t=e.createdAt)&&void 0!==t&&t.toDate)n=e.createdAt.toDate();else{if(!e.createdAt)return"invalid";n=new Date(e.createdAt)}return isNaN(n.getTime())?"invalid":n.toISOString().split("T")[0]}catch(n){return"invalid"}}).filter(e=>"invalid"!==e)).size}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Active Days"})]})]})})]}),(0,Cw.jsx)("div",{className:"card mb-6",children:(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Cw.jsxs)("div",{className:"md:col-span-2",children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Entries"}),(0,Cw.jsxs)("div",{className:"relative",children:[(0,Cw.jsx)(PW,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Cw.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"Search by title or content...",className:"input-field pl-10"})]})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mood"}),(0,Cw.jsx)("select",{value:h,onChange:e=>f(e.target.value),className:"input-field",children:y.map(e=>(0,Cw.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,Cw.jsx)("input",{type:"date",value:p,onChange:e=>m(e.target.value),className:"input-field"})]})]})}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Cw.jsx)("div",{className:"lg:col-span-2",children:(0,Cw.jsx)("div",{className:"space-y-6",children:0===v.length?(0,Cw.jsxs)("div",{className:"text-center py-12",children:[(0,Cw.jsx)(Ij,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Cw.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No entries found"}),(0,Cw.jsx)("p",{className:"text-gray-600 mb-4",children:u||"all"!==h||p?"Try adjusting your filters":"Start your journaling journey by creating your first entry!"}),(0,Cw.jsx)("button",{onClick:()=>s(!0),className:"btn-primary",children:"Create First Entry"})]}):v.map(e=>{return(0,Cw.jsxs)("div",{className:"card hover:shadow-lg transition-shadow",children:[(0,Cw.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Cw.jsxs)("div",{className:"flex-1",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Cw.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:e.title}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-1 px-2 py-1 rounded-full text-sm font-medium ".concat((t=e.mood,t>=7?"bg-green-100 text-green-800":t>=4?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800")),children:[g(e.mood),(0,Cw.jsxs)("span",{children:[e.mood,"/10"]})]})]}),(0,Cw.jsx)("p",{className:"text-gray-700 mb-4",children:e.content}),e.tags&&e.tags.length>0&&(0,Cw.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map((e,t)=>(0,Cw.jsxs)("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:["#",e]},t))})]})}),(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,Cw.jsx)(Tj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:b(e.createdAt)})]}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cw.jsx)("button",{onClick:()=>c(e),className:"text-gray-600 hover:text-blue-600 transition-colors",children:(0,Cw.jsx)(uG,{className:"w-4 h-4"})}),(0,Cw.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this entry?"))try{a(e),$t.success("Journal entry deleted successfully!")}catch(t){console.error("Error deleting entry:",t),$t.error("Error deleting journal entry")}})(e.id),className:"text-gray-600 hover:text-red-600 transition-colors",children:(0,Cw.jsx)(dG,{className:"w-4 h-4"})})]})]})]},e.id);var t})})}),(0,Cw.jsxs)("div",{className:"lg:col-span-1",children:[(0,Cw.jsxs)("div",{className:"card mb-6",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Weekly Motivational Tip"}),(()=>{const e=["Small steps every day count more than giant leaps once in a while.","Your feelings are valid. Give yourself permission to feel and heal.","Progress is progress, no matter how small. Celebrate tiny wins.","Breathe in for 4, hold for 4, out for 6. Repeat 5 times.","Take a 5\u2011minute walk today. Movement lifts mood.","Write down 3 things you are grateful for today.","Talk to someone you trust. Sharing lightens the load.","Sleep is self\u2011care. Aim for a consistent bedtime routine.","Be kind to yourself. You\u2019re doing the best you can with what you have.","Your story matters. Keep showing up for yourself."],t=e[Math.floor(Date.now()/6048e5)%e.length];return(0,Cw.jsxs)("div",{className:"p-4 bg-primary-50 rounded-lg border border-primary-100",children:[(0,Cw.jsx)("p",{className:"text-gray-800",children:t}),(0,Cw.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Rotates weekly"})]})})()]}),(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mood Trends"}),(0,Cw.jsxs)("div",{className:"space-y-4",children:[(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsx)("span",{className:"text-sm text-gray-600",children:"Average Mood"}),(0,Cw.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:[x,"/10"]})]}),(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsx)("span",{className:"text-sm text-gray-600",children:"Good Days"}),(0,Cw.jsx)("span",{className:"text-lg font-bold text-green-600",children:t.filter(e=>e.mood>=7).length})]}),(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsx)("span",{className:"text-sm text-gray-600",children:"Challenging Days"}),(0,Cw.jsx)("span",{className:"text-lg font-bold text-red-600",children:t.filter(e=>e.mood<=3).length})]})]})]})]})]}),(o||l)&&(0,Cw.jsx)(hG,{entry:l,onClose:()=>{s(!1),c(null)},onSubmit:l?async(e,t)=>{try{i(e,t),$t.success("Journal entry updated successfully!"),c(null)}catch(n){console.error("Error updating entry:",n),$t.error("Error updating journal entry")}}:async t=>{try{const r=await(async e=>{try{const t=Re({},e);return t.createdAt||(t.createdAt=eb()),{success:!0,id:(await Kx(Pv(jw,Bw),t)).id}}catch(t){return{success:!1,error:t.message}}})(Re(Re({},t),{},{userId:e.uid}));r.success?(n(Re({id:r.id},t)),$t.success("Journal entry created successfully!"),s(!1)):$t.error("Failed to create journal entry")}catch(r){console.error("Error creating entry:",r),$t.error("Error creating journal entry")}}})]})};async function pG(e,t,n){const r={method:e};void 0!==n&&null!==n&&(r.headers={"Content-Type":"application/json"},r.body=JSON.stringify(n));const i=await fetch("".concat("https://mindly-production.up.railway.app").concat(t),r);if(!i.ok){const e=await i.text();throw new Error(e||"Request failed: ".concat(i.status))}return i.json()}async function mG(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return pG("GET","/api/assessment/history?user_id=".concat(encodeURIComponent(e),"&limit=").concat(t))}const yG=_j("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),gG=_j("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),vG=_j("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),xG=_j("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),bG=_j("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),wG=[{key:"phq9",label:"PHQ-9 (Depression)"},{key:"gad7",label:"GAD-7 (Anxiety)"},{key:"ghq12",label:"GHQ-12 (Self-Check)"}],jG={phq9:{type:"PHQ-9",title:"Depression Screening (PHQ-9)",description:"Over the last 2 weeks, how often have you been bothered by any of the following problems?",scale:{0:"Not at all",1:"Several days",2:"More than half the days",3:"Nearly every day"},questions:[{id:1,text:"Little interest or pleasure in doing things"},{id:2,text:"Feeling down, depressed, or hopeless"},{id:3,text:"Trouble falling or staying asleep, or sleeping too much"},{id:4,text:"Feeling tired or having little energy"},{id:5,text:"Poor appetite or overeating"},{id:6,text:"Feeling bad about yourself - or that you are a failure or have let yourself or your family down"},{id:7,text:"Trouble concentrating on things, such as reading the newspaper or watching television"},{id:8,text:"Moving or speaking so slowly that other people could have noticed, or being so fidgety or restless"},{id:9,text:"Thoughts that you would be better off dead, or of hurting yourself"}]},gad7:{type:"GAD-7",title:"Anxiety Screening (GAD-7)",description:"Over the last 2 weeks, how often have you been bothered by the following problems?",scale:{0:"Not at all",1:"Several days",2:"More than half the days",3:"Nearly every day"},questions:[{id:1,text:"Feeling nervous, anxious, or on edge"},{id:2,text:"Not being able to stop or control worrying"},{id:3,text:"Worrying too much about different things"},{id:4,text:"Trouble relaxing"},{id:5,text:"Being so restless that it is hard to sit still"},{id:6,text:"Becoming easily annoyed or irritable"},{id:7,text:"Feeling afraid, as if something awful might happen"}]},ghq12:{type:"GHQ-12",title:"Psychological Self-Check (GHQ-12)",description:"Thinking about the last few weeks, please choose the option that best fits each statement.",scale:{0:"Better than usual",1:"Same as usual",2:"Less than usual",3:"Much less than usual"},questions:[{id:1,text:"Been able to concentrate on what you're doing?"},{id:2,text:"Lost much sleep over worry?"},{id:3,text:"Felt that you are playing a useful part in things?"},{id:4,text:"Felt capable of making decisions about things?"},{id:5,text:"Felt constantly under strain?"},{id:6,text:"Felt you couldn't overcome your difficulties?"},{id:7,text:"Been able to enjoy your normal day-to-day activities?"},{id:8,text:"Been able to face up to your problems?"},{id:9,text:"Been feeling unhappy and depressed?"},{id:10,text:"Been losing confidence in yourself?"},{id:11,text:"Been thinking of yourself as a worthless person?"},{id:12,text:"Been feeling reasonably happy, all things considered?"}]}},NG=e=>{let{onClick:t,disabled:n,children:r}=e;return(0,Cw.jsx)("button",{onClick:t,disabled:n,className:"btn-primary inline-flex items-center gap-2 ".concat(n?"opacity-50 cursor-not-allowed":""),children:r})},SG=()=>{const{user:e}=Pw(),[t,n]=(0,r.useState)("phq9"),[i,a]=(0,r.useState)(null),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)({}),[u,d]=(0,r.useState)(0),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[y,g]=(0,r.useState)([]),[v,x]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!e)return;(async()=>{try{x(!0);const t=await mG(e.uid,20);g(t.items||[])}catch(Le){}finally{x(!1)}})()},[e]);const j=(0,r.useMemo)(()=>{var e;return(null===i||void 0===i||null===(e=i.questions)||void 0===e?void 0:e.length)||0},[i]),N=(0,r.useMemo)(()=>{if(!i)return!1;const e=(i.questions||[]).map(e=>e.id);return e.every(e=>Number.isFinite(l[e]))},[i,l]),S=async()=>{if(!e)return $t.error("Please sign in");if(!N)return $t.error("Please answer all questions");try{f(!0);const r=(i.questions||[]).map(e=>Number(l[e.id]));let a;a="phq9"===t?await async function(e,t){return pG("POST","/api/assessment/phq9",{responses:e,user_id:t})}(r,e.uid):"gad7"===t?await async function(e,t){return pG("POST","/api/assessment/gad7",{responses:e,user_id:t})}(r,e.uid):await async function(e,t){return pG("POST","/api/assessment/ghq12",{responses:e,user_id:t})}(r,e.uid),m(a),d(2),$t.success("Assessment completed");try{const t=await mG(e.uid,20);g(t.items||[])}catch(n){}}catch(Le){if("ghq12"===t){const e=(i.questions||[]).map(e=>Number(l[e.id])),t=e.reduce((e,t)=>e+(Number.isFinite(t)?t:0),0),n=t<=12?"minimal":t<=20?"mild":t<=26?"moderate":"severe";m({score:t,severity:n,description:{minimal:"Typical range of everyday stress",mild:"Mild psychological distress",moderate:"Moderate psychological distress",severe:"High psychological distress"}[n],recommendations:{severe:["Consider reaching out for professional support soon","Short, regular check-ins with a counsellor can help","Prioritize rest, hydration, and gentle routines","Try brief grounding or breathing exercises daily"],moderate:["Talking with a counsellor could be helpful","Practice daily stress-management (breathing, short walks)","Break tasks into small, manageable steps","Stay connected with supportive people"],mild:["Self-care and simple routines can make a difference","Try short relaxation exercises and gentle movement","Keep track of what helps you feel a bit better"],minimal:["Keep up your supportive routines","Check in with yourself regularly","Save helpful resources for future reference"]}[n],assessment_type:"GHQ-12",note:"Local result shown because the server is unavailable; history was not saved."}),d(2),$t.success("Assessment completed (local)")}else $t.error("Submission failed")}finally{f(!1)}},k=e=>{const t=(null===i||void 0===i?void 0:i.scale)||{};return(0,Cw.jsxs)("div",{className:"mb-4",children:[(0,Cw.jsxs)("div",{className:"font-medium text-gray-900 mb-2",children:[e.id,". ",e.text]}),(0,Cw.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2",children:Object.entries(t).map(t=>{let[n,r]=t;return(0,Cw.jsxs)("label",{className:"border rounded-lg p-3 cursor-pointer flex items-center gap-2 ".concat(l[e.id]===Number(n)?"border-primary-400 bg-primary-50":"border-gray-200"),children:[(0,Cw.jsx)("input",{type:"radio",name:"q_".concat(e.id),value:n,checked:l[e.id]===Number(n),onChange:t=>((e,t)=>{c(n=>Re(Re({},n),{},{[e]:Number(t)}))})(e.id,t.target.value),className:"hidden"}),(0,Cw.jsx)("span",{className:"text-sm text-gray-800",children:r})]},n)})})]},e.id)},[E,_]=(0,r.useState)(0);(0,r.useEffect)(()=>{_(0)},[i]);const O=(0,r.useMemo)(()=>{var e;return null===i||void 0===i||null===(e=i.questions)||void 0===e?void 0:e[E]},[i,E]),A=e=>{switch((e||"").toLowerCase()){case"severe":return"text-red-600";case"moderately_severe":return"text-red-500";case"moderate":return"text-orange-600";case"mild":return"text-yellow-600";case"minimal":return"text-green-600";default:return"text-gray-700"}};return(0,Cw.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Cw.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg",children:(0,Cw.jsx)(CS,{className:"w-5 h-5 text-primary-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Self-Assessment"}),(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"A gentle self-check to understand how you\u2019ve been feeling. This isn\u2019t a diagnosis."})]})]}),0===u&&(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:wG.map(e=>{let{key:r,label:i}=e;return(0,Cw.jsxs)("button",{onClick:()=>n(r),className:"p-3 rounded-lg border text-left ".concat(t===r?"border-primary-400 bg-primary-50":"border-gray-200 bg-white"),children:[(0,Cw.jsx)("div",{className:"font-medium text-gray-900",children:i}),(0,Cw.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Takes ~2-4 minutes"})]},r)})}),(0,Cw.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,Cw.jsx)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:(0,Cw.jsxs)("label",{className:"flex items-center gap-2",children:[(0,Cw.jsx)("input",{type:"checkbox",checked:b,onChange:()=>w(e=>!e)}),"Show one question at a time"]})}),(0,Cw.jsxs)(NG,{onClick:async()=>{try{s(!0),m(null),c({}),d(1);try{const e=await async function(e){const t=(e||"").toLowerCase();return pG("GET","/api/assessment/questions?type=".concat(encodeURIComponent(t)))}(t);if(e.error)throw new Error(e.error);a(e)}catch(Le){const n=jG[t];if(!n)throw Le;a(n)}}catch(Le){$t.error("Failed to load questions"),d(0)}finally{s(!1)}},children:[(0,Cw.jsx)(CS,{className:"w-4 h-4"})," Start"]})]})]}),1===u&&(0,Cw.jsxs)("div",{children:[o&&(0,Cw.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,Cw.jsx)(Wj,{className:"w-4 h-4 animate-spin"})," Loading questions\u2026"]}),i&&(0,Cw.jsxs)(Cw.Fragment,{children:[(0,Cw.jsxs)("div",{className:"mb-4",children:[(0,Cw.jsxs)("div",{className:"text-sm text-gray-500",children:[null===i||void 0===i?void 0:i.type," \u2022 ",j," questions"]}),(0,Cw.jsx)("div",{className:"font-medium text-gray-900",children:null===i||void 0===i?void 0:i.title}),(0,Cw.jsx)("div",{className:"text-sm text-gray-600",children:null===i||void 0===i?void 0:i.description})]}),b?(0,Cw.jsxs)("div",{children:[O&&k(O),(0,Cw.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,Cw.jsxs)("button",{className:"btn-secondary inline-flex items-center gap-2",onClick:()=>_(e=>Math.max(0,e-1)),disabled:0===E,children:[(0,Cw.jsx)(yG,{className:"w-4 h-4"})," Previous"]}),(0,Cw.jsxs)("div",{className:"text-sm text-gray-600",children:[E+1," / ",j]}),E<j-1?(0,Cw.jsxs)("button",{className:"btn-primary inline-flex items-center gap-2",onClick:()=>_(e=>Math.min(j-1,e+1)),children:["Next ",(0,Cw.jsx)(gG,{className:"w-4 h-4"})]}):(0,Cw.jsxs)(NG,{onClick:S,disabled:!N||h,children:[h?(0,Cw.jsx)(Wj,{className:"w-4 h-4 animate-spin"}):(0,Cw.jsx)(vG,{className:"w-4 h-4"})," Submit"]})]})]}):(0,Cw.jsxs)("div",{children:[(i.questions||[]).map(k),(0,Cw.jsx)("div",{className:"mt-4 flex items-center justify-end",children:(0,Cw.jsxs)(NG,{onClick:S,disabled:!N||h,children:[h?(0,Cw.jsx)(Wj,{className:"w-4 h-4 animate-spin"}):(0,Cw.jsx)(vG,{className:"w-4 h-4"})," Submit"]})})]})]})]}),2===u&&p&&(0,Cw.jsx)("div",{children:(0,Cw.jsxs)("div",{className:"p-4 rounded-lg border border-gray-200 bg-gray-50",children:[(0,Cw.jsx)("div",{className:"text-sm text-gray-600",children:"Result"}),(0,Cw.jsx)("div",{className:"text-2xl font-bold ".concat(A(p.severity)," capitalize"),children:p.severity||"\u2014"}),(0,Cw.jsx)("div",{className:"text-gray-700 mt-1",children:p.description}),(0,Cw.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:["Score: ",p.score]}),(0,Cw.jsxs)("div",{className:"mt-4",children:[(0,Cw.jsx)("div",{className:"font-medium text-gray-900 mb-2",children:"Gentle suggestions"}),(0,Cw.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700 text-sm",children:(p.recommendations||[]).slice(0,6).map((e,t)=>(0,Cw.jsx)("li",{children:e},t))}),(0,Cw.jsxs)("div",{className:"mt-3 text-sm text-gray-600 flex items-start gap-2",children:[(0,Cw.jsx)(xG,{className:"w-4 h-4 text-gray-500 mt-0.5"}),"This is a self-check to help you reflect. It\u2019s not a diagnosis. If you\u2019re concerned, consider speaking with a counsellor."]})]}),(0,Cw.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,Cw.jsx)("button",{className:"btn-secondary",onClick:()=>{d(0),m(null)},children:"Take another"}),(0,Cw.jsx)("a",{className:"btn-secondary",href:"/chatbot",children:"Discuss with AI assistant"})]})]})})]}),(0,Cw.jsxs)("div",{className:"mt-8 card",children:[(0,Cw.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Cw.jsx)(bG,{className:"w-4 h-4 text-gray-600"}),(0,Cw.jsx)("div",{className:"font-semibold text-gray-900",children:"Your recent self-checks"})]}),v?(0,Cw.jsxs)("div",{className:"text-gray-600 text-sm flex items-center gap-2",children:[(0,Cw.jsx)(Wj,{className:"w-4 h-4 animate-spin"})," Loading\u2026"]}):(0,Cw.jsxs)("div",{className:"space-y-2",children:[0===y.length&&(0,Cw.jsx)("div",{className:"text-gray-600 text-sm",children:"No assessments yet. Try a quick self-check above."}),y.map((e,t)=>(0,Cw.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("div",{className:"font-medium text-gray-900",children:e.type}),(0,Cw.jsx)("div",{className:"text-sm text-gray-600",children:new Date(e.timestamp||Date.now()).toLocaleString()})]}),(0,Cw.jsx)("div",{className:"font-semibold ".concat(A(e.severity)," capitalize"),children:e.severity})]},t))]})]})]})},kG=()=>{const{userData:e}=Pw(),[t,n]=(0,r.useState)(!0),[i,a]=(0,r.useState)({totalStudents:0,totalCounsellors:0,upcomingAppointments:0,pendingCounsellors:0,activeSessionsToday:0}),[o,s]=(0,r.useState)([]),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)([]),[h,f]=(0,r.useState)([]),[p,m]=(0,r.useState)({counsellorId:"",studentId:""}),[y,g]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=!0;return(async()=>{const t=await(async()=>{try{const e=await qx(jx(Pv(jw,"students"),Ax(1e3))),t=await qx(jx(Pv(jw,Fw),Ax(1e3))),n=new Date;n.setHours(0,0,0,0);const r=n.toISOString().split("T")[0],i=await qx(jx(Pv(jw,Lw),Sx("appointmentDate",">=",r),_x("appointmentDate","asc"),Ax(1e3))),a=await qx(jx(Pv(jw,Fw),Sx("active","==",!1),Ax(1e3))),o=await qx(jx(Pv(jw,zw),Sx("createdAt",">=",$d.fromDate(n)),Ax(1e3)));return{success:!0,data:{totalStudents:e.size,totalCounsellors:t.size,upcomingAppointments:i.size,pendingCounsellors:a.size,activeSessionsToday:o.size}}}catch(e){return{success:!1,error:e.message}}})();e&&(t.success?a(t.data):$t.error("Failed to load overview"),n(!1))})(),()=>{e=!1}},[]),(0,r.useEffect)(()=>{const e=lj(e=>s(e),e=>console.error(e));return()=>e&&e()},[]),(0,r.useEffect)(()=>{const e=ij(p,e=>f(e),e=>console.error(e));return()=>e&&e()},[p]),(0,r.useEffect)(()=>{const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:console.error,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return Yx(jx(Pv(jw,Uw),Sx("flagged","==",!0),_x("createdAt","desc"),Ax(n)),t=>{const n=[];t.forEach(e=>n.push(Re({id:e.id},e.data()))),e(n)},t)}(e=>g(e),e=>console.error(e));return()=>e&&e()},[]);return t?(0,Cw.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Cw.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Cw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsx)("div",{className:"mb-8",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,Cw.jsx)("p",{className:"text-gray-600 mt-2",children:"Overview, approvals, and moderation"})]}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cw.jsx)(Rj,{className:"w-6 h-6 text-primary-600"}),(0,Cw.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Admin Access"})]})]})}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Total Students"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold",children:i.totalStudents})]}),(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Total Counsellors"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold",children:i.totalCounsellors})]}),(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Active Sessions Today"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold",children:i.activeSessionsToday})]}),(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Upcoming Appointments"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold",children:i.upcomingAppointments})]}),(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Pending Approvals"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold",children:i.pendingCounsellors})]})]}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Cw.jsxs)("div",{className:"card lg:col-span-1",children:[(0,Cw.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),(0,Cw.jsx)(Oe,{to:"/admin/counsellors",className:"text-sm text-primary-600 hover:underline",children:"Manage Counsellors"})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Students"}),(0,Cw.jsxs)("div",{className:"relative mb-3",children:[(0,Cw.jsx)(PW,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Cw.jsx)("input",{value:l,onChange:e=>c(e.target.value),placeholder:"name/email/college...",className:"input-field pl-10"})]}),(0,Cw.jsx)("button",{onClick:async()=>{const e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;try{const n=await qx(jx(Pv(jw,"students"),_x("createdAt","desc"),Ax(t)));let r=[];n.forEach(e=>r.push(Re({id:e.id},e.data())));const i=e.trim().toLowerCase();return i&&(r=r.filter(e=>(e.collegeEmail||"").toLowerCase().includes(i)||(e.collegeName||"").toLowerCase().includes(i)||(e.userId||"").toLowerCase().includes(i))),{success:!0,data:r}}catch(n){return{success:!1,error:n.message}}}(l);e.success?d(e.data):$t.error("Failed to search students")},className:"btn-secondary mb-4",children:"Search"}),(0,Cw.jsxs)("div",{className:"max-h-64 overflow-auto space-y-2",children:[u.map(e=>(0,Cw.jsxs)("div",{className:"p-2 bg-gray-50 rounded",children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.collegeEmail||e.userId}),(0,Cw.jsxs)("p",{className:"text-xs text-gray-600",children:[e.collegeName," \u2022 Year ",e.year||"\u2014"]})]},e.id)),0===u.length&&(0,Cw.jsx)("p",{className:"text-xs text-gray-500",children:"Use the search to view students."})]})]})]}),(0,Cw.jsxs)("div",{className:"card lg:col-span-2",children:[(0,Cw.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Counsellor Management"}),(0,Cw.jsxs)("p",{className:"text-sm text-gray-500",children:["Pending: ",o.filter(e=>!e.active).length]})]}),(0,Cw.jsx)("div",{className:"space-y-2 max-h-96 overflow-auto pr-1",children:o.map(e=>{var t;return(0,Cw.jsxs)("div",{className:"p-3 border rounded flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsxs)("p",{className:"font-medium text-gray-900",children:[e.name," ",(0,Cw.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.email,")"]})]}),(0,Cw.jsxs)("p",{className:"text-sm text-gray-600",children:[e.specialization||"\u2014"," \u2022 ",e.experience?"".concat(e.experience," yrs"):"exp n/a"," \u2022 Rating ",null!==(t=e.rating)&&void 0!==t?t:"\u2014"]}),(0,Cw.jsxs)("p",{className:"text-xs text-gray-500",children:["Status: ",e.active?"Active":"Pending/Disabled"]})]}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsx)("button",{onClick:()=>(async e=>{const t=!e.active;(await aj(e.id,t)).success||$t.error("Failed to update status")})(e),className:"inline-flex items-center px-3 py-1 rounded border ".concat(e.active?"text-green-700 bg-green-50 border-green-200":"text-gray-700 bg-gray-50 border-gray-200"),children:e.active?"Deactivate":"Activate"}),(0,Cw.jsx)(Oe,{to:"/admin/counsellors",className:"text-sm text-primary-600",children:"Edit"})]})]},e.id)})})]})]}),(0,Cw.jsxs)("div",{className:"mt-8 card",children:[(0,Cw.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Appointments"}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsx)("input",{value:p.counsellorId,onChange:e=>m(t=>Re(Re({},t),{},{counsellorId:e.target.value})),placeholder:"Filter by counsellorId",className:"input-field"}),(0,Cw.jsx)("input",{value:p.studentId,onChange:e=>m(t=>Re(Re({},t),{},{studentId:e.target.value})),placeholder:"Filter by studentId",className:"input-field"})]})]}),(0,Cw.jsxs)("div",{className:"space-y-2 max-h-96 overflow-auto",children:[h.map(e=>(0,Cw.jsxs)("div",{className:"p-3 bg-gray-50 rounded flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.appointmentDate," ",e.appointmentTime," \u2022 ",e.sessionType]}),(0,Cw.jsxs)("p",{className:"text-xs text-gray-600",children:["Student: ",e.studentId," \u2022 Counsellor: ",e.counsellorId]})]}),(0,Cw.jsxs)("div",{className:"text-xs text-gray-500",children:["Status: ",e.status]})]},e.id)),0===h.length&&(0,Cw.jsx)("p",{className:"text-sm text-gray-500",children:"No appointments found for the given filters."})]})]}),(0,Cw.jsxs)("div",{className:"mt-8 card",children:[(0,Cw.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Forum Moderation"}),(0,Cw.jsxs)("p",{className:"text-sm text-gray-500",children:["Flagged: ",y.length]})]}),(0,Cw.jsxs)("div",{className:"space-y-2 max-h-96 overflow-auto",children:[y.map(e=>(0,Cw.jsxs)("div",{className:"p-3 border rounded",children:[(0,Cw.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,Cw.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.content}),(0,Cw.jsx)("div",{className:"flex items-center gap-2",children:(0,Cw.jsxs)("button",{onClick:async()=>{(await(async e=>{try{return await Gx(Dv(jw,Uw,e)),{success:!0}}catch(t){return{success:!1,error:t.message}}})(e.id)).success||$t.error("Delete failed")},className:"inline-flex items-center px-3 py-1 rounded border text-red-700 bg-red-50 border-red-200",children:[(0,Cw.jsx)(dG,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},e.id)),0===y.length&&(0,Cw.jsx)("p",{className:"text-sm text-gray-500",children:"No flagged posts."})]})]})]})},EG=_j("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),_G=_j("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),OG=()=>{const{userData:e}=Pw(),[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)(""),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)("");(0,r.useEffect)(()=>{const e=lj(e=>n(e),e=>{console.error("Failed to load counsellors",e),$t.error("Failed to load counsellors")},500);return()=>e&&e()},[]),(0,r.useEffect)(()=>{let e;return i&&o?e=cj(i,o,e=>c(e),e=>{console.error("Failed to load availability",e),$t.error("Failed to load availability")}):c([]),()=>e&&e()},[i,o]);return(0,Cw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsx)("div",{className:"mb-8",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Counsellors Admin"}),(0,Cw.jsx)("p",{className:"text-gray-600 mt-2",children:"Approve counsellors and manage availability slots."})]}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Cw.jsx)(Cj,{className:"w-5 h-5"}),(0,Cw.jsxs)("span",{children:[t.length," total"]})]})]})}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Cw.jsx)("div",{className:"lg:col-span-2",children:(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"All Counsellors"}),(0,Cw.jsxs)("div",{className:"divide-y divide-gray-100",children:[t.map(e=>(0,Cw.jsxs)("div",{className:"py-3 flex items-center justify-between",children:[(0,Cw.jsxs)("div",{onClick:()=>a(e.id),className:"flex-1 cursor-pointer",children:[(0,Cw.jsxs)("p",{className:"font-medium text-gray-900",children:[e.name," ",(0,Cw.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.email,")"]})]}),(0,Cw.jsxs)("p",{className:"text-sm text-gray-600",children:[e.specialization||"\u2014"," \u2022 ",e.experience?"".concat(e.experience," yrs"):"exp n/a"]}),(0,Cw.jsxs)("p",{className:"text-xs text-gray-500",children:["Status: ",e.active?"Active":"Pending/Disabled"]})]}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsxs)("button",{onClick:()=>(async e=>{const t=!e.active,n=await aj(e.id,t);n.success?$t.success("Counsellor ".concat(t?"approved":"disabled")):$t.error(n.error||"Failed to update status")})(e),className:"inline-flex items-center px-3 py-1 rounded border ".concat(e.active?"text-green-700 bg-green-50 border-green-200":"text-gray-700 bg-gray-50 border-gray-200"),children:[e.active?(0,Cw.jsx)(EG,{className:"w-4 h-4 mr-1"}):(0,Cw.jsx)(_G,{className:"w-4 h-4 mr-1"}),e.active?"Active":"Activate"]}),(0,Cw.jsxs)("button",{onClick:()=>a(e.id),className:"inline-flex items-center px-3 py-1 rounded border text-gray-700 bg-white hover:bg-gray-50 border-gray-200",children:[(0,Cw.jsx)(Tj,{className:"w-4 h-4 mr-1"})," Manage Slots"]})]})]},e.id)),0===t.length&&(0,Cw.jsx)("div",{className:"py-8 text-center text-sm text-gray-500",children:"No counsellors found."})]})]})}),(0,Cw.jsx)("div",{className:"lg:col-span-1",children:(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Availability"}),(0,Cw.jsxs)("div",{className:"space-y-3",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selected Counsellor"}),(0,Cw.jsxs)("select",{value:i,onChange:e=>a(e.target.value),className:"input-field",children:[(0,Cw.jsx)("option",{value:"",children:"Select counsellor"}),t.map(e=>(0,Cw.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,Cw.jsx)("input",{type:"date",value:o,onChange:e=>s(e.target.value),className:"input-field"})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Slot (HH:mm)"}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"09:30",className:"input-field flex-1"}),(0,Cw.jsxs)("button",{onClick:async()=>{try{if(!i||!o||!u)return;if(!/^\d{2}:\d{2}$/.test(u))return void $t.error("Time must be HH:mm");const e=await oj(i,o,u);e.success?($t.success("Slot added"),d("")):$t.error(e.error||"Failed to add slot")}catch(Le){$t.error("Failed to add slot")}},className:"btn-primary inline-flex items-center",children:[(0,Cw.jsx)($W,{className:"w-4 h-4 mr-1"}),"Add"]})]}),(0,Cw.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:["09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00"].map(e=>(0,Cw.jsx)("button",{type:"button",onClick:()=>d(e),className:"px-2 py-1 text-xs border rounded",children:e},e))})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slots"}),(0,Cw.jsxs)("div",{className:"space-y-2 max-h-64 overflow-auto pr-1",children:[l.map(e=>(0,Cw.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,Cw.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Cw.jsx)(Mj,{className:"w-4 h-4 text-gray-500"}),(0,Cw.jsx)("span",{className:"font-medium text-gray-900",children:e.time}),(0,Cw.jsx)("span",{className:"text-xs ".concat(e.booked?"text-red-600":"text-green-600"),children:e.booked?"Booked":"Available"})]}),(0,Cw.jsx)("div",{className:"flex items-center gap-2",children:!e.booked&&(0,Cw.jsxs)("button",{onClick:()=>(async e=>{try{const t=await sj(i,o,e);t.success?$t.success("Slot cleared"):$t.error(t.error||"Failed to clear slot")}catch(Le){$t.error("Failed to clear slot")}})(e.time),className:"inline-flex items-center px-2 py-1 text-xs border rounded text-gray-700 hover:bg-gray-100",children:[(0,Cw.jsx)(dG,{className:"w-3 h-3 mr-1"}),"Clear"]})})]},e.id)),i&&o&&0===l.length&&(0,Cw.jsx)("div",{className:"text-xs text-gray-500",children:"No slots for this date. Add one above."})]})]})]})]})})]})]})},AG=_j("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),TG=_j("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),CG=e=>{let{children:t}=e;return(0,Cw.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:t})},IG=e=>{const t=new Date;return t.setHours(0,0,0,0),e===t.toISOString().split("T")[0]},PG=()=>{const{user:e,userData:t}=Pw(),n=null===e||void 0===e?void 0:e.uid,[i,a]=(0,r.useState)([]),[o,s]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(0),[h,f]=(0,r.useState)(()=>(new Date).toISOString().split("T")[0]),[p,m]=(0,r.useState)([]),[y,g]=(0,r.useState)(""),[v,x]=(0,r.useState)(new Set),[b,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)({}),[S,k]=(0,r.useState)({}),[E,_]=(0,r.useState)({}),[O,A]=(0,r.useState)({}),[T,C]=(0,r.useState)({}),[I,P]=(0,r.useState)({}),[D,M]=(0,r.useState)({}),[R,L]=(0,r.useState)({open:!1,apptId:null}),F=(0,r.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;A(t=>Re(Re({},t),{},{[e]:!0})),P(t=>Re(Re({},t),{},{[e]:null}));const r=await ej(e,n,t);r.success?(C(t=>Re(Re({},t),{},{[e]:r.data})),M(n=>Re(Re({},n),{},{[e]:t}))):P(t=>Re(Re({},t),{},{[e]:r.error||"Failed to load insights"})),A(t=>Re(Re({},t),{},{[e]:!1}))},[n]),U=e=>{let{series:t}=e;const n=(t||[]).map(e=>"number"===typeof e.avg?e.avg:null),r=640,i=220,a=24,o=n.filter(e=>null!=e);if(!o.length)return(0,Cw.jsx)("div",{className:"text-sm text-gray-500",children:"No mood data for selected range."});const s=Math.min(...o),l=Math.max(...o),c=e=>a+e*(592/Math.max(1,n.length-1)),u=e=>{if(null==e)return null;return 196-172*(l===s?.5:(e-s)/(l-s))};let d="";n.forEach((e,t)=>{const n=c(t),r=u(e);null!=r&&(d+=(d?" L ":"M ")+n+" "+r)});const h=Array.from({length:5},(e,t)=>s+t*(l-s)/4);return(0,Cw.jsxs)("svg",{viewBox:"0 0 ".concat(r," ").concat(i),width:r,height:i,className:"w-full h-auto",children:[(0,Cw.jsx)("line",{x1:a,y1:196,x2:616,y2:196,stroke:"#e5e7eb"}),(0,Cw.jsx)("line",{x1:a,y1:a,x2:a,y2:196,stroke:"#e5e7eb"}),h.map((e,t)=>{const n=u(e);return(0,Cw.jsxs)("g",{children:[(0,Cw.jsx)("line",{x1:20,y1:n,x2:616,y2:n,stroke:"#f3f4f6"}),(0,Cw.jsx)("text",{x:4,y:n+4,fontSize:"10",fill:"#6b7280",children:Math.round(e)})]},t)}),(0,Cw.jsx)("path",{d:d,fill:"none",stroke:"#3B82F6",strokeWidth:"2.5"}),n.map((e,t)=>{const n=u(e);return null==n?null:(0,Cw.jsx)("circle",{cx:c(t),cy:n,r:2.5,fill:"#3B82F6"},t)})]})};(0,r.useEffect)(()=>{if(!n)return;const e=ij({counsellorId:n},e=>{a(e),s(!1),c(null)},e=>{var t;console.error(e),c((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||(null===e||void 0===e?void 0:e.message)||"Failed to load appointments"),$t.error("Failed to load appointments"),s(!1)},500);return()=>e&&e()},[n,u]),(0,r.useEffect)(()=>{if(!n||!h)return;const e=cj(n,h,e=>m(e),e=>{console.error(e),$t.error("Failed to load availability")});return()=>e&&e()},[n,h]);const B=(0,r.useMemo)(()=>{const e=(new Date).toISOString().split("T")[0];return(i||[]).filter(t=>{const n=String(t.status||"").toLowerCase();return String(t.appointmentDate||"")>=e&&!["cancelled","canceled","completed"].includes(n)}).sort((e,t)=>(e.appointmentDate+e.appointmentTime).localeCompare(t.appointmentDate+t.appointmentTime))},[i]),V=((0,r.useMemo)(()=>{const e=(new Date).toISOString().split("T")[0];return(i||[]).filter(t=>String(t.appointmentDate||"")<e).sort((e,t)=>(t.appointmentDate+t.appointmentTime).localeCompare(e.appointmentDate+e.appointmentTime))},[i]),B.length),z=(0,r.useMemo)(()=>B.length?B[0]:null,[B]),q=(0,r.useMemo)(()=>{const e=(()=>{const e=new Date;return e.setDate(e.getDate()-7),e.toISOString().split("T")[0]})(),t=new Set;return i.forEach(n=>{n.appointmentDate>=e&&t.add(n.studentId)}),t.size},[i]),H=(0,r.useMemo)(()=>{const e=[],t=new Date;t.setHours(0,0,0,0);for(let r=13;r>=0;r--){const n=new Date(t);n.setDate(t.getDate()-r);const i=n.toISOString().split("T")[0];e.push({iso:i,label:n.toLocaleDateString("en-US",{weekday:"short"}),count:0})}const n=new Map(e.map(e=>[e.iso,e]));return i.forEach(e=>{const t=n.get(e.appointmentDate);t&&t.count++}),e},[i]),[W,G]=((0,r.useMemo)(()=>{const e=new Date;return e.setHours(0,0,0,0),e.toISOString().split("T")[0]},[]),(0,r.useState)({}));(0,r.useEffect)(()=>{const e=i.map(e=>pj(e.id,n,t=>G(n=>Re(Re({},n),{},{[e.id]:(null===t||void 0===t?void 0:t.text)||""})),e=>console.error(e)));return()=>e.forEach(e=>e&&e())},[i,n]);const K=async e=>{const t=W[e]||"",r=await(async(e,t,n)=>{let{text:r}=n;try{return await Rw("/api/counsellor/appointments/".concat(e,"/notes/").concat(t),"PUT",{text:r}),{success:!0}}catch(i){return{success:!1,error:i.message}}})(e,n,{text:t});r.success?$t.success("Note saved"):$t.error("Failed to save note")},Y=(0,r.useMemo)(()=>{const e=(new Date).getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"},[]),Q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800;const[n,i]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let n;const r=performance.now(),a=o=>{const s=Math.min(1,(o-r)/t);i(Math.floor(e*s)),s<1&&(n=requestAnimationFrame(a))};return n=requestAnimationFrame(a),()=>cancelAnimationFrame(n)},[e,t]),n},X=Q(V),$=Q(q);return(0,Cw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsxs)("div",{className:"mb-4",children:[(0,Cw.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[Y,", ",(null===t||void 0===t?void 0:t.displayName)||"Counsellor"," \ud83d\udc4b"]}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Here\u2019s an overview of your sessions and availability."})]}),(0,Cw.jsxs)("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Cw.jsx)("a",{href:"#bookings",className:"card hover:bg-primary-50 transition-colors",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Go to"}),(0,Cw.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:"My Bookings"})]}),(0,Cw.jsx)(Xj,{className:"w-5 h-5 text-primary-600"})]})}),(0,Cw.jsx)("a",{href:"#availability",className:"card hover:bg-primary-50 transition-colors",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Manage"}),(0,Cw.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:"Availability"})]}),(0,Cw.jsx)(Mj,{className:"w-5 h-5 text-primary-600"})]})})]}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Upcoming Sessions"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900 transition-all",children:X}),(0,Cw.jsx)("p",{className:"text-xs text-gray-500",children:z?"".concat(z.appointmentDate," ").concat(z.appointmentTime):"\u2014"})]}),(0,Cw.jsx)(Tj,{className:"w-6 h-6 text-primary-600"})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Students This Week"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900 transition-all",children:$})]}),(0,Cw.jsx)(Cj,{className:"w-6 h-6 text-primary-600"})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Average Feedback"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"N/A"})]}),(0,Cw.jsx)(GW,{className:"w-6 h-6 text-primary-600"})]})})]}),(0,Cw.jsxs)("div",{className:"card mb-8",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sessions (Last 14 Days)"}),(0,Cw.jsxs)("div",{className:"w-full",children:[(0,Cw.jsx)("svg",{viewBox:"0 0 100 40",preserveAspectRatio:"none",className:"w-full h-24",children:(()=>{const e=Math.max(1,...H.map(e=>e.count)),t=100/H.length;return H.map((n,r)=>{const i=n.count/e*35,a=r*t,o=40-i;return(0,Cw.jsx)("g",{children:(0,Cw.jsx)("rect",{x:a+1,y:o,width:t-2,height:i,fill:"#3B82F6",opacity:"0.8"})},n.iso)})})()}),(0,Cw.jsx)("div",{className:"mt-2 grid grid-cols-7 text-[10px] text-gray-500",children:H.filter((e,t)=>t%2===0).map(e=>(0,Cw.jsx)("div",{className:"text-center",children:e.label},e.iso))})]})]}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Cw.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,Cw.jsxs)("div",{className:"card",id:"bookings",children:[(0,Cw.jsx)(CG,{children:"My Bookings"}),o?(0,Cw.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading appointments\u2026"}):l?(0,Cw.jsxs)("div",{className:"text-center py-8",children:[(0,Cw.jsx)("p",{className:"text-sm text-red-600 mb-2",children:l}),(0,Cw.jsx)("button",{className:"btn-secondary",onClick:()=>{s(!0),c(null),d(e=>e+1)},children:"Retry"})]}):0===B.length?(0,Cw.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No upcoming bookings."}):(()=>{const e=B.reduce((e,t)=>{var n;return(e[n=t.appointmentDate]||(e[n]=[])).push(t),e},{}),t=Object.keys(e).sort();let r=5;const i=b?e:t.reduce((t,n)=>{if(r<=0)return t;const i=e[n].slice(0,Math.max(0,r));return i.length&&(t[n]=i,r-=i.length),t},{}),a=e=>{const t=String(e||"pending").toLowerCase();let n="bg-yellow-100 text-yellow-800 border-yellow-200";return"confirmed"!==t&&"approved"!==t||(n="bg-green-100 text-green-800 border-green-200"),"cancelled"!==t&&"canceled"!==t||(n="bg-red-100 text-red-800 border-red-200"),(0,Cw.jsx)("span",{className:"text-xs px-2 py-1 rounded border capitalize ".concat(n),children:t})},o=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;A(t=>Re(Re({},t),{},{[e]:!0})),P(t=>Re(Re({},t),{},{[e]:null}));const r=await ej(e,n,t);r.success?(C(t=>Re(Re({},t),{},{[e]:r.data})),M(n=>Re(Re({},n),{},{[e]:t}))):P(t=>Re(Re({},t),{},{[e]:r.error||"Failed to load insights"})),A(t=>Re(Re({},t),{},{[e]:!1}))},s=e=>{let{series:t}=e;const n=(t||[]).map(e=>"number"===typeof e.avg?e.avg:null),r=n.filter(e=>null!=e);if(!r.length)return(0,Cw.jsx)("div",{className:"text-xs text-gray-500",children:"No mood data"});const i=Math.min(...r),a=Math.max(...r),o=196/Math.max(1,n.length-1);let s="";return n.forEach((e,t)=>{const n=2+t*o,r=(e=>null==e?null:38-36*(a===i?.5:(e-i)/(a-i)))(e);null!=r&&(s+=(s?" L ":"M ")+n+" "+r)}),(0,Cw.jsx)("svg",{viewBox:"0 0 ".concat(200," ").concat(40),width:200,height:40,className:"block",children:(0,Cw.jsx)("path",{d:s,fill:"none",stroke:"#3B82F6",strokeWidth:"2"})})},l=e=>{var t,r,i,l,c,u,d,h,f,p,m,y,g,v;return(0,Cw.jsxs)("div",{className:"p-4 rounded-xl shadow-sm border ".concat(IG(e.appointmentDate)?"bg-primary-50/50 border-primary-200":"bg-white border-gray-200"),children:[(0,Cw.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Cw.jsxs)("div",{className:"space-y-1",children:[(0,Cw.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-900 font-medium",children:[(0,Cw.jsx)(Oj,{className:"w-4 h-4 text-gray-500"}),(0,Cw.jsx)("span",{children:e.studentName||e.studentId})]}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,Cw.jsx)(Tj,{className:"w-4 h-4 text-gray-500"}),(0,Cw.jsxs)("span",{children:[(v=e.appointmentDate,new Date(v).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}))," \u2022 ",e.appointmentTime]})]}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:["in-person"===e.sessionType?(0,Cw.jsx)(qj,{className:"w-4 h-4 text-gray-500"}):(0,Cw.jsx)(QW,{className:"w-4 h-4 text-gray-500"}),(0,Cw.jsx)("span",{className:"capitalize",children:e.sessionType||"session"})]})]}),(0,Cw.jsxs)("div",{className:"flex items-center gap-3",children:[e.studentEmail&&(0,Cw.jsxs)("a",{href:"mailto:".concat(e.studentEmail),className:"inline-flex items-center text-xs text-primary-600 hover:underline",children:[(0,Cw.jsx)(Vj,{className:"w-3 h-3 mr-1"})," Email"]}),a(e.status)]})]}),(0,Cw.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[(0,Cw.jsx)("button",{className:"px-2 py-1 text-xs rounded border border-green-300 text-green-700 hover:bg-green-50",onClick:async()=>{const t=await nj(e.id,"approved",n);t.success?$t.success("Appointment confirmed"):$t.error(t.error||"Failed to confirm")},children:"Confirm"}),(0,Cw.jsx)("button",{className:"px-2 py-1 text-xs rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:async()=>{const t=await nj(e.id,"cancelled",n);t.success?$t.success("Appointment cancelled"):$t.error(t.error||"Failed to cancel")},children:"Cancel"}),(0,Cw.jsx)("button",{className:"px-2 py-1 text-xs rounded border border-gray-300 text-gray-700 hover:bg-gray-50",onClick:()=>N(t=>Re(Re({},t),{},{[e.id]:!t[e.id]})),children:j[e.id]?"Close Reschedule":"Reschedule"})]}),(0,Cw.jsxs)("div",{className:"mt-3",children:[(0,Cw.jsxs)("button",{className:"text-xs text-primary-700 hover:underline",onClick:async()=>{_(t=>Re(Re({},t),{},{[e.id]:!t[e.id]}));const t=!!T[e.id];E[e.id]||t||await o(e.id,7)},children:[E[e.id]?"Hide":"Show"," mood & assessment"]}),E[e.id]&&(0,Cw.jsxs)("div",{className:"mt-2 p-3 border rounded-lg bg-gray-50",children:[(0,Cw.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,Cw.jsx)("span",{className:"text-[11px] text-gray-600",children:"Range:"}),[7,30].map(t=>(0,Cw.jsxs)("button",{className:"text-[11px] px-2 py-0.5 rounded border ".concat((D[e.id]||7)===t?"bg-primary-600 text-white border-primary-600":"bg-white text-gray-700 border-gray-300"),onClick:()=>o(e.id,t),disabled:O[e.id],children:[t,"d"]},t))]}),O[e.id]?(0,Cw.jsx)("div",{className:"text-xs text-gray-500",children:"Loading insights\u2026"}):I[e.id]?(0,Cw.jsx)("div",{className:"text-xs text-red-600",children:I[e.id]}):T[e.id]?(0,Cw.jsxs)("div",{className:"space-y-2",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsxs)("div",{className:"text-xs font-medium text-gray-700 mb-1",children:["Mood (last ",D[e.id]||7," days)"]}),(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsx)(s,{series:T[e.id].moodTrend}),(0,Cw.jsx)("button",{className:"text-[11px] text-primary-700 hover:underline ml-2",onClick:()=>L({open:!0,apptId:e.id}),children:"View full trend"})]}),(!T[e.id].moodTrend||T[e.id].moodTrend.every(e=>null==e.avg))&&(0,Cw.jsxs)("div",{className:"text-[11px] text-gray-500 mt-1",children:["No mood recorded in last ",D[e.id]||7," days. Try 30d."]})]}),(0,Cw.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,Cw.jsxs)("div",{className:"p-2 bg-white border rounded",children:[(0,Cw.jsx)("div",{className:"text-xs text-gray-500",children:"PHQ-9"}),(0,Cw.jsx)("div",{className:"font-medium",children:null!==(t=null===(r=T[e.id].assessments)||void 0===r||null===(i=r.phq9)||void 0===i?void 0:i.score)&&void 0!==t?t:"\u2014"}),(0,Cw.jsx)("div",{className:"text-xs text-gray-500",children:(null===(l=T[e.id].assessments)||void 0===l||null===(c=l.phq9)||void 0===c?void 0:c.severity)||""})]}),(0,Cw.jsxs)("div",{className:"p-2 bg-white border rounded",children:[(0,Cw.jsx)("div",{className:"text-xs text-gray-500",children:"GAD-7"}),(0,Cw.jsx)("div",{className:"font-medium",children:null!==(u=null===(d=T[e.id].assessments)||void 0===d||null===(h=d.gad7)||void 0===h?void 0:h.score)&&void 0!==u?u:"\u2014"}),(0,Cw.jsx)("div",{className:"text-xs text-gray-500",children:(null===(f=T[e.id].assessments)||void 0===f||null===(p=f.gad7)||void 0===p?void 0:p.severity)||""})]})]})]}):(0,Cw.jsx)("div",{className:"text-xs text-gray-500",children:"No insights available."})]})]}),j[e.id]&&(0,Cw.jsxs)("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-3 gap-2",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"New Date"}),(0,Cw.jsx)("input",{type:"date",className:"input-field",value:(null===(m=S[e.id])||void 0===m?void 0:m.date)||"",onChange:t=>k(n=>Re(Re({},n),{},{[e.id]:Re(Re({},n[e.id]||{}),{},{date:t.target.value})}))})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"New Time (HH:mm)"}),(0,Cw.jsx)("input",{type:"text",placeholder:"09:30",className:"input-field",value:(null===(y=S[e.id])||void 0===y?void 0:y.time)||"",onChange:t=>k(n=>Re(Re({},n),{},{[e.id]:Re(Re({},n[e.id]||{}),{},{time:t.target.value})}))})]}),(0,Cw.jsx)("div",{className:"flex items-end",children:(0,Cw.jsx)("button",{className:"btn-primary text-xs w-full",onClick:async()=>{const t=S[e.id]||{};if(!t.date||!t.time)return void $t.error("Select date and time");const r=await rj(e.id,{appointmentDate:t.date,appointmentTime:t.time},n);r.success?($t.success("Rescheduled"),N(t=>Re(Re({},t),{},{[e.id]:!1}))):$t.error(r.error||"Failed to reschedule")},children:"Save"})})]}),(0,Cw.jsxs)("div",{className:"mt-3",children:[(0,Cw.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1 inline-flex items-center gap-1",children:[(0,Cw.jsx)(Kj,{className:"w-3 h-3 text-gray-500"})," Private Notes"]}),(0,Cw.jsx)("textarea",{rows:3,value:null!==(g=W[e.id])&&void 0!==g?g:"",onChange:t=>G(n=>Re(Re({},n),{},{[e.id]:t.target.value})),className:"input-field",placeholder:"Notes only you can see"}),(0,Cw.jsx)("div",{className:"mt-2 flex items-center gap-2",children:(0,Cw.jsxs)("button",{onClick:()=>K(e.id),className:"btn-primary inline-flex items-center text-sm",children:[(0,Cw.jsx)(AG,{className:"w-4 h-4 mr-1"}),"Save"]})})]})]},e.id)};return(0,Cw.jsxs)("div",{className:"space-y-4",children:[Object.keys(i).map(e=>(0,Cw.jsxs)("div",{className:"border rounded-lg",children:[(0,Cw.jsxs)("button",{type:"button",onClick:()=>(e=>{x(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})})(e),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-50 rounded-t-lg",children:[(0,Cw.jsxs)("div",{className:"font-medium text-gray-900",children:["\ud83d\udcc5 ",new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})]}),v.has(e)?(0,Cw.jsx)(gG,{className:"w-4 h-4 text-gray-500"}):(0,Cw.jsx)(TG,{className:"w-4 h-4 text-gray-500"})]}),!v.has(e)&&(0,Cw.jsx)("div",{className:"p-3 space-y-3",children:i[e].map(l)})]},e)),Object.keys(e).length>Object.keys(i).length&&(0,Cw.jsx)("div",{className:"text-center",children:(0,Cw.jsx)("button",{className:"btn-secondary",onClick:()=>w(!0),children:"View All"})})]})})()]})}),(0,Cw.jsx)("div",{className:"lg:col-span-1 space-y-6",children:(0,Cw.jsxs)("div",{className:"card",id:"availability",children:[(0,Cw.jsx)(CG,{children:"Availability"}),(0,Cw.jsxs)("div",{className:"space-y-3",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,Cw.jsx)("input",{type:"date",value:h,onChange:e=>f(e.target.value),className:"input-field"})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Slot (HH:mm)"}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsx)("input",{type:"text",value:y,onChange:e=>g(e.target.value),placeholder:"09:30",className:"input-field flex-1"}),(0,Cw.jsxs)("button",{onClick:async()=>{if(!y)return;if(!/^\d{2}:\d{2}$/.test(y))return void $t.error("Time must be HH:mm");const e=await oj(n,h,y);e.success?(g(""),$t.success("Slot added")):$t.error(e.error||"Failed to add slot")},className:"btn-primary inline-flex items-center",children:[(0,Cw.jsx)($W,{className:"w-4 h-4 mr-1"}),"Add"]})]})]}),(0,Cw.jsxs)("div",{className:"space-y-2 max-h-64 overflow-auto pr-1",children:[p.map(e=>(0,Cw.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.time}),(0,Cw.jsx)("p",{className:"text-xs ".concat(e.booked?"text-red-600":"text-green-600"),children:e.booked?"Booked":"Available"})]}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsx)("label",{className:"text-xs text-gray-600",children:"Active"}),(0,Cw.jsx)("input",{type:"checkbox",checked:!!e.active,onChange:t=>(async(e,t)=>{(await fj(n,h,e,t)).success||$t.error("Failed to update slot")})(e.time,t.target.checked)})]})]},e.id||e.time)),0===p.length&&(0,Cw.jsx)("div",{className:"text-xs text-gray-500",children:"No slots for this date. Add one above."})]})]})]})})]}),R.open&&(0,Cw.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,Cw.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>L({open:!1,apptId:null})}),(0,Cw.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:(0,Cw.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl p-4",children:[(0,Cw.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Mood Trend"}),(0,Cw.jsx)("button",{className:"p-1 hover:bg-gray-100 rounded",onClick:()=>L({open:!1,apptId:null}),children:(0,Cw.jsx)(Fj,{className:"w-5 h-5 text-gray-600"})})]}),R.apptId&&(0,Cw.jsxs)("div",{children:[(0,Cw.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,Cw.jsx)("span",{className:"text-sm text-gray-600",children:"Range:"}),[7,30].map(e=>(0,Cw.jsxs)("button",{className:"text-xs px-2 py-1 rounded border ".concat((D[R.apptId]||7)===e?"bg-primary-600 text-white border-primary-600":"bg-white text-gray-700 border-gray-300"),onClick:async()=>{await F(R.apptId,e)},children:[e,"d"]},e))]}),O[R.apptId]?(0,Cw.jsx)("div",{className:"text-sm text-gray-500",children:"Loading\u2026"}):I[R.apptId]?(0,Cw.jsx)("div",{className:"text-sm text-red-600",children:I[R.apptId]}):T[R.apptId]?(0,Cw.jsx)(U,{series:T[R.apptId].moodTrend}):(0,Cw.jsx)("div",{className:"text-sm text-gray-500",children:"No data."})]})]})})]})]})},DG=_j("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),MG=_j("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),RG=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),LG=()=>{const{user:e}=Pw(),[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)(!0),[o,s]=(0,r.useState)(()=>{const e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)}),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)({appointmentDate:"",appointmentTime:""}),h=(0,r.useMemo)(()=>{const e=(new Date).getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"},[]),f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800;const[n,i]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let n;const r=performance.now(),a=o=>{const s=Math.min(1,(o-r)/t);i(Math.floor(e*s)),s<1&&(n=requestAnimationFrame(a))};return n=requestAnimationFrame(a),()=>cancelAnimationFrame(n)},[e,t]),n};(0,r.useEffect)(()=>{if(!e)return;const t=ij({counsellorId:e.uid},e=>{n(e),a(!1)},e=>{console.error(e),$t.error("Failed to load appointments"),a(!1)},500);return()=>t&&t()},[e]),(0,r.useEffect)(()=>{if(!e)return;let t=new Set;const n=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.error,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return e?Yx(jx(Pv(jw,Ww),Sx("userId","==",e),_x("createdAt","desc"),Ax(r)),e=>{const n=[];e.forEach(e=>n.push(Re({id:e.id},e.data()))),t(n)},n):()=>{}}(e.uid,e=>{e.slice(0,5).forEach(e=>{if(t.has(e.id))return;t.add(e.id);const n=String(e.type||"");"appointment_status"===n?$t.success(e.title||"Appointment update"):"appointment_deleted"===n?$t("Appointment cancelled and removed",{icon:"\ud83d\uddd1\ufe0f"}):"appointment_completed"===n&&$t("Student prompted for feedback",{icon:"\u2b50"})})},e=>console.error(e));return()=>n&&n()},[e]);const p=(0,r.useMemo)(()=>{const e=(new Date).toISOString().split("T")[0];return t.filter(t=>t.appointmentDate>=e).sort((e,t)=>(e.appointmentDate+e.appointmentTime).localeCompare(t.appointmentDate+t.appointmentTime))},[t]),m=(0,r.useMemo)(()=>{const e=(new Date).toISOString().split("T")[0];return t.filter(t=>t.appointmentDate<e).sort((e,t)=>(t.appointmentDate+t.appointmentTime).localeCompare(e.appointmentDate+e.appointmentTime))},[t]),y=f(p.length),g=f(m.length),v=(0,r.useMemo)(()=>{const e=new Date;e.setHours(0,0,0,0);const n=[],r=[];for(let i=6;i>=0;i--){const a=new Date(e);a.setDate(e.getDate()-i);const o=a.toISOString().split("T")[0];n.push(a.toLocaleDateString("en-US",{weekday:"short"})),r.push(t.filter(e=>e.appointmentDate===o).length)}return{labels:n,counts:r}},[t]),x=async t=>{try{await(async(e,t)=>{try{return await Rw("/api/counsellor/appointments/".concat(e,"/start"),"PATCH",{counsellorId:t}),{success:!0}}catch(n){return{success:!1,error:n.message}}})(t.id,e.uid);const n=await dj({userId:e.uid,participantId:t.studentId,participantName:t.studentName||null,context:"counselling"});if(n.success){const e=String(t.sessionType||"").toLowerCase();"video"===e||"video call"===e?$t.success("Starting video call\u2026"):"audio"===e||"audio call"===e?$t.success("Starting audio call\u2026"):$t("In-person session \u2014 check location details",{icon:"\ud83d\udccd"})}else $t.error(n.error||"Failed to start session")}catch(Le){$t.error("Failed to start session")}},b=(0,r.useMemo)(()=>{const e=new Date(o),n=e.getFullYear(),r=e.getMonth(),i=new Date(n,r+1,0).getDate(),a=[];for(let o=1;o<=i;o++){const e=new Date(n,r,o).toISOString().split("T")[0],i=t.filter(t=>t.appointmentDate===e).length;a.push({iso:e,day:o,count:i})}return a},[o,t]),w=e=>{s(t=>new Date(t.getFullYear(),t.getMonth()+e,1))},j=async()=>{const{appointmentDate:t,appointmentTime:n}=u;if(!t||!/^\d{2}:\d{2}$/.test(n))return void $t.error("Provide date and HH:mm");const r=await rj(l,{appointmentDate:t,appointmentTime:n},null===e||void 0===e?void 0:e.uid);r.success?$t.success("Rescheduled"):$t.error(r.error||"Failed to reschedule"),c(null)};return(0,Cw.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:[h,", here are your bookings"]}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Upcoming and past sessions, trends, and quick actions."})]}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsx)("button",{onClick:()=>w(-1),className:"btn-secondary",children:(0,Cw.jsx)(yG,{className:"w-4 h-4"})}),(0,Cw.jsx)("div",{className:"px-3 py-2 text-sm border rounded",children:o.toLocaleString("en-US",{month:"long",year:"numeric"})}),(0,Cw.jsx)("button",{onClick:()=>w(1),className:"btn-secondary",children:(0,Cw.jsx)(gG,{className:"w-4 h-4"})})]})]}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Upcoming Sessions"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:y})]}),(0,Cw.jsx)(Tj,{className:"w-6 h-6 text-primary-600"})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Past Sessions"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:g})]}),(0,Cw.jsx)(Mj,{className:"w-6 h-6 text-primary-600"})]})})]}),(0,Cw.jsxs)("div",{className:"card mb-6",children:[(0,Cw.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Weekly Sessions"}),(0,Cw.jsx)("svg",{viewBox:"0 0 100 40",preserveAspectRatio:"none",className:"w-full h-20",children:(()=>{const e=Math.max(1,...v.counts),t=100/v.counts.length;return v.counts.map((n,r)=>{const i=n/e*35,a=r*t,o=40-i;return(0,Cw.jsx)("rect",{x:a+1,y:o,width:t-2,height:i,fill:"#10B981",opacity:"0.9"},r)})})()}),(0,Cw.jsx)("div",{className:"mt-1 grid grid-cols-7 text-[10px] text-gray-500",children:v.labels.map((e,t)=>(0,Cw.jsx)("div",{className:"text-center",children:e},t))})]}),(0,Cw.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-8",children:b.map(e=>{return(0,Cw.jsxs)("div",{className:"p-3 border rounded ".concat(e.count>0?"bg-primary-50 border-primary-200":"border-gray-200"),children:[(0,Cw.jsx)("div",{className:"text-xs text-gray-500",children:(t=e.iso,new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"}))}),(0,Cw.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.count," sessions"]})]},e.iso);var t})}),(0,Cw.jsxs)("div",{className:"card mb-8",children:[(0,Cw.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming"}),i?(0,Cw.jsx)("div",{className:"text-sm text-gray-500",children:"Loading\u2026"}):0===p.length?(0,Cw.jsx)("div",{className:"text-sm text-gray-500",children:"No upcoming bookings."}):(0,Cw.jsx)("div",{className:"space-y-3",children:p.map(t=>(0,Cw.jsxs)("div",{className:"p-4 border rounded",children:[(0,Cw.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"font-medium text-gray-900",children:t.studentName||t.studentId}),(0,Cw.jsxs)("p",{className:"text-sm text-gray-600",children:[RG(t.appointmentDate)," \u2022 ",t.appointmentTime]}),(0,Cw.jsxs)("p",{className:"text-xs text-gray-500",children:["Status: ",(0,Cw.jsx)("span",{className:"capitalize",children:t.status})]})]}),(0,Cw.jsxs)("div",{className:"flex items-center gap-3",children:[t.studentEmail&&(0,Cw.jsxs)("a",{href:"mailto:".concat(t.studentEmail),className:"inline-flex items-center text-sm text-primary-600 hover:underline",children:[(0,Cw.jsx)(Vj,{className:"w-4 h-4 mr-1"}),"Email"]}),(0,Cw.jsxs)("button",{onClick:()=>x(t),className:"inline-flex items-center text-sm px-3 py-2 border rounded text-primary-700 bg-primary-50 border-primary-200",children:[(0,Cw.jsx)(Aj,{className:"w-4 h-4 mr-1"}),"Start Session"]}),"pending"===t.status&&(0,Cw.jsxs)("button",{onClick:()=>(async t=>{const n=await nj(t,"confirmed",null===e||void 0===e?void 0:e.uid);n.success?$t.success("Appointment confirmed"):$t.error(n.error||"Failed to confirm")})(t.id),className:"btn-primary inline-flex items-center text-sm",children:[(0,Cw.jsx)($j,{className:"w-4 h-4 mr-1"}),"Confirm"]}),["approved","confirmed"].includes(String(t.status||"").toLowerCase())&&(0,Cw.jsxs)("button",{onClick:async()=>{if(!window.confirm("Mark this session as completed? The student will be prompted to leave feedback."))return;const n=await(async(e,t)=>{try{return await Rw("/api/counsellor/appointments/".concat(e,"/complete"),"PATCH",{counsellorId:t}),{success:!0}}catch(n){return{success:!1,error:n.message}}})(t.id,null===e||void 0===e?void 0:e.uid);n.success?$t.success("Marked completed"):$t.error(n.error||"Failed to mark completed")},className:"inline-flex items-center text-sm px-3 py-2 border rounded text-emerald-700 bg-emerald-50 border-emerald-200",children:[(0,Cw.jsx)($j,{className:"w-4 h-4 mr-1"}),"Mark Completed"]}),(0,Cw.jsxs)("button",{onClick:()=>{return c((e=t).id),void d({appointmentDate:e.appointmentDate,appointmentTime:e.appointmentTime});var e},className:"btn-secondary inline-flex items-center text-sm",children:[(0,Cw.jsx)(DG,{className:"w-4 h-4 mr-1"}),"Reschedule"]}),(0,Cw.jsxs)("button",{onClick:()=>(async t=>{const n=await nj(t,"cancelled",null===e||void 0===e?void 0:e.uid);n.success?$t.success("Appointment cancelled"):$t.error(n.error||"Failed to cancel")})(t.id),className:"inline-flex items-center text-sm px-3 py-2 border rounded text-red-700 bg-red-50 border-red-200",children:[(0,Cw.jsx)(MG,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})]}),l===t.id&&(0,Cw.jsxs)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-2",children:[(0,Cw.jsx)("input",{type:"date",className:"input-field",value:u.appointmentDate,onChange:e=>d(t=>Re(Re({},t),{},{appointmentDate:e.target.value}))}),(0,Cw.jsx)("input",{type:"text",className:"input-field",placeholder:"HH:mm",value:u.appointmentTime,onChange:e=>d(t=>Re(Re({},t),{},{appointmentTime:e.target.value}))}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsxs)("button",{onClick:j,className:"btn-primary inline-flex items-center text-sm",children:[(0,Cw.jsx)(AG,{className:"w-4 h-4 mr-1"}),"Save"]}),(0,Cw.jsxs)("button",{onClick:()=>c(null),className:"btn-secondary inline-flex items-center text-sm",children:[(0,Cw.jsx)(Fj,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})]})]},t.id))})]}),(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Past"}),0===m.length?(0,Cw.jsx)("div",{className:"text-sm text-gray-500",children:"No past bookings."}):(0,Cw.jsx)("div",{className:"space-y-2",children:m.map(e=>(0,Cw.jsxs)("div",{className:"p-3 border rounded bg-gray-50",children:[(0,Cw.jsx)("p",{className:"font-medium text-gray-900",children:e.studentName||e.studentId}),(0,Cw.jsxs)("p",{className:"text-sm text-gray-600",children:[RG(e.appointmentDate)," \u2022 ",e.appointmentTime," \u2022 ",(0,Cw.jsx)("span",{className:"capitalize",children:e.status})]})]},e.id))})]})]})},FG=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n.toISOString().split("T")[0]},UG=()=>{const{user:e}=Pw(),t=null===e||void 0===e?void 0:e.uid,[n,i]=(0,r.useState)(()=>(new Date).toISOString().split("T")[0]),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;const t=new Date(e),n=t.getDate()-t.getDay(),r=new Date(t.setDate(n));return r.setHours(0,0,0,0),r.toISOString().split("T")[0]}()),f=(0,r.useMemo)(()=>Array.from({length:7},(e,t)=>FG(d,t)),[d]),[p,m]=(0,r.useState)({});(0,r.useEffect)(()=>{if(!t||!n)return;const e=cj(t,n,e=>o(e),e=>{console.error(e),$t.error("Failed to load slots")});return()=>e&&e()},[t,n]),(0,r.useEffect)(()=>{if(!t)return;const e=f.map(e=>cj(t,e,t=>m(n=>Re(Re({},n),{},{[e]:{total:t.length,booked:t.filter(e=>e.booked).length}})),e=>console.error(e)));return()=>e.forEach(e=>e&&e())},[t,f.join(",")]);const y=e=>{const t=FG(d,7*e);h(t)};return(0,Cw.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsxs)("div",{className:"mb-6",children:[(0,Cw.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Availability"}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Manage your weekly availability and maintain active slots."})]}),(0,Cw.jsxs)("div",{className:"card mb-8",children:[(0,Cw.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Cw.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Weekly Heatmap"}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsx)("button",{className:"btn-secondary",onClick:()=>y(-1),children:"Prev"}),(0,Cw.jsx)("button",{className:"btn-secondary",onClick:()=>y(1),children:"Next"})]})]}),(0,Cw.jsx)("div",{className:"grid grid-cols-7 gap-2",children:f.map(e=>{const t=p[e]||{total:0,booked:0},n=0===t.total?0:t.booked/t.total,r=0===n?"bg-green-50":n<.5?"bg-yellow-50":"bg-red-50";return(0,Cw.jsxs)("div",{className:"p-3 border rounded ".concat(r),children:[(0,Cw.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),(0,Cw.jsxs)("div",{className:"text-sm text-gray-900",children:[t.total," slots"]}),(0,Cw.jsxs)("div",{className:"text-xs text-gray-600",children:[t.booked," booked"]})]},e)})})]}),(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),(0,Cw.jsx)("input",{type:"date",value:n,onChange:e=>i(e.target.value),className:"input-field"})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Slot (HH:mm)"}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"09:30",className:"input-field"}),(0,Cw.jsxs)("button",{onClick:async()=>{if(!/^\d{2}:\d{2}$/.test(s))return void $t.error("Time must be HH:mm");const e=await oj(t,n,s);e.success?(l(""),$t.success("Slot added")):$t.error(e.error||"Failed to add")},className:"btn-primary inline-flex items-center",children:[(0,Cw.jsx)($W,{className:"w-4 h-4 mr-1"}),"Add"]})]})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Actions"}),(0,Cw.jsx)("button",{onClick:async()=>{if(!t||!n)return;u(!0);const e=["09:00","09:30","10:00","10:30","11:00","14:00"];try{for(const r of e)await oj(t,n,r);$t.success("Demo slots added")}catch(Le){console.error(Le),$t.error("Failed to add demo slots")}finally{u(!1)}},disabled:c,className:"btn-secondary",children:c?"Adding...":"Add Demo Slots"})]})]}),(0,Cw.jsxs)("div",{className:"space-y-2 max-h-80 overflow-auto pr-1",children:[a.map(e=>(0,Cw.jsxs)("div",{className:"p-3 border rounded flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:e.time}),(0,Cw.jsx)("div",{className:"text-xs ".concat(e.booked?"text-red-600":"text-green-600"),children:e.booked?"Booked":"Available"})]}),(0,Cw.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Cw.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[(0,Cw.jsx)(Mj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Active"}),(0,Cw.jsx)("input",{type:"checkbox",checked:!!e.active,onChange:r=>(async(e,r)=>{const i=await fj(t,n,e,r);i.success||$t.error(i.error||"Failed to update")})(e.time,r.target.checked)})]}),(0,Cw.jsxs)("button",{onClick:()=>(async e=>{const r=await sj(t,n,e);r.success?$t.success("Slot cleared"):$t.error(r.error||"Failed to delete")})(e.time),disabled:e.booked,className:"inline-flex items-center px-3 py-1 rounded border ".concat(e.booked?"opacity-50 cursor-not-allowed":"text-red-700 bg-red-50 border-red-200"),children:[(0,Cw.jsx)(dG,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]},e.id||e.time)),0===a.length&&(0,Cw.jsx)("div",{className:"text-sm text-gray-500",children:"No slots for this date. Add one above."})]})]})]})},BG=_j("Film",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"2.18",ry:"2.18",key:"vury4c"}],["line",{x1:"7",x2:"7",y1:"2",y2:"22",key:"t1e4qh"}],["line",{x1:"17",x2:"17",y1:"2",y2:"22",key:"1tliql"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"2",x2:"7",y1:"7",y2:"7",key:"1wdzzh"}],["line",{x1:"2",x2:"7",y1:"17",y2:"17",key:"2fufxq"}],["line",{x1:"17",x2:"22",y1:"17",y2:"17",key:"1xg577"}],["line",{x1:"17",x2:"22",y1:"7",y2:"7",key:"acrv2l"}]]),VG=_j("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),zG=()=>{const{user:e}=Pw(),t=null===e||void 0===e?void 0:e.uid,[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)({title:"",url:"",description:"",type:"link"}),[f,p]=(0,r.useState)(null),[m,y]=(0,r.useState)({title:"",url:"",description:"",type:"link"}),[g,v]=(0,r.useState)("all"),[x,b]=(0,r.useState)(""),[w,j]=(0,r.useState)("all"),N=async()=>{if(t){l(!0);try{const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;try{const n=jx(Pv(jw,"resources_counsellors"),Sx("ownerId","==",e),Ax(t)),r=await qx(n),i=[];return r.forEach(e=>i.push(Re({id:e.id},e.data()))),i.sort((e,t)=>{var n,r;const i=null!==(n=e.createdAt)&&void 0!==n&&n.toMillis?e.createdAt.toMillis():0;return(null!==(r=t.createdAt)&&void 0!==r&&r.toMillis?t.createdAt.toMillis():0)-i}),{success:!0,data:i}}catch(n){return{success:!1,error:n.message}}}(t);e.success?i(e.data):$t.error("Failed to load resources")}catch(Le){console.error(Le),$t.error("Failed to load resources")}try{const e=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{let t=jx(Pv(jw,Vw),_x("createdAt","desc"));e&&(t=jx(Pv(jw,Vw),Sx("category","==",e),_x("createdAt","desc")));const n=await qx(t),r=[];return n.forEach(e=>{r.push(Re({id:e.id},e.data()))}),{success:!0,data:r}}catch(t){return{success:!1,error:t.message}}}();e.success&&o(e.data)}catch(Le){console.error(Le)}l(!1)}else l(!1)};(0,r.useEffect)(()=>{N()},[t]);const S=async()=>{const e=await(async(e,t)=>{try{return await Wx(Dv(jw,"resources_counsellors",e),Re(Re({},t),{},{updatedAt:eb()})),{success:!0}}catch(n){return{success:!1,error:n.message}}})(f,m);e.success?($t.success("Updated"),p(null),N()):$t.error(e.error||"Failed to update")},k=async e=>{const t=await(async e=>{try{return await Gx(Dv(jw,"resources_counsellors",e)),{success:!0}}catch(t){return{success:!1,error:t.message}}})(e);t.success?($t.success("Deleted"),N()):$t.error(t.error||"Failed to delete")},E=(0,r.useMemo)(()=>{const e="mine"===g?n:[...a,...n],t=x.trim().toLowerCase();return e.filter(e=>{const n="all"===w||(e.type||"link")===w,r="".concat(e.title||""," ").concat(e.description||"").toLowerCase(),i=!t||r.includes(t);return n&&i})},[g,n,a,x,w]),_=e=>{let{it:t,editable:n}=e;const r=t.type||"link",i=e=>{try{const t=new URL(e);if(t.hostname.includes("youtu.be"))return"https://www.youtube.com/embed/".concat(t.pathname.slice(1));if(t.hostname.includes("youtube.com")){const e=t.searchParams.get("v");if(e)return"https://www.youtube.com/embed/".concat(e)}}catch(t){}return null};return(0,Cw.jsxs)("div",{className:"p-4 border rounded hover:shadow transition-shadow bg-white",children:[(0,Cw.jsx)("div",{className:"mb-2",children:"video"===r&&(e=>/youtu\.be|youtube\.com/.test(e||""))(t.url)&&i(t.url)?(0,Cw.jsx)("div",{className:"aspect-video w-full rounded overflow-hidden",children:(0,Cw.jsx)("iframe",{title:t.title,className:"w-full h-full",src:i(t.url),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):"audio"===r&&/\.(mp3|wav|ogg)(\?.*)?$/i.test(t.url||"")?(0,Cw.jsx)("audio",{controls:!0,className:"w-full",children:(0,Cw.jsx)("source",{src:t.url})}):(0,Cw.jsxs)("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center text-primary-600 hover:underline",children:[(0,Cw.jsx)(rG,{className:"w-4 h-4 mr-1"}),"Open"]})}),(0,Cw.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,Cw.jsxs)("div",{className:"flex-1",children:[(0,Cw.jsx)("p",{className:"font-semibold text-gray-900",children:t.title}),(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:t.description}),(0,Cw.jsxs)("div",{className:"mt-1 inline-flex items-center gap-1 text-xs text-gray-500 capitalize",children:["video"===r?(0,Cw.jsx)(BG,{className:"w-3 h-3"}):"audio"===r?(0,Cw.jsx)(VG,{className:"w-3 h-3"}):(0,Cw.jsx)(Ij,{className:"w-3 h-3"}),(0,Cw.jsx)("span",{children:r})]})]}),n&&(0,Cw.jsx)("div",{className:"w-64",children:f===t.id?(0,Cw.jsxs)("div",{className:"space-y-2",children:[(0,Cw.jsx)("input",{className:"input-field",value:m.title,onChange:e=>y(t=>Re(Re({},t),{},{title:e.target.value}))}),(0,Cw.jsx)("input",{className:"input-field",value:m.url,onChange:e=>y(t=>Re(Re({},t),{},{url:e.target.value}))}),(0,Cw.jsx)("input",{className:"input-field",value:m.description,onChange:e=>y(t=>Re(Re({},t),{},{description:e.target.value}))}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsxs)("button",{onClick:S,className:"btn-primary inline-flex items-center text-sm",children:[(0,Cw.jsx)(AG,{className:"w-4 h-4 mr-1"}),"Save"]}),(0,Cw.jsxs)("button",{onClick:()=>p(null),className:"btn-secondary inline-flex items-center text-sm",children:[(0,Cw.jsx)(Fj,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})]}):(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsxs)("button",{onClick:()=>(e=>{p(e.id),y({title:e.title||"",url:e.url||"",description:e.description||"",type:e.type||"link"})})(t),className:"btn-secondary inline-flex items-center text-sm",children:[(0,Cw.jsx)(AG,{className:"w-4 h-4 mr-1"}),"Edit"]}),(0,Cw.jsxs)("button",{onClick:()=>k(t.id),className:"inline-flex items-center text-sm px-3 py-2 border rounded text-red-700 bg-red-50 border-red-200",children:[(0,Cw.jsx)(dG,{className:"w-4 h-4 mr-1"}),"Delete"]})]})})]})]})};return(0,Cw.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Resources"}),(0,Cw.jsx)("p",{className:"text-gray-600",children:"Browse all resources and manage your own materials."})]}),(0,Cw.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cw.jsxs)("div",{className:"relative",children:[(0,Cw.jsx)(PW,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,Cw.jsx)("input",{value:x,onChange:e=>b(e.target.value),placeholder:"Search...",className:"input-field pl-9 w-56"})]}),(0,Cw.jsxs)("select",{value:w,onChange:e=>j(e.target.value),className:"input-field",children:[(0,Cw.jsx)("option",{value:"all",children:"All Types"}),(0,Cw.jsx)("option",{value:"link",children:"Links"}),(0,Cw.jsx)("option",{value:"video",children:"Videos"}),(0,Cw.jsx)("option",{value:"audio",children:"Audios"}),(0,Cw.jsx)("option",{value:"guide",children:"Guides"})]}),(0,Cw.jsxs)("button",{onClick:()=>u(e=>!e),className:"btn-primary inline-flex items-center",children:[(0,Cw.jsx)($W,{className:"w-4 h-4 mr-1"}),c?"Close":"Add Resource"]})]})]}),(0,Cw.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,Cw.jsx)("button",{onClick:()=>v("all"),className:"px-3 py-1 rounded ".concat("all"===g?"bg-primary-600 text-white":"bg-gray-100 text-gray-700"),children:"All"}),(0,Cw.jsx)("button",{onClick:()=>v("mine"),className:"px-3 py-1 rounded ".concat("mine"===g?"bg-primary-600 text-white":"bg-gray-100 text-gray-700"),children:"Mine"})]}),c&&(0,Cw.jsxs)("div",{className:"card mb-6",children:[(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Title"}),(0,Cw.jsx)("input",{className:"input-field",value:d.title,onChange:e=>h(t=>Re(Re({},t),{},{title:e.target.value}))})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"URL"}),(0,Cw.jsx)("input",{className:"input-field",value:d.url,onChange:e=>h(t=>Re(Re({},t),{},{url:e.target.value})),placeholder:"https://..."})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Type"}),(0,Cw.jsxs)("select",{className:"input-field",value:d.type,onChange:e=>h(t=>Re(Re({},t),{},{type:e.target.value})),children:[(0,Cw.jsx)("option",{value:"link",children:"Link"}),(0,Cw.jsx)("option",{value:"video",children:"Video"}),(0,Cw.jsx)("option",{value:"audio",children:"Audio"}),(0,Cw.jsx)("option",{value:"guide",children:"Guide"})]})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Description"}),(0,Cw.jsx)("input",{className:"input-field",value:d.description,onChange:e=>h(t=>Re(Re({},t),{},{description:e.target.value}))})]})]}),(0,Cw.jsx)("div",{className:"mt-3",children:(0,Cw.jsxs)("button",{onClick:async()=>{if(!d.title||!d.url)return void $t.error("Title and URL are required");const e=await mj(t,d);e.success?($t.success("Resource added"),h({title:"",url:"",description:"",type:"link"}),u(!1),N()):$t.error(e.error||"Failed to add")},className:"btn-primary inline-flex items-center",children:[(0,Cw.jsx)(AG,{className:"w-4 h-4 mr-1"}),"Save"]})}),(0,Cw.jsxs)("div",{className:"mt-4 border-t pt-4",children:[(0,Cw.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Or upload a file (audio/video/other)"}),(0,Cw.jsx)("input",{type:"file",accept:"audio/*,video/*",onChange:async e=>{var n;const r=null===(n=e.target.files)||void 0===n?void 0:n[0];if(!r)return;const i=await yj(t,r);if(i.success){const e=r.type.startsWith("audio")?"audio":r.type.startsWith("video")?"video":"link",n=await mj(t,{title:r.name,url:i.url,description:"",type:e});n.success?($t.success("File uploaded"),N()):$t.error(n.error||"Failed to save item")}else $t.error(i.error||"Upload failed");e.target.value=""}})]})]}),(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"mine"===g?"Your Items":"All Resources"}),s?(0,Cw.jsx)("div",{className:"text-sm text-gray-500",children:"Loading\u2026"}):0===E.length?(0,Cw.jsx)("div",{className:"text-sm text-gray-500",children:"No resources found."}):(0,Cw.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(e=>(0,Cw.jsx)(_,{it:e,editable:"mine"===g&&n.some(t=>t.id===e.id)},"".concat(e.id,"-").concat(g)))})]})]})},qG=()=>{var e;const{user:t}=Pw(),[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)({totalChats:0,rating:0,thisWeekChats:0});(0,r.useEffect)(()=>{if(null===t||void 0===t||!t.uid)return;const e=xj(e=>{const n=e.find(e=>e.userId===t.uid);n&&(i(n),l(n.isOnline||!1),u({totalChats:n.totalChats||0,rating:n.rating||0,thisWeekChats:n.thisWeekChats||0}))});return()=>e()},[null===t||void 0===t?void 0:t.uid]),(0,r.useEffect)(()=>{null!==n&&void 0!==n&&n.id&&o([])},[null===n||void 0===n?void 0:n.id]);return n?(0,Cw.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Cw.jsx)("div",{className:"mb-8",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Volunteer Dashboard"}),(0,Cw.jsxs)("p",{className:"text-gray-600 mt-1",children:["Welcome back, ",n.name]})]}),(0,Cw.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cw.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(s?"bg-green-400":"bg-gray-400")}),(0,Cw.jsx)("span",{className:"text-sm text-gray-600",children:s?"Available":"Offline"})]}),(0,Cw.jsx)("button",{onClick:async()=>{if(null!==n&&void 0!==n&&n.id)try{const e=!s;await async function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{return await Wx(Dv(jw,$w,e),{isOnline:t,isAvailable:n,lastSeen:eb()}),{success:!0}}catch(r){return{success:!1,error:r.message}}}(n.id,e,!0),l(e),$t.success(e?"You are now online and available":"You are now offline")}catch(e){console.error("Error updating status:",e),$t.error("Failed to update status")}},className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(s?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:s?"Go Offline":"Go Online"})]})]})}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center",children:[(0,Cw.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,Cw.jsx)(Aj,{className:"w-6 h-6 text-blue-600"})}),(0,Cw.jsxs)("div",{className:"ml-4",children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Chats"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:c.totalChats})]})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center",children:[(0,Cw.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg",children:(0,Cw.jsx)(GW,{className:"w-6 h-6 text-yellow-600"})}),(0,Cw.jsxs)("div",{className:"ml-4",children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Rating"}),(0,Cw.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[c.rating.toFixed(1)," \u2b50"]})]})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center",children:[(0,Cw.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,Cw.jsx)(Mj,{className:"w-6 h-6 text-green-600"})}),(0,Cw.jsxs)("div",{className:"ml-4",children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:c.thisWeekChats})]})]})}),(0,Cw.jsx)("div",{className:"card",children:(0,Cw.jsxs)("div",{className:"flex items-center",children:[(0,Cw.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,Cw.jsx)(Cj,{className:"w-6 h-6 text-purple-600"})}),(0,Cw.jsxs)("div",{className:"ml-4",children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Chats"}),(0,Cw.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]})]})})]}),(0,Cw.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Cw.jsx)("div",{className:"lg:col-span-1",children:(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Cw.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:(0,Cw.jsx)(Qj,{className:"w-6 h-6 text-purple-600"})}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n.name}),(0,Cw.jsx)("p",{className:"text-sm text-gray-600",children:"Volunteer"})]})]}),(0,Cw.jsxs)("div",{className:"space-y-4",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Specialties"}),(0,Cw.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:null===(e=n.specialties)||void 0===e?void 0:e.map(e=>(0,Cw.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:e},e))})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Experience"}),(0,Cw.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:n.experience})]}),(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Description"}),(0,Cw.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:n.description})]}),n.certifications&&(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Certifications"}),(0,Cw.jsx)("ul",{className:"text-sm text-gray-900 mt-1 space-y-1",children:n.certifications.map((e,t)=>(0,Cw.jsxs)("li",{className:"flex items-center",children:[(0,Cw.jsx)($j,{className:"w-4 h-4 text-green-500 mr-2"}),e]},t))})]}),(0,Cw.jsxs)("button",{className:"btn-secondary w-full flex items-center justify-center space-x-2",children:[(0,Cw.jsx)(Dj,{className:"w-4 h-4"}),(0,Cw.jsx)("span",{children:"Edit Profile"})]})]})]})}),(0,Cw.jsx)("div",{className:"lg:col-span-2",children:(0,Cw.jsxs)("div",{className:"card",children:[(0,Cw.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Active Chats"}),0===a.length?(0,Cw.jsxs)("div",{className:"text-center py-8",children:[(0,Cw.jsx)(Aj,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,Cw.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Chats"}),(0,Cw.jsx)("p",{className:"text-gray-600",children:s?"You're online and ready to help students. Chats will appear here when students connect with you.":"Go online to start accepting chat requests from students who need support."})]}):(0,Cw.jsx)("div",{className:"space-y-4",children:a.map(e=>{var t,n;return(0,Cw.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:(0,Cw.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cw.jsxs)("div",{children:[(0,Cw.jsx)("h4",{className:"font-medium text-gray-900",children:e.studentAlias}),(0,Cw.jsxs)("p",{className:"text-sm text-gray-600",children:["Started ",null===(t=e.createdAt)||void 0===t||null===(n=t.toDate())||void 0===n?void 0:n.toLocaleTimeString()]})]}),(0,Cw.jsx)("button",{className:"btn-primary text-sm",children:"Continue Chat"})]})},e.id)})})]})})]})]}):(0,Cw.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Cw.jsxs)("div",{className:"text-center",children:[(0,Cw.jsx)(Qj,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Cw.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Volunteer Profile Not Found"}),(0,Cw.jsx)("p",{className:"text-gray-600 mb-6",children:"Your volunteer profile hasn't been set up yet. Please contact an administrator to get started."}),(0,Cw.jsx)("button",{className:"btn-primary",children:"Contact Support"})]})})},HG=[{userId:"volunteer_1",name:"Alex Chen",email:"alex.chen@university.edu",specialties:["Anxiety","Academic Stress"],description:"Specializes in helping students with anxiety and academic pressure. Always here to listen.",experience:"2 years",certifications:["Mental Health First Aid","Peer Support Certification"]},{userId:"volunteer_2",name:"Sam Rodriguez",email:"sam.rodriguez@university.edu",specialties:["Depression","Relationships"],description:"Experienced in supporting students through depression and relationship challenges.",experience:"1.5 years",certifications:["Crisis Intervention","Active Listening"]},{userId:"volunteer_3",name:"Jordan Kim",email:"jordan.kim@university.edu",specialties:["Self-Harm","Crisis Support"],description:"Crisis intervention specialist. Trained in helping students with self-harm thoughts.",experience:"3 years",certifications:["Crisis Intervention","Suicide Prevention","Mental Health First Aid"]},{userId:"volunteer_4",name:"Casey Taylor",email:"casey.taylor@university.edu",specialties:["Sleep Issues","Stress Management"],description:"Helps students develop healthy sleep patterns and stress management techniques.",experience:"1 year",certifications:["Stress Management","Sleep Hygiene Counseling"]},{userId:"volunteer_5",name:"Morgan Lee",email:"morgan.lee@university.edu",specialties:["LGBTQ+ Support","Identity Issues"],description:"Peer support specialist for LGBTQ+ students and identity-related concerns.",experience:"2.5 years",certifications:["LGBTQ+ Peer Support","Cultural Competency"]}],WG=async()=>{try{console.log("Initializing sample volunteers...");for(const e of HG){const t=await vj(e);t.success?console.log("Created volunteer: ".concat(e.name)):console.error("Failed to create volunteer ".concat(e.name,":"),t.error)}return console.log("Volunteer initialization completed"),{success:!0}}catch(e){return console.error("Error initializing volunteers:",e),{success:!1,error:e.message}}};window.initializeVolunteers=WG;const GG=e=>{let{children:t,allowedRoles:n=[]}=e;const{user:r,userData:i,loading:a,emailVerified:o}=Pw();return a?(0,Cw.jsx)(Gj,{}):r?n.length>0&&!n.includes(null===i||void 0===i?void 0:i.role)?(0,Cw.jsx)(Yj,{}):"student"!==(null===i||void 0===i?void 0:i.role)||o?t:(0,Cw.jsx)(pe,{to:"/verify",replace:!0}):(0,Cw.jsx)(pe,{to:"/login",replace:!0})},KG=()=>{const{user:e,userData:t,loading:n}=Pw();if(n)return(0,Cw.jsx)(Gj,{});if(!e)return(0,Cw.jsx)(Jj,{});const r=null===t||void 0===t?void 0:t.role;return"admin"===r?(0,Cw.jsx)(pe,{to:"/admin",replace:!0}):"counsellor"===r?(0,Cw.jsx)(pe,{to:"/counsellor",replace:!0}):"volunteer"===r?(0,Cw.jsx)(pe,{to:"/volunteer",replace:!0}):(0,Cw.jsx)(pe,{to:"/dashboard",replace:!0})},YG=()=>{const{user:e,loading:t}=Pw();return t?(0,Cw.jsx)(Gj,{}):(0,Cw.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,Cw.jsx)(Bj,{}),(0,Cw.jsx)("main",{className:"flex-1",children:(0,Cw.jsxs)(ge,{children:[(0,Cw.jsx)(me,{path:"/",element:(0,Cw.jsx)(KG,{})}),(0,Cw.jsx)(me,{path:"/verify",element:(0,Cw.jsx)(TS,{})}),(0,Cw.jsx)(me,{path:"#/login",element:e?(0,Cw.jsx)(KG,{}):(0,Cw.jsx)(ES,{})}),(0,Cw.jsx)(me,{path:"#/register",element:e?(0,Cw.jsx)(KG,{}):(0,Cw.jsx)(_S,{})}),(0,Cw.jsx)(me,{path:"#/forgot-password",element:e?(0,Cw.jsx)(KG,{}):(0,Cw.jsx)(AS,{})}),(0,Cw.jsx)(me,{path:"#/dashboard",element:(0,Cw.jsx)(GG,{allowedRoles:["student"],children:(0,Cw.jsx)(OW,{})})}),(0,Cw.jsx)(me,{path:"#/chatbot",element:(0,Cw.jsx)(GG,{allowedRoles:["student"],children:(0,Cw.jsx)(IW,{})})}),(0,Cw.jsx)(me,{path:"#/chat",element:(0,Cw.jsx)(GG,{allowedRoles:["student"],children:(0,Cw.jsx)(YW,{})})}),(0,Cw.jsx)(me,{path:"#/booking",element:(0,Cw.jsx)(GG,{allowedRoles:["student"],children:(0,Cw.jsx)(XW,{})})}),(0,Cw.jsx)(me,{path:"#/forum",element:(0,Cw.jsx)(GG,{allowedRoles:["student"],children:(0,Cw.jsx)(eG,{})})}),(0,Cw.jsx)(me,{path:"#/resources",element:(0,Cw.jsx)(GG,{allowedRoles:["student","counsellor","admin"],children:(0,Cw.jsx)(aG,{})})}),(0,Cw.jsx)(me,{path:"#/journal",element:(0,Cw.jsx)(GG,{allowedRoles:["student"],children:(0,Cw.jsx)(fG,{})})}),(0,Cw.jsx)(me,{path:"#/assessment",element:(0,Cw.jsx)(GG,{allowedRoles:["student"],children:(0,Cw.jsx)(SG,{})})}),(0,Cw.jsx)(me,{path:"#/admin",element:(0,Cw.jsx)(GG,{allowedRoles:["admin"],children:(0,Cw.jsx)(kG,{})})}),(0,Cw.jsx)(me,{path:"#/admin/counsellors",element:(0,Cw.jsx)(GG,{allowedRoles:["admin"],children:(0,Cw.jsx)(OG,{})})}),(0,Cw.jsx)(me,{path:"#/counsellor",element:(0,Cw.jsx)(GG,{allowedRoles:["counsellor","admin"],children:(0,Cw.jsx)(PG,{})})}),(0,Cw.jsx)(me,{path:"#/counsellor/bookings",element:(0,Cw.jsx)(GG,{allowedRoles:["counsellor","admin"],children:(0,Cw.jsx)(LG,{})})}),(0,Cw.jsx)(me,{path:"#/counsellor/availability",element:(0,Cw.jsx)(GG,{allowedRoles:["counsellor","admin"],children:(0,Cw.jsx)(UG,{})})}),(0,Cw.jsx)(me,{path:"#/counsellor/resources",element:(0,Cw.jsx)(GG,{allowedRoles:["counsellor","admin"],children:(0,Cw.jsx)(zG,{})})}),(0,Cw.jsx)(me,{path:"#/volunteer",element:(0,Cw.jsx)(GG,{allowedRoles:["volunteer","admin"],children:(0,Cw.jsx)(qG,{})})}),(0,Cw.jsx)(me,{path:"*",element:(0,Cw.jsx)(pe,{to:"#/",replace:!0})})]})}),(0,Cw.jsx)(Hj,{}),(0,Cw.jsx)(Xt,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})},QG=()=>(r.useEffect(()=>{window.initializeVolunteers=WG},[]),(0,Cw.jsx)(ke,{basename:"/MINDLY",children:(0,Cw.jsx)(Mw,{children:(0,Cw.jsx)(jj,{children:(0,Cw.jsx)(YG,{})})})}));a.createRoot(document.getElementById("root")).render((0,Cw.jsx)(r.StrictMode,{children:(0,Cw.jsx)(QG,{})}))})()})();
//# sourceMappingURL=main.f848e2b5.js.map